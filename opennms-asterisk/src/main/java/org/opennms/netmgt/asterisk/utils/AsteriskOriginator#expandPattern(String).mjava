    private String expandPattern(String pattern) {
        log().debug("Expanding pattern " + pattern);
        String expanded = AsteriskUtils.expandPattern(pattern);
        
        // Further expand AsteriskOriginator-specific tokens
        Properties props = new Properties();
        props.put("exten", getLegAExtension());
        expanded = PropertiesUtils.substitute(expanded, props);
        log().debug("Expanded pattern is: " + expanded);
        return expanded;
    }

