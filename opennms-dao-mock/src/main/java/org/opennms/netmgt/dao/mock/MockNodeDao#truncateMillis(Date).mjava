    private static long truncateMillis(final Date date) {
        return date == null ? 0 : (1000 * (date.getTime() / 1000));
    }

