    @Override
    public Collection<OnmsLocationMonitor> findByApplication(final OnmsApplication application) {
        /*
         *         return findObjects(OnmsLocationMonitor.class, "select distinct l from OnmsLocationSpecificStatus as status " +
                        "join status.monitoredService as m " +
                        "join m.applications a " +
                        "join status.locationMonitor as l " +
                        "where a = ? and status.id in ( " +
                    "select max(s.id) from OnmsLocationSpecificStatus as s " +
                    "group by s.locationMonitor, s.monitoredService " +
                ")", application);

         */
        final Set<OnmsLocationMonitor> monitors = new HashSet<>();
        for (final OnmsLocationSpecificStatus stat : getAllMostRecentStatusChanges()) {
            if (stat.getMonitoredService().getApplications().contains(application)) {
                monitors.add(stat.getLocationMonitor());
            }
        }
        return monitors;
    }

