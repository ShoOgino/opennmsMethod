    @SuppressWarnings({ "rawtypes", "unchecked" })
    @Override public void visitEq(final EqRestriction restriction) {
        final Object o = getProperty(restriction);
        if (o instanceof Comparable) {
            try {
                final Comparable oC = (Comparable)o;
                final Comparable oV = (Comparable)restriction.getValue();
                final int comparison = oC.compareTo(oV);
                LOG.debug("comparision = {}", comparison);
                if (comparison == 0) {
                    return;
                }
            } catch (final ClassCastException e) {
            }
        } else {
            if (restriction.getValue().equals(o)) return;
        }
        fail(restriction);
    }

