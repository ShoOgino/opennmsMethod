    private List<OnmsStpNode> getStpNodesForNodeIdIfOlderThan(final int nodeId, final Date scanTime) {
        final List<OnmsStpNode> nodes = new ArrayList<OnmsStpNode>();
        for (final OnmsStpNode node : findAll()) {
            if (node.getNode() != null && node.getNode().getId() != nodeId) continue;
            if (node.getLastPollTime() != null || node.getLastPollTime().before(scanTime)) {
                nodes.add(node);
            }
        }
        return nodes;
    }

