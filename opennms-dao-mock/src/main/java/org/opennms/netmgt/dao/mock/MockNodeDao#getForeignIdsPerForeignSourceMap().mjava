    @Override
    public Map<String, Set<String>> getForeignIdsPerForeignSourceMap() {
        Map<String, Set<String>> map = new TreeMap<String,Set<String>>();
        for (final OnmsNode node : findAll()) {
            if (node.getForeignSource() != null) {
                final String foreignSource = node.getForeignSource();
                final String foreignId = node.getForeignId();
                if (!map.containsKey(foreignSource)) {
                    map.put(foreignSource, new TreeSet<String>());
                }
                map.get(foreignSource).add(foreignId);
            }
        }
        return map;
    }

