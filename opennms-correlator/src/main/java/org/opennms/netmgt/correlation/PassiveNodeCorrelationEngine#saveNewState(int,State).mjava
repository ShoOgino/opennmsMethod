	private void saveNewState(int nodeId, State newState) {
		if (newState.isEndState()) {
			m_stateKeeper.removeStateForNode(nodeId);
		} else {
			m_stateKeeper.setStateForNode(nodeId, newState);
		}
	}

