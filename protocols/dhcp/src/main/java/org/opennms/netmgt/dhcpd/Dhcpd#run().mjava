    /**
     * The main routine of the DHCP server. This method accepts incoming client
     * requests and starts new client handlers to process each request.
     */
    @Override
    public void run() {
        
        try {
            waitForStatus(RUNNING);
        } catch (InterruptedException e1) {
            // ignore
        }
        
        log().debug("run: DHCPD client daemon running...");
        
        /*
         * Begin accepting connections from clients
         * For each new client create new DHCP Client Handler
         * thread to handle the client's requests.
         */
        try {
            m_server.setSoTimeout(1000); // Wake up every second to check the
                                            // status

            for (;;) {
                synchronized (this) {
                    if (isPaused()) {
                        try {
                            waitForStatus(RUNNING);
                        } catch (InterruptedException e) {
                            // ignore
                        }
                    } else if (!isRunning()) {
                        break;
                    }
                }

                Socket sock;
                try {
                    sock = m_server.accept();
                } catch (InterruptedIOException iE) {
                    continue;
                }

                // Add the client's new socket connection to the client list
                log().debug("run: got connection request...creating client handler...");

                try {
                    Client clnt = new Client(sock);
                    m_clients.add(clnt);
                    clnt.addObserver(this);
                    clnt.start();
                } catch (IOException ioE) {
                    log().error("I/O exception occured creating client handler.", ioE);
                }
            }
        } catch (IOException ioE) {
            log().error("I/O exception occured processing incoming request", ioE);
        } catch (Throwable t) {
            log().error("An undeclared throwable was caught", t);
        } finally {
            log().debug("run: DHCPD client daemon run completed setting status to stopped");
        }

    }

