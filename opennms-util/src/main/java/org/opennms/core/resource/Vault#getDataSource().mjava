    /**
     * <p>getDataSource</p>
     *
     * @return a {@link javax.sql.DataSource} object.
     */
    public static DataSource getDataSource() {
        if (s_dataSource == null) {
            // A solution to Bug 4117 requires that "Vault" tries to get a DataSource instance by itself in order to use "IfLabel"
            s_dataSource = DataSourceFactory.getInstance();
        }
        if (s_dataSource == null) {
            throw new IllegalStateException("You must set a DataSource before requesting a data source or a database connection.");
        }
        
        return s_dataSource;
    }

