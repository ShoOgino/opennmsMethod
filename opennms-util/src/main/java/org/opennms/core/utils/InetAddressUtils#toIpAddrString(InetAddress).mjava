    /**
     * <p>toIpAddrString</p>
     *
     * @param addr IP address
     * @return a {@link java.lang.String} object.
     */
    public static String toIpAddrString(InetAddress addr) {
        if (addr instanceof Inet4Address) {
            return toIpAddrString(addr.getAddress());
        } else if (addr instanceof Inet6Address) {
            Inet6Address addr6 = (Inet6Address)addr;
            if (addr6.getScopeId() == 0) {
                return toIpAddrString(addr.getAddress());
            } else {
                return toIpAddrString(addr.getAddress()) + "%" + addr6.getScopeId();
            }
        } else {
            throw new IllegalArgumentException("Unknown type of InetAddress: " + addr.getClass().getName());
        }
    }

