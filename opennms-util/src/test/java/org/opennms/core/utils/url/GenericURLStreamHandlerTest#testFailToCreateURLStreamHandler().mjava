    /**
     * Test should expect a NoSuchMethodException and this exception is thrown. I don't know why this test will not work.
     *
     * TODO indigo: Fix this test to verify NoSuchMethodException
     *
     * java.lang.AssertionError: Expected exception: java.lang.NoSuchMethodException
     * java.lang.NoSuchMethodException: org.opennms.core.utils.url.ProtectedStubGenericURLConnection.<init>(java.net.URL)
     *
     */
    @Ignore
    @Test(expected = NoSuchMethodException.class)
    public void testFailToCreateURLStreamHandler() {
        URL testUrl = null;
        try {
            testUrl = new URL("http://myhost");
        } catch (MalformedURLException e) {
            Assert.fail("Test URL in testCreateURLStreamHandler test is incorrect. Error message: " + e.getMessage());
        }

        try {
           Class c = Class.forName("org.opennms.core.utils.url.ProtectedStubGenericURLConnection");
           m_generGenericURLStreamHandler = new GenericURLStreamHandler(c);
           m_generGenericURLStreamHandler.openConnection(testUrl);
        } catch (ClassNotFoundException e1) {
            Assert.fail("Class with protected constructor not found. Error message: " + e1.getMessage());
        } catch (IOException e2) {
            Assert.fail("Could not open connection. Error message: " + e2.getMessage());
        }
    }

