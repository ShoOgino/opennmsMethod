    /**
     * @param localhost
     * @param i
     * @param string
     * @return
     * @throws IOException 
     */
    private Variable get(InetAddress localhost, int port, OID oid) throws Exception {

        TransportMapping transport = new DefaultUdpTransportMapping();
        Snmp session = new Snmp(transport);
        session.listen();

        Target target = new CommunityTarget(new UdpAddress(localhost, port), new OctetString("public"));
        target.setTimeout(1000);
        target.setRetries(3);
        target.setVersion(SnmpConstants.version2c);
        
        PDU pdu = new PDU();
        pdu.setType(PDU.GET);
        pdu.addOID(new VariableBinding(oid));
        
        ResponseEvent e = session.get(pdu, target);
        
        PDU response = e.getResponse();
        if (response == null) {
            if (e.getError() != null) { 
                throw e.getError();
            } else {
                throw new TimeoutException("Snmp Timed out to "+target);
            }

        }
        
        assertEquals(oid, response.get(0).getOid());

        return response.get(0).getVariable();
        
    }

