	public void testBuiltCalendarReport () {
								
		Calendar calendar = new GregorianCalendar(2005,4,20);
		long oneHundred = 100;
		Day day;
		Report report = buildReport(calendar,"calendar");
		Categories categories = report.getCategories();
		Category category = categories.getCategory(0);
		assertNotNull(report.getCategories());
		
		assertEquals(1,categories.getCategoryCount());
		
		assertEquals(2,category.getNodeCount());
		assertEquals(3,category.getIpaddrCount());
		assertEquals(3,category.getServiceCount());
		
		
		Section calSection = getSectionByName(category,"LastMonthsDailyAvailability");
		
		// First four days in month are invisible for US...
		
		day = getCalSectionDay(category,"LastMonthsDailyAvailability",0,0);
		assertFalse(day.getVisible());
		day = getCalSectionDay(category,"LastMonthsDailyAvailability",0,1);
		assertFalse(day.getVisible());
		day = getCalSectionDay(category,"LastMonthsDailyAvailability",0,2);
		assertFalse(day.getVisible());
		day = getCalSectionDay(category,"LastMonthsDailyAvailability",0,4);
		assertFalse(day.getVisible());
		
		day = getCalSectionDay(category,"LastMonthsDailyAvailability",0,5);
		assertEquals(oneHundred, day.getPctValue(), 0);
		assertTrue(day.getVisible());
		assertEquals(1,day.getDate());
		
		day = getCalSectionDay(category,"LastMonthsDailyAvailability",0,6);
		assertEquals(99.3056, fourDec(day.getPctValue()), 0);
		assertTrue(day.getVisible());
		assertEquals(2,day.getDate());
		
		day = getCalSectionDay(category,"LastMonthsDailyAvailability",1,0);
		assertEquals(97.2454, fourDec(day.getPctValue()), 0);
		assertTrue(day.getVisible());
		assertEquals(3,day.getDate());
		
		day = getCalSectionDay(category,"LastMonthsDailyAvailability",1,1);
		assertEquals(99.3059, fourDec(day.getPctValue()), 0);
		assertTrue(day.getVisible());
		assertEquals(4,day.getDate());
		
		day = getCalSectionDay(category,"LastMonthsDailyAvailability",1,2);
		assertEquals(99.3052, fourDec(day.getPctValue()), 0);
		assertTrue(day.getVisible());
		assertEquals(5,day.getDate());
		
	}

