    /**
     * <p>writeXML</p>
     *
     * @throws org.opennms.report.inventory.InventoryCalculationException if any.
     */
    public void writeXML() throws InventoryCalculationException {
        try {
            log().debug("Writing the XML");
            SimpleDateFormat fmt = new SimpleDateFormat("yyyyMMddHHmmss");
            String datestamp = fmt.format(reportRequestDate);
            m_outputFileName = "/NODEINVENTORY" + datestamp + ".xml";


            // Create a file name of type Category-monthFormat-startDate.xml
            log().debug("Report Store XML file: " + m_outputFileName);
            File reportFile = new File(m_baseDir, m_outputFileName);
            // marshal the XML into the file.
            marshal(reportFile);
        } catch (InventoryCalculationException e) {
            log().fatal("Unable to marshal report as XML");
            throw new InventoryCalculationException(e);
        }
    }

