    public void testGetNextWithGenErrV1() {
        m_agent.setBehaviorToV1();
        
        //m_agent.setAgentValue(SnmpObjId.get(zeroInst1Base, "1"), new RuntimeException());
        m_agent.introduceGenErr(SnmpObjId.get(zeroInst1Base, "1"));

        NextPdu get = TestPdu.getNext();
        
        get.addVarBind(zeroInst1Base);
        get.addVarBind(zeroInst1Base, 0);
        get.addVarBind(zeroInst2Base);
        
        ResponsePdu resp = m_agent.send(get);
        
        assertEquals(ResponsePdu.GEN_ERR, resp.getErrorStatus());
        assertEquals(2, resp.getErrorIndex());
    }

