    /**
     * Converts a textual object identifier to an array of integer values.
     * 
     * @param idstr
     *            An object identifier string
     * 
     * @return Returns an array of integers converted from the string. If an
     *         error occurs then a null is returned.
     */
    private static int[] convert(String idstr) {
        //
        // ids is the counter
        // idArray is the array of characters
        //
        int numIds = 0;
        char[] idArray = idstr.toCharArray();

        //
        // if the length is equal to zero then
        // the number of ids is equal to zero :)
        //
        if (idArray.length == 0) {
            int[] tmp = new int[2];
            tmp[0] = tmp[1] = 0;
            return tmp;
        }

        //
        // if the object string does not start
        // with a dot then we need to increment
        // the id count
        //
        if (idArray[0] != '.')
            numIds++;

        //
        // count the number of objects
        //
        int x = 0;
        while (x < idArray.length) {
            if (idArray[x++] == '.')
                ++numIds;
        }

        //
        // check for bad strings
        //
        if (numIds == 0) {
            int[] tmp = new int[2];
            tmp[0] = tmp[1] = 0;
            return tmp;
        }

        //
        // get an array to store objects into
        //
        int[] objects = new int[numIds];
        int objectsNdx = 0; // reset the ids counter
        int idArrayNdx = 0; // set the objects ndx counter

        //
        // if the string begins with a dot(.) then
        // increment the ndx
        //
        if (idArray[0] == '.')
            ++idArrayNdx;

        //
        // create an object id variable and
        // set it equal to zero
        //
        int oid = 0;
        while (idArrayNdx < idArray.length) {
            //
            // if there is a dot(.) then
            // store the id
            //
            if (idArray[idArrayNdx] == '.') {
                objects[objectsNdx++] = oid;
                oid = 0;
            } else {
                //
                // multiply the object id by 10
                //
                oid *= 10;
                switch (idArray[idArrayNdx]) {
                case '1':
                    oid += 1;
                    break;
                case '2':
                    oid += 2;
                    break;
                case '3':
                    oid += 3;
                    break;
                case '4':
                    oid += 4;
                    break;
                case '5':
                    oid += 5;
                    break;
                case '6':
                    oid += 6;
                    break;
                case '7':
                    oid += 7;
                    break;
                case '8':
                    oid += 8;
                    break;
                case '9':
                    oid += 9;
                    break;
                }
            }
            ++idArrayNdx;
        }

        //
        // save the last object id
        //
        objects[objectsNdx++] = oid;
        return objects;
    }

