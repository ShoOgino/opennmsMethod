    /**
     * Used to copy data from one buffer to another. The method has the
     * flexability to allow the caller to specify an offset in each buffer and
     * the total number of bytes to copy
     * 
     * @param src
     *            The source buffer
     * @param srcOff
     *            The offset of the first byte in the source buffer
     * @param dest
     *            The destination buffer
     * @param destOff
     *            The offset of the first byte in the destination buffer
     * @param bytesToCopy
     *            The number of bytes to copy
     * 
     * @exception ArrayIndexOutOfBoundsException
     *                Thrown if there is insufficent space in either array to
     *                copy the data.
     * 
     */
    protected static void copy(byte[] src, int srcOff, byte[] dest, int destOff, int bytesToCopy) throws ArrayIndexOutOfBoundsException {
        if ((dest.length - destOff) < bytesToCopy || (src.length - srcOff) < bytesToCopy)
            throw new ArrayIndexOutOfBoundsException("Destination or source buffer is insufficent");

        for (int x = bytesToCopy - 1; x >= 0; x--) {
            dest[destOff + x] = src[srcOff + x];
        }
    }

