    /**
     * Constructs the SnmpSession with the specific SnmpPeer.
     * 
     * @param peer
     *            The SnmpPeer used to configure this session
     * 
     * @see SnmpPeer
     * 
     * @exception java.net.SocketException
     *                If thrown it is from the creation of a DatagramSocket.
     * 
     */
    public SnmpSession(SnmpPeer peer) throws SocketException {
        m_requests = new LinkedList<SnmpRequest>();
        m_timer = new SnmpTimer();
        m_defHandler = null;

        m_sync = new Object();
        m_stopRun = false;

        m_encoder = peer.getParameters().getEncoder();
        m_portal = new SnmpPortal(new SessionHandler(), m_encoder, peer.getServerPort());

        m_threadException = false;
        m_why = null;

        m_peer = peer;

        m_timer.schedule(new CleanupRequest(), 5000);
    }

