    /**
     * Creates an SNMP4J PDU based on the SNMP4J version constants.
     * A v3 request requires a ScopedPDU.
     * 
     * @param type
     * @return
     */
    public PDU createPdu(int type) {
        PDU pdu;
        
        switch (getVersion()) {
        case SnmpConstants.version3:
            pdu = new ScopedPDU();
        default:
            pdu = new PDU();
        }
        
        pdu.setType(type);
        
        return pdu;
    }

