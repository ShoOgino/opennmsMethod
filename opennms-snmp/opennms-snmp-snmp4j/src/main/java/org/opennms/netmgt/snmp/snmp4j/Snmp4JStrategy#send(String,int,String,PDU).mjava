    public static void send(String agentAddress, int port, String community, PDU pdu) throws Exception {
        
        Snmp snmp = getSession();
        
        Address targetAddress = GenericAddress.parse("udp:"+agentAddress+"/"+port);
        CommunityTarget target = new CommunityTarget(targetAddress, new OctetString(community.getBytes()));
        target.setVersion(pdu instanceof PDUv1 ? SnmpConstants.version1 : SnmpConstants.version2c);
        
        snmp.send(pdu, target);
    }

