    protected void updateScheduledOutages() {
        synchronized (m_scheduledOutages) {
            m_scheduledOutages.clear();
            ThreshdConfigManager configManager = ThreshdConfigFactory.getInstance();
            for (org.opennms.netmgt.config.threshd.Package pkg : configManager.getConfiguration().getPackage()) {
                for (String outageCal : pkg.getOutageCalendarCollection()) {
                    log().info("updateScheduledOutages[node=" + m_nodeId + "]: checking scheduled outage '" + outageCal + "'");
                    try {
                        Outage outage = PollOutagesConfigFactory.getInstance().getOutage(outageCal);
                        if (outage == null) {
                            log().info("updateScheduledOutages[node=" + m_nodeId + "]: scheduled outage '" + outageCal + "' is not defined.");
                        } else {
                            log().debug("updateScheduledOutages[node=" + m_nodeId + "]: outage calendar '" + outage.getName() + "' found on package '" + pkg.getName() + "'");
                            m_scheduledOutages.add(outageCal);
                        }
                    } catch (Exception e) {
                        log().info("updateScheduledOutages[node=" + m_nodeId + "]: scheduled outage '" + outageCal + "' does not exist.");                    
                    }
                }
            }
        }
    }

