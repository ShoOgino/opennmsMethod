    /**
     * When called, we're starting a new resource.  Clears out any stored attribute values from previous resource visits
     */
    public void visitResource(CollectionResource resource) {
        //Should only refresh our thresholds when we start checking a new collection; do the check now
        if(m_needsRefresh) {
            log().debug(this+" needs refresh of state; refreshing now");
            m_thresholdGroup=s_thresholdsDao.get(m_groupName);
            if(m_thresholdGroup==null) {
                log().error("Could not get threshold group with name " + m_groupName);
            }
            m_needsRefresh=false;
            if (log().isDebugEnabled()) {
            	StringBuffer resDebugMsg = new StringBuffer("Resource types after refresh are [");
            	resDebugMsg.append("node: { ");
	            if (m_thresholdGroup.getNodeResourceType() != null) {
	            	resDebugMsg.append(m_thresholdGroup.getNodeResourceType());
	            }
	            resDebugMsg.append(" }; iface: { ");
	            if (m_thresholdGroup.getIfResourceType() != null) {
	            	resDebugMsg.append(m_thresholdGroup.getIfResourceType());
	            }
	            resDebugMsg.append(" }; generic: { ");
	            if (m_thresholdGroup.getGenericResourceTypeMap() != null) {
	            	for (String rType : m_thresholdGroup.getGenericResourceTypeMap().keySet()) {
	            		resDebugMsg.append(rType + " ");
	            	}
	            }
	            resDebugMsg.append(" } ]");
	            log().debug(resDebugMsg.toString());
            }
        }
        m_numericAttributeValues=new HashMap<String,Double>();
        m_stringAttributeValues=new HashMap<String, String>();
    }

