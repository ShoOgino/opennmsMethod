    private ThresholdEvaluator getEvaluatorForThreshold(Threshold threshold) {
        for (ThresholdEvaluator evaluator : getThresholdEvaluators()) {
            if (evaluator.supportsType(threshold.getType())) {
                return evaluator;
            }
        }

        String message = "Threshold type '" + threshold.getType().toString() + "' for datasource " + threshold.getDsName() + " is not supported"; 
        log().warn(message);
        throw new IllegalArgumentException(message);
    }

