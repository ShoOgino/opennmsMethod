    /**
     * Process the event.
     * 
     * This event is generated when the threshold configuration files are modified.
     * In this situation the ThresholdableService object
     * representing the primary SNMP interface of the node must be
     * reinitialized.
     * 
     * The ThresholdableService object associated with the primary SNMP
     * interface for the node will be marked for reinitialization.
     * Reinitializing the ThresholdableService object consists of calling the
     * ServiceThresholder.release() method followed by the
     * ServiceThresholder.initialize() method which will refresh various attributes
     * 
     * Reinitialization will take place the next time the ThresholdableService
     * is popped from an interval queue for thresholding.
     * 
     * If any errors occur scheduling the service no error is returned.
     * 
     * @param event
     *            The event to process.
     */
    private void thresholdConfigurationChangedHandler(Event event) {
        Category log = ThreadCategory.getInstance(getClass());
        //Force a reload of the configuration, then tell the thresholders to reinitialize
        try {
            ThresholdingConfigFactory.reload();
        } catch (Exception e) {
            log.error("thresholdConfigurationChangedHandler: Failed to reload threshold configuration because "+e.getMessage(), e);
            return; //Do nothing else - the config is borked, so we carry on with what we've got which should still be relatively ok
        }
        //Tell the service thresholders to reinit 
        m_threshd.reinitializeThresholders();
        
       //Mark *all* thresholdable Services for reinit (very similar to reinitializePrimarySnmpInterfaceHandler but without the interface check)
        synchronized (m_thresholdableServices) {
            Iterator iter = m_thresholdableServices.iterator();
            while (iter.hasNext()) {
                ThresholdableService tSvc = (ThresholdableService) iter.next();

                InetAddress addr = (InetAddress) tSvc.getAddress();
                synchronized (tSvc) {
                    ThresholderUpdates updates = tSvc.getThresholderUpdates();
                    updates.markForReinitialization();
                    if (log.isDebugEnabled())
                        log.debug("thresholdConfigurationChangedHandler: marking " + addr.getHostAddress() + " for reinitialization for service SNMP.");
                }
            }
        }
    }

