    @Override
    public double evaluate(Map<String, Double> values) throws ThresholdExpressionException {
        for(String valueName : values.keySet()) {
            m_parser.addVariable(valueName, values.get(valueName));
        }
        double result=m_parser.getValue();
        if(m_parser.hasError()) {
            throw new ThresholdExpressionException("Error while evaluating expression "+m_expression.getExpression()+": "+m_parser.getErrorInfo());
        }
        return result;
    }

