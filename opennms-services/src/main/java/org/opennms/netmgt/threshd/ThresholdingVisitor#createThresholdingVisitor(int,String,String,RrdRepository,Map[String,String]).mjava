    public static ThresholdingVisitor createThresholdingVisitor(final int nodeId, final String hostAddress, final String serviceName, final RrdRepository repo, final Map<String,String> params) {
        Category log = ThreadCategory.getInstance(ThresholdingVisitor.class);

        // Use the "thresholding-enable" to use Thresholds processing on Collectd
        String enabled = params.get("thresholding-enabled");
        if (enabled == null || !enabled.equals("true")) {
            log.info("createThresholdingVisitor: Thresholds processing is not enabled. Check thresholding-enabled param on collectd package");
            return null;
        }

        ThresholdingVisitor visitor = new ThresholdingVisitor(nodeId, hostAddress, serviceName, repo);
        visitor.buildThresholdGroupList();

        // Create ThresholdingVisitor is groupNameList is not empty
        if (visitor.m_groupNameList == null || visitor.m_groupNameList.isEmpty()) {
            log.warn("createThresholdingVisitor: Can't create ThresholdingVisitor for " + hostAddress + "/" + serviceName);
            return null;
        }

        return visitor;
    }

