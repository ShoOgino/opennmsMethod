    /**
     * <p>getResourceId</p>
     * <p>Inspired by DefaultKscReportService</p>
     * 
     * @return a {@link java.lang.String} object.
     */
    public String getResourceId() {
        String resourceType  = getResourceTypeName();
        String resourceLabel = getInstanceLabel();
        if ("node".equals(resourceType)) {
            resourceType  = "nodeSnmp";
            resourceLabel = "";
        }
        if ("if".equals(resourceType)) {
            resourceType = "interfaceSnmp";
        }
        String parentResourceTypeName = "node";
        String parentResourceName = Integer.toString(getNodeId());
        // I can't find a better way to deal with this when storeByForeignSource is enabled        
        if (m_resource != null && m_resource.getParent() != null && m_resource.getParent().startsWith(DefaultResourceDao.FOREIGN_SOURCE_DIRECTORY)) {
            String[] parts = m_resource.getParent().split(File.separator);
            if (parts.length == 3) {
                parentResourceTypeName = "nodeSource";
                parentResourceName = parts[1] + ":" + parts[2];
            }
        }
        return OnmsResource.createResourceId(parentResourceTypeName, parentResourceName, resourceType, resourceLabel);
    }

