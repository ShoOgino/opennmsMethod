    /**
     * <p>getResourceId</p>
     * <p>Inspired by DefaultKscReportService</p>
     * 
     * @return a {@link java.lang.String} object.
     */
    public String getResourceId() {
        String resourceType  = getResourceTypeName();
        String resourceLabel = getInstanceLabel();
        if (CollectionResource.RESOURCE_TYPE_NODE.equals(resourceType)) {
            resourceType  = "nodeSnmp";
            resourceLabel = "";
        }
        if (CollectionResource.RESOURCE_TYPE_IF.equals(resourceType)) {
            resourceType = "interfaceSnmp";
        }
        String parentResourceTypeName = CollectionResource.RESOURCE_TYPE_NODE;
        String parentResourceName = Integer.toString(getNodeId());
        // I can't find a better way to deal with this when storeByForeignSource is enabled        
        if (m_resource != null && m_resource.getParent() != null && m_resource.getParent().toString().startsWith(ResourceTypeUtils.FOREIGN_SOURCE_DIRECTORY)) {
            // If separatorChar is backslash (like on Windows) use a double-escaped backslash in the regex
            String[] parts = m_resource.getParent().toString().split(File.separatorChar == '\\' ? "\\\\" : File.separator);
            if (parts.length == 3) {
                parentResourceTypeName = "nodeSource";
                parentResourceName = parts[1] + ":" + parts[2];
            }
        }
        return OnmsResource.createResourceId(parentResourceTypeName, parentResourceName, resourceType, resourceLabel);
    }

