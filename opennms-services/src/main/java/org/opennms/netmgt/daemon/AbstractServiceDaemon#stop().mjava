	/**
	 * Stops the currently running service. If the service is not running then
	 * the command is silently discarded.
	 */
	final public synchronized void stop() {
		String prefix = ThreadCategory.getPrefix();
		try {
			ThreadCategory.setPrefix(getName());
			log().debug(getName()+" stopping.");
			setStatus(STOP_PENDING);

			onStop();

			setStatus(STOPPED);

			log().info(getName()+" stopped.");
		} finally {
			ThreadCategory.setPrefix(prefix);
		}
	}

