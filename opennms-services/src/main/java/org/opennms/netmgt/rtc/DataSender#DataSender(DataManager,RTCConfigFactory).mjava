    /**
     * The constructor for this object
     *
     * @param categories
     *            The category map.
     * @param numSenders
     *            The number of senders.
     */
    public DataSender(final DataManager dataMgr, final RTCConfigFactory configFactory) {
        m_dataMgr = dataMgr;
        m_categories = m_dataMgr.getCategories();

        // create and start the data sender pool
        m_dsrPool = Executors.newFixedThreadPool(configFactory.getSenders(),
            new LogPreservingThreadFactory(getClass().getSimpleName(), configFactory.getSenders())
        );

        // create category converter
        m_euiMapper = new EuiLevelMapper(m_dataMgr);

        // get post error limit
        POST_ERROR_LIMIT = configFactory.getErrorsBeforeUrlUnsubscribe();
    }

