    /**
     * Set the current thread's priority to the passed value and return the old
     * priority
     */
    private int setCurrentThreadPriority(int priority) {
        Thread currentThread = Thread.currentThread();
        int oldPriority = currentThread.getPriority();
        try {
            currentThread.setPriority(priority);
        } catch (Exception e) {
            if (log().isDebugEnabled()) {
                log().debug("Error setting thread priority: ", e);
            }
        }

        return oldPriority;
    }

