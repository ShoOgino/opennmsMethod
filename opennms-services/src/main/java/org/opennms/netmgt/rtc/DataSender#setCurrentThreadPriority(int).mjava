    /**
     * Set the current thread's priority to the passed value and return the old
     * priority
     */
    private int setCurrentThreadPriority(final int priority) {
        final Thread currentThread = Thread.currentThread();
        final int oldPriority = currentThread.getPriority();
        try {
            currentThread.setPriority(priority);
        } catch (final RuntimeException e) {
            LOG.debug("Error setting thread priority: ", e);
        }

        return oldPriority;
    }

