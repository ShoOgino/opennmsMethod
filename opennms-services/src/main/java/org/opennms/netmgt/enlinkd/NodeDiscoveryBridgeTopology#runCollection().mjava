    @Override
    protected void runCollection() {
        
        Date now = new Date();
        BroadcastDomain domain = m_linkd.getQueryManager().getBridgeTopologyBroadcastDomain(getNodeId());
        if (domain == null ) {
            LOG.warn("run: no broadcast domain found for node: {}", getNodeId());
            return;
        }
        if (domain.isCalculating()) {
            LOG.info("run: broadcast domain is calculating either on node {}....", getNodeId());
            return;
        }
        if (!domain.isTopologyChanged()) {
            LOG.info("run: broadcast domain with no topology change found for node: {}. exiting...", getNodeId());
            return;
        }
        LOG.info("run: calculating broadcast domain with topology change found for node: {}.", getNodeId());
        domain.calculate();
        LOG.info("run: broadcast domain topology for node: {}. calculated.", getNodeId());
        LOG.info("run: saving broadcast domain topology for node: {}.", getNodeId());
        m_linkd.getQueryManager().store(domain);
        LOG.info("run: saved broadcast domain topology for node: {}.", getNodeId());
        
        for (Integer nodeid: domain.getUpdatedNodes()) {
           LOG.info("run: reconcile topology for node: {} on Broadcast Domain",nodeid);
           m_linkd.getQueryManager().reconcileBridgeTopology(nodeid, now);
        }
    }

