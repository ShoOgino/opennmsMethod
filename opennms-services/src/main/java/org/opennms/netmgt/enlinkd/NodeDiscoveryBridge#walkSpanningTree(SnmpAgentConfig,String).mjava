    private List<BridgeStpLink> walkSpanningTree(SnmpAgentConfig peer,
            final String baseBridgeAddress) {

        final List<BridgeStpLink> stplinks = new ArrayList<BridgeStpLink>();
        Dot1dStpPortTableTracker stpPortTableTracker = new Dot1dStpPortTableTracker() {

            @Override
            public void processDot1dStpPortRow(final Dot1dStpPortRow row) {
                BridgeStpLink link = row.getLink();
                LOG.debug("processDot1dStpPortRow: node [{}]: stp: port:{}/{}, vlan:{}, designated root/bridge/port:{}/{}/{}.", getNodeId(),                		                               link.getStpPort(),
                   link.getStpPortState(),
                   link.getVlan(),
                   link.getDesignatedRoot(),
                   link.getDesignatedBridge(),
                   link.getDesignatedPort()
                   );
                if (isValidStpBridgeId(link.getDesignatedRoot())
                        && isValidStpBridgeId(link.getDesignatedBridge())
                        && !baseBridgeAddress.equals(link.getDesignatedBridgeAddress())) {
                    LOG.debug("processDot1dStpPortRow: node [{}]: stp: port:{}/{}, vlan:{}, designated root/bridge/port:{}/{}/{}. row added", getNodeId(),                		                               link.getStpPort(),
                            link.getStpPortState(),
                            link.getVlan(),
                            link.getDesignatedRoot(),
                            link.getDesignatedBridge(),
                            link.getDesignatedPort()
                            );
                    stplinks.add(link);
                }
            }
        };

        try {
            m_linkd.getLocationAwareSnmpClient().walk(peer,
                                                      stpPortTableTracker).withDescription("dot1dStpPortTable").withLocation(getLocation()).execute().get();
        } catch (ExecutionException e) {
            LOG.info("run: node [{}]: ExecutionException: dot1dStpPortTable: {}", 
                     getNodeId(), e.getMessage());
        } catch (final InterruptedException e) {
            LOG.info("run: node [{}]: InterruptedException: dot1dStpPortTable: {}", 
                     getNodeId(), e.getMessage());
        }
        return stplinks;
    }

