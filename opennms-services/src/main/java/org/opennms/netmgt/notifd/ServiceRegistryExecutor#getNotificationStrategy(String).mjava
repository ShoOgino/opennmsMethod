    private NotificationStrategy getNotificationStrategy(String filter) {
        // Lookup
        NotificationStrategy ns = s_registry.findProvider(NotificationStrategy.class, filter);
        if (ns != null) {
            return ns;
        }

        // A strategy matching the filter is not currently available.
        // Wait until the system has finished starting up (uptime >= grace period)
        // before aborting the search.
        while (ManagementFactory.getRuntimeMXBean().getUptime() < GRACE_PERIOD_MS) {
            try {
                Thread.sleep(LOOKUP_DELAY_MS);
            } catch (InterruptedException e) {
                LOG.error("Interrupted while waiting for notification strategy to become available in the service registry. Aborting.");
                return null;
            }
            ns = s_registry.findProvider(NotificationStrategy.class, filter);
            if (ns != null) {
                return ns;
            }
        }

        return null;
    }

