	protected String getValueFromSwitchOrProp(String what, String switchName, String propName) {
		if (Strings.isNullOrEmpty(switchName)) {
			LOG.error("Switch name must not be null or empty");
			return null;
		}

		// Inform user about API changes, but do not enforce them
		if (!switchName.startsWith("-")) {
			LOG.warn("Specifying switch names (e.g. '{}') without a leading dash is deprecated. Please update your notification command definition to use '-{}' instead. See https://issues.opennms.org/browse/NMS-10552", switchName, switchName);
		}

		// Try getting the value for switchName
		LOG.debug("Trying to get {} from notification switch '{}'", what, switchName);
		if (hasSwitchName(switchName) && hasSwitchValue(switchName)) {
			final String val = getSwitchValue(switchName);
			LOG.info("Using {} value {} from notification switch {}", what, val, switchName);
			return val;
		}

		// switchName does not exist, try with alternate version
		final String alternateSwitchName = switchName.startsWith("-") ? switchName.substring(1) : "-" + switchName;
		LOG.debug("Trying to get {} from notification switch '{}'", what, alternateSwitchName);
		if (hasSwitchValue(alternateSwitchName) && hasSwitchValue(alternateSwitchName)) {
			final String val = getSwitchValue(alternateSwitchName);
			LOG.info("Using {} value {} from notification switch '{}'", what, val, switchName);
			return val;
		}

		if (propName != null) {
			LOG.debug("Trying to get {} from system property '{}'", what, propName);
			final String val = System.getProperty(propName);
			if (val != null) {
				LOG.info("Using {} value {} from system property '{}'", what, val, propName);
				return val;
			}
		}

		LOG.warn("Could not determine value for {} from notification command switch '{}' or system property '{}'", what, switchName, propName);
		return null;
	}

