    private static void doStatusCommand(boolean verbose, String invokeUrl) {
        try {
            StatusGetter statusGetter = new StatusGetter();

            statusGetter.setVerbose(verbose);
            statusGetter.setInvokeURL(new URL(invokeUrl
                    + "&operation=status"));

            statusGetter.queryStatus();

            if (statusGetter.getStatus() == StatusGetter.STATUS_NOT_RUNNING
                    || statusGetter.getStatus() == StatusGetter.STATUS_CONNECTION_REFUSED) {
                System.exit(3); // According to LSB: 3 - service not running
            } else if (statusGetter.getStatus() == StatusGetter.STATUS_PARTIALLY_RUNNING) {
                /*
                 * According to LSB: reserved for application So, I say
                 * 160 - partially running
                 */
                System.exit(160);
            } else if (statusGetter.getStatus() == StatusGetter.STATUS_RUNNING) {
                System.exit(0); // everything should be good and running
            } else {
                String message = "Unknown status returned from "
                    + "statusGetter.getStatus(): "
                    + statusGetter.getStatus();
                System.err.println(message);
                log().error(message);
                System.exit(1);
            }
        } catch (Throwable t) {
            log().error("error invoking status command", t);
            System.exit(1);
        }
    }

