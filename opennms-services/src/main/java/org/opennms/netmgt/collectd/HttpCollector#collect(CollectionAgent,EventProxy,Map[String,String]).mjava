    @SuppressWarnings("unchecked")
    public int collect(CollectionAgent agent, EventProxy eproxy, Map<String, String> parameters) {
        HttpCollection collection = HttpCollectionConfigFactory.getInstance().getHttpCollection(parameters.get("http-collection"));
        List<Uri> uris = collection.getUris().getUriCollection();
        for (Uri uri : uris) {
            try {
                doCollection((InetAddress)agent.getAddress(), uri, parameters);
            } catch (HttpCollectorException e) {
                Category log = log();
                log.error("collect: http collection problem: ", e);

                //this doesn't make sense since everything is SNMP collection centric
                //should probably let the exception pass through
                return ServiceCollector.COLLECTION_FAILED;
            }
        }
        return ServiceCollector.COLLECTION_SUCCEEDED;
    }

