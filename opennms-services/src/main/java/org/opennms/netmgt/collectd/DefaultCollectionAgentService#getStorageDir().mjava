    /* (non-Javadoc)
     * @see org.opennms.netmgt.collectd.CollectionAgent#getStorageDir()
     */
    /**
     * <p>getStorageDir</p>
     *
     * @return a {@link java.io.File} object.
     */
    @Override
    public File getStorageDir() {
        File dir = new File(String.valueOf(getIpInterface().getNode().getId()));
        if(isStoreByForeignSource() && !(getIpInterface().getNode().getForeignSource() == null) && !(getIpInterface().getNode().getForeignId() == null)) {
               File fsDir = new File(ResourceTypeUtils.FOREIGN_SOURCE_DIRECTORY, getIpInterface().getNode().getForeignSource());
            dir = new File(fsDir, getIpInterface().getNode().getForeignId());
        }
        return dir;
    }

