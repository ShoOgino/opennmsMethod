    /* (non-Javadoc)
     * @see org.opennms.netmgt.collectd.CollectionAgent#getStorageDir()
     */
    /**
     * <p>getStorageDir</p>
     *
     * @return a {@link java.io.File} object.
     */
    public File getStorageDir() {
       File dir = new File(String.valueOf(getNodeId()));
       if(isStoreByForeignSource() && !(getForeignSource() == null) && !(getForeignId() == null)) {
               File fsDir = new File(DefaultResourceDao.FOREIGN_SOURCE_DIRECTORY, m_foreignSource);
               dir = new File(fsDir, m_foreignId);
       }
       LogUtils.debugf(this, " getStorageDir: isStoreByForeignSource = %s, foreignSource = %s, foreignId = %s, dir = %s",
                       isStoreByForeignSource(),
                       m_foreignSource,
                       m_foreignId,
                       dir
       );
       return dir;
    }

