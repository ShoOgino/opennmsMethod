    //note: trouble deciding here on getHost() vs. getIpAddress() or 
    //getCanonicalHost() even.
    private String determineHost(final InetAddress address, final Uri uriDef) {
        String host;
        if ("${ipaddr}".equals(uriDef.getUrl().getHost())) {
            host = address.getHostName();
        } else {
            host = uriDef.getUrl().getHost();
        }
        log().debug("determineHost: host for URI is set to: "+host);
        return host;
    }

