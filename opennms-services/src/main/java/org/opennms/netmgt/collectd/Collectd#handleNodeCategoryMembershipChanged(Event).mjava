    /**
     * This method is responsible for handling NodeCategoryMembershipChanged events.
     * 
     * @param event
     *            The event to process.
     * @throws InsufficientInformationException if the event does not have a nodeId
     */
    private void handleNodeCategoryMembershipChanged(Event event) throws InsufficientInformationException {
        EventUtils.checkNodeId(event);

        Long nodeId = event.getNodeid();

        unscheduleNodeAndMarkForDeletion(nodeId);

        LOG.debug("nodeCategoryMembershipChanged: unscheduling nodeid {} completed.", nodeId);
        
        // Trigger re-evaluation of Threshold Packages, re-evaluating Filters.
        ThreshdConfigFactory.getInstance().rebuildPackageIpListMap();

        scheduleNode(nodeId.intValue(), true);
    }

