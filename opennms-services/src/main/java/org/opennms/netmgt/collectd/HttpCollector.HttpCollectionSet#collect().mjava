        public void collect() {
            String collectionName=ParameterMap.getKeyedString(m_parameters, "collection", null);
            if(collectionName==null) {
                //Look for the old configuration style:
            	collectionName=ParameterMap.getKeyedString(m_parameters, "http-collection", null);
            }
            if (collectionName==null) {
            	LogUtils.debugf(this, "no collection name found in parameters");
            	m_status=ServiceCollector.COLLECTION_FAILED;
            	return;
            }
            HttpCollection collection = HttpCollectionConfigFactory.getInstance().getHttpCollection(collectionName);
            m_collectionResourceList = new ArrayList<HttpCollectionResource>();
            List<Uri> uriDefs = collection.getUris().getUriCollection();
            for (Uri uriDef : uriDefs) {
                m_uriDef = uriDef;
                HttpCollectionResource collectionResource = new HttpCollectionResource(m_agent, uriDef);
                try {
                    doCollection(this, collectionResource);
                    m_collectionResourceList.add(collectionResource);
                } catch (HttpCollectorException e) {
                    log().error("collect: http collection failed: " + e, e);

                    /*
                     * FIXME: This doesn't make sense since everything is SNMP
                     * collection-centric.  Should probably let the exception
                     * pass through.
                     */
                    m_status=ServiceCollector.COLLECTION_FAILED;
                }
            }
            m_status=ServiceCollector.COLLECTION_SUCCEEDED;
        }

