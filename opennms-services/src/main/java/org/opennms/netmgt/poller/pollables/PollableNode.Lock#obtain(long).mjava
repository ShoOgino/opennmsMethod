        public synchronized void obtain(long timeout) {
            
            if (m_owner != Thread.currentThread()) {
                LOG.debug("Trying to obtain lock for {}", PollableNode.this);
                long now = System.currentTimeMillis();
                long endTime = (timeout == 0 ? Long.MAX_VALUE : now+timeout);
                while (m_owner != null) {
                    try { wait(endTime-now);} catch (InterruptedException e) { throw new ThreadInterrupted("Lock for "+PollableNode.this+" is unavailable", e);}
                    now = System.currentTimeMillis();
                    if (m_owner != null && now >= endTime) {
                        throw new LockUnavailable("Unable to obtain lock for "+PollableNode.this+" before timeout");
                    }
                }
                m_owner = Thread.currentThread();
                LOG.debug("Obtained lock for {}", PollableNode.this);
            }
            m_obtainCount++;
        }

