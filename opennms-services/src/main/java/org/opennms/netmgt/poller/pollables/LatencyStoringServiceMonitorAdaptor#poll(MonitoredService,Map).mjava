	public PollStatus poll(MonitoredService svc, Map parameters) {
		PollStatus status = m_serviceMonitor.poll(svc, parameters);
		String storageType = ParameterMap.getKeyedString(parameters, "response-type", "single");

		if (storageType.equals("single") && status.getResponseTime() >= 0) {
			storeResponseTime(svc, status.getResponseTime(), parameters);
		} else if (storageType.equals("multi") && status.getResponseTimes() != null && status.getResponseTimes().size() > 0) {
			storeResponseTime(svc, status.getResponseTimes(), parameters);
		}
		
        if ("true".equals(ParameterMap.getKeyedString(parameters, "invert-status", "false"))) {
            if (status.isAvailable()) {
                return PollStatus.unavailable("This is an inverted service and the underlying service has started responding");
            } else {
                return PollStatus.available();
            }
        }
		return status;
	}

