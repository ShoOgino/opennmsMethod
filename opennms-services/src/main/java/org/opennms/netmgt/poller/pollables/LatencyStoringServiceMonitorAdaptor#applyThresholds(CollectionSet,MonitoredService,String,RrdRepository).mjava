    private void applyThresholds(CollectionSet collectionSet, MonitoredService service, String dsName, RrdRepository repository) {
        try {
            if (m_thresholdingSession == null) {
                m_thresholdingSession = m_thresholdingService.createSession(service.getNodeId(), 
                                                                            service.getIpAddr(),
                                                                            service.getSvcName(),
                                                                            repository,
                                                                            EMPTY_SERVICE_PARAMS);
            }
            m_thresholdingSession.accept(collectionSet);
        } catch (Throwable e) {
            LOG.error("Failed to threshold on {} for {} because of an exception", service, dsName, e);
        }
    }

