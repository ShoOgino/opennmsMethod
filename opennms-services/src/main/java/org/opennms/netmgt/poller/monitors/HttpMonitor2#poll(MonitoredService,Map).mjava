    public PollStatus poll(MonitoredService svc, Map parameterMap) {
        
        try {
            HttpMonitor2Parameters parms = HttpMonitor2Parameters.get(parameterMap);
            
            HttpClient client = new HttpClient(parms.buildParams(svc));

            long startTime = System.currentTimeMillis();
            
            parms.getPageSequence().execute(client);

            long endTime = System.currentTimeMillis();
            return PollStatus.available(endTime - startTime);

        } catch (HttpMonitorException e) {
            return PollStatus.unavailable(e.getMessage());
        } catch (IllegalArgumentException e) {
            log().error("Invalid parameters to monitor.", e);
            return PollStatus.unavailable("Invalid parameter to monitor: "+e.getMessage()+". See log for details.");
        }
    }

