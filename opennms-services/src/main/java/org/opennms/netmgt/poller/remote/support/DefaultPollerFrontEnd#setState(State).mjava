    private void setState(State newState) {
        boolean started = isStarted();
        boolean registered = isRegistered();
        boolean paused = isPaused();
        boolean disconnected = isDisconnected();
        System.err.println("Changing state from "+m_state+" to "+newState);
        m_state = newState;
        firePropertyChange("started", started, isStarted());
        firePropertyChange("registered", registered, isRegistered());
        firePropertyChange("paused", paused, isPaused());
        firePropertyChange("disconnected", disconnected, isDisconnected());
        
    }

