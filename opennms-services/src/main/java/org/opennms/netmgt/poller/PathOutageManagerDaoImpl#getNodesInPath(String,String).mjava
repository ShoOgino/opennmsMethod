    /**
     * <p>
     * Retrieve all the nodes in a critical path
     * from the database
     *
     * @param criticalPathIp
     *            IP address of the critical path
     * @param criticalPathServiceName
     *            service name for the critical path
     * @return a {@link java.util.List} object.
     * @throws java.sql.SQLException if any.
     */
    public Set<Integer> getNodesInPath(String criticalPathIp, String criticalPathServiceName) {
        final Set<Integer> pathNodes = new TreeSet<Integer>();
        
        List<OnmsPathOutage> outs = pathOutageDao.findAll();
        for (OnmsPathOutage out: outs) {
        	String node = out.getCriticalPathServiceName();
        	if (node.equals(criticalPathServiceName)) {
        		pathNodes.add(out.getNode().getId());
        	}
        }
        
        return pathNodes;
    }

