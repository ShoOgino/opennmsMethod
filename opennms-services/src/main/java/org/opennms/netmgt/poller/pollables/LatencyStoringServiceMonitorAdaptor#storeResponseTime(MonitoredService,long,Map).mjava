	private void storeResponseTime(MonitoredService svc, long responseTime, Map parameters) {
        String rrdPath = ParameterMap.getKeyedString(parameters, "rrd-repository", null);
        String dsName = ParameterMap.getKeyedString(parameters, "ds-name", DEFAULT_DSNAME);
        String rrdBaseName = ParameterMap.getKeyedString(parameters, "rrd-base-name", dsName);

        if (rrdPath == null) {
            log().info("storeResponseTime(single): RRD repository not specified in parameters, latency data will not be stored.");
        }
        
        // RRD BEGIN
        // Store response time in RRD
        if (responseTime >= 0 && rrdPath != null) {
            try {
                updateRRD(rrdPath, svc.getAddress(), rrdBaseName, dsName, responseTime);
            } catch (RuntimeException rex) {
                log().debug("There was a problem writing the RRD:" + rex);
            }
        }
        // RRD END


	}

