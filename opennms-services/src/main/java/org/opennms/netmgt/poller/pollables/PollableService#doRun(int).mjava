    private PollStatus doRun(int timeout) {
        long startDate = System.currentTimeMillis();
        LOG.debug("Start Scheduled Poll of service {}", this);
        PollStatus status;
        if (getContext().isNodeProcessingEnabled()) {
            PollRunner r = new PollRunner();
            try {
                withTreeLock(r, timeout);
            } catch (LockUnavailable e) {
                LOG.info("Postponing poll for {}", this, e);
                throw new PostponeNecessary("LockUnavailable postpone poll");
            }
            status = r.getPollStatus();
        }
        else {
            doPoll();
            processStatusChange(new Date());
            status = getStatus();
        }
        LOG.debug("Finish Scheduled Poll of service {}, started at {}", this, new Date(startDate));
        return status;
    }

