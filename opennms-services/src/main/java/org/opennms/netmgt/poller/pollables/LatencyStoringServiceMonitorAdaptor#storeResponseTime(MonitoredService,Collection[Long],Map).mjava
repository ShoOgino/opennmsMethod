	private void storeResponseTime(MonitoredService svc, Collection<Long> responseTimes, Map parameters) {
		String rrdPath = ParameterMap.getKeyedString(parameters, "rrd-repository", null);
		String rrdBaseName = ParameterMap.getKeyedString(parameters, "rrd-base-name", DEFAULT_MULTI_BASENAME);
		
		if (rrdPath == null) {
			log().info("storeResponseTime(multi): RRD repository not specified in parameters, latency data will not be stored.");
		}
		
		List<String> dsNames = new ArrayList<String>();
		List<String> values  = new ArrayList<String>();
		
		dsNames.add("loss");
		values.add(new Long(CollectionMath.countNull(responseTimes)).toString());
		
		dsNames.add("median");
		values.add(CollectionMath.median(responseTimes).toString());
		
		ArrayList<Long> al = new ArrayList<Long>(responseTimes);
		Long responseTime = -1L;
		
		for (int i = 0; i < al.size(); i++) {
			responseTime = al.get(i);
			dsNames.add("ping" + (i + 1));
			if (responseTime == null) {
				values.add("");
			} else {
				values.add(responseTime.toString());
			}
		}
		updateRRD(rrdPath, svc.getAddress(), rrdBaseName, dsNames, values);
	}

