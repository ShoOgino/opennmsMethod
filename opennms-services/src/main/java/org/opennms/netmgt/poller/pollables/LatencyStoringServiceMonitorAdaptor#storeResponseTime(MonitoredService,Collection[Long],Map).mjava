	private void storeResponseTime(MonitoredService svc, Collection<Long> responseTimes, Map parameters) {
		String rrdPath = ParameterMap.getKeyedString(parameters, "rrd-repository", null);
		String rrdBaseName = ParameterMap.getKeyedString(parameters, "rrd-base-name", DEFAULT_MULTI_BASENAME);
		
		if (rrdPath == null) {
			log().info("storeResponseTime(multi): RRD repository not specified in parameters, latency data will not be stored.");
		}
		
		Long timestamp = System.currentTimeMillis();

		StatisticalArrayList<Long> sal = new StatisticalArrayList<Long>(responseTimes);

		List<String> dsNames = new ArrayList<String>();
		List<String> values  = new ArrayList<String>();
		
		dsNames.add("loss");
		values.add((new Integer(sal.countNull())).toString());
		
		dsNames.add("median");
		values.add(sal.median().toString());
		
		Long responseTime = 0L;
		
		for (int i = 0; i < sal.size(); i++) {
			responseTime = sal.get(i);
			dsNames.add("ping" + (i + 1));
			if (responseTime == null) {
				values.add("");
			} else {
				values.add(responseTime.toString());
			}
		}
		updateRRD(rrdPath, svc.getAddress(), rrdBaseName, dsNames, values);
	}

