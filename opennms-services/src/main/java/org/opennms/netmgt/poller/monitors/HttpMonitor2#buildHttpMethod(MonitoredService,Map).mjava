    private HttpMethod buildHttpMethod(MonitoredService svc, Map parameters) {
        HttpMethod method;
        String methodString = determineMethod(parameters);
        if ("GET".equals(methodString)) {
            method = new GetMethod();
        } else {
            method = new PostMethod();
        }
        try {
            method.setURI(buildUri(svc, parameters));
        } catch (URIException e) {
            throw new HttpMonitorException("Error creating URI", new RuntimeException(e));
        }
        return method;
    }

