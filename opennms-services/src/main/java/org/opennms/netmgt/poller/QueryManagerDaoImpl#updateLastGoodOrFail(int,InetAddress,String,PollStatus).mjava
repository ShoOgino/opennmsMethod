    @Override
    public void updateLastGoodOrFail(int nodeId, InetAddress ipAddr, String serviceName, PollStatus status) {
        try {
            m_transcationOps.execute((TransactionCallback<Object>) transactionStatus -> {
                final OnmsMonitoredService service = m_monitoredServiceDao.get(nodeId, ipAddr, serviceName);
                if (service == null) {
                    // Throw so we can hit the exception block bellow and re-use the log message
                    throw new NoSuchElementException("Service no longer exists.");
                }
                if (status.isAvailable()) {
                    service.setLastGood(status.getTimestamp());
                } else if (status.isUnavailable() || status.isUnresponsive()) {
                    service.setLastFail(status.getTimestamp());
                }  // else ignore, not explicitly good or bad
                m_monitoredServiceDao.saveOrUpdate(service);
                return service;
            });
            LOG.debug("Successfully updated last good/fail timestamp for service named {} on node id {} and interface {}.",
                    serviceName, nodeId, ipAddr);
        } catch (Exception e) {
            LOG.error("Failed to set the last good/fail timestamp for service named {} on node id {} and interface {} for {}.",
                    serviceName, nodeId,  ipAddr, status, e);
        }
    }

