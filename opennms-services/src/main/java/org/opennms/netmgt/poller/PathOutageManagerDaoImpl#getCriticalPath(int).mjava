    @Override
    public String[] getCriticalPath(int nodeId) {
        //"SELECT criticalpathip, criticalpathservicename FROM pathoutage WHERE nodeid=?";

        OnmsPathOutage out = pathOutageDao.get(nodeId);

        if (out == null) {
            return new String[] {
                OpennmsServerConfigFactory.getInstance().getDefaultCriticalPathIp(),
                "ICMP"
            };
        }

        final String[] cpath = new String[] { InetAddressUtils.str(out.getCriticalPathIp()), out.getCriticalPathServiceName() };

        if (cpath[0] == null || "".equals(cpath[0].trim())) {
            // If no critical path was located in the table, then use the default critical path
            cpath[0] = OpennmsServerConfigFactory.getInstance().getDefaultCriticalPathIp();
            cpath[1] = "ICMP";
        } else if (cpath[1] == null || "".equals(cpath[1].trim())) {
            // If there was no service name in the table, then use the default of ICMP
            cpath[1] = "ICMP";
        }
        return cpath;
    }

