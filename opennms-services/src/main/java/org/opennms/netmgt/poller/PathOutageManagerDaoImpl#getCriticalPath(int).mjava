    public String[] getCriticalPath(int nodeId) {
    	//"SELECT criticalpathip, criticalpathservicename FROM pathoutage WHERE nodeid=?";
    	
    	OnmsPathOutage out = pathOutageDao.get(nodeId);
    	
        final String[] cpath = new String[2];
        cpath[0] = InetAddressUtils.str(out.getCriticalPathIp());
        cpath[1] = out.getCriticalPathServiceName();
        if (cpath[0] != null && cpath[1] != "") {
        	cpath[0] = InetAddressUtils.str(out.getCriticalPathIp());
        	cpath[1] = out.getCriticalPathServiceName();
        }
        else if (cpath[0] == null || cpath[0].equals("")) {
            cpath[0] = OpennmsServerConfigFactory.getInstance().getDefaultCriticalPathIp();
            cpath[1] = "ICMP";
        }
        else if (cpath[1] == null || cpath[1].equals("")) {
            cpath[1] = "ICMP";
        }
        return cpath;
    }

