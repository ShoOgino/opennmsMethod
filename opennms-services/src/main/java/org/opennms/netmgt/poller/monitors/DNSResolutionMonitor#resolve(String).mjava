    InetAddress[] resolve(String hostname) throws TextParseException {
        Record[] aaaaRecords = new Lookup(hostname, Type.AAAA).run();
        Record[] aRecords = new Lookup(hostname, Type.A).run();
        
        InetAddress[] addrs = new InetAddress[(aaaaRecords == null ? 0 : aaaaRecords.length)+(aRecords == null ? 0 : aRecords.length)];
        
        int index = 0;
        if (aaaaRecords != null) {
            for(Record r : aaaaRecords) {
                addrs[index++] = ((AAAARecord)r).getAddress();
            }
        }
        
        if (aRecords != null) {
            for(Record r : aRecords) {
                addrs[index++] = ((ARecord)r).getAddress();
            }
        }
        
        return addrs;
    }

