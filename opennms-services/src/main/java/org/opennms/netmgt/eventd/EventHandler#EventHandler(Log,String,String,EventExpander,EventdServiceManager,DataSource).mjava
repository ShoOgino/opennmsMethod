    /**
     * Constructor for the eventhandler
     * @param eventLog
     *            events to be processed
     * @param getNextEventId
     *            the sql statement to get next event id from sequence
     * @param eventExpander TODO
     * @param dataSource TODO
     * @param connectionFactory 
     */
    public EventHandler(Log eventLog, String getNextEventId, String getNextAlarmIdStr, EventExpander eventExpander, EventdServiceManager eventdServiceManager, DataSource dataSource) {
        m_eventLog = eventLog;
        m_getNextEventIdStr = getNextEventId;
        m_getNextAlarmIdStr = getNextAlarmIdStr;
        m_eventExpander = eventExpander;
        m_eventdServiceManager = eventdServiceManager;
        m_dataSource = dataSource;
        
        afterPropertiesSet();
    }

