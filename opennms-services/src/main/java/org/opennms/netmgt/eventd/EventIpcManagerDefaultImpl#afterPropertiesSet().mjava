    public synchronized void afterPropertiesSet() {
        Assert.state(m_eventdConfigMgr != null, "eventdConfigMgr not set");
        Assert.state(m_eventExpander != null, "eventExpander not set");
        Assert.state(m_dataSource != null, "dataSource not set");
        Assert.state(m_eventdServiceManager != null, "eventdServiceManager not set");
        
        m_ueiListeners = new HashMap<String, List<EventListener>>();
        m_listeners = new ArrayList<EventListener>();
        m_listenerThreads = new HashMap<String, ListenerThread>();

        // get number of threads
        int numReceivers = m_eventdConfigMgr.getReceivers();
        // create handler pool
        m_eventHandlerPool = new RunnableConsumerThreadPool("EventHandlerPool", 0.6f, 1.0f, numReceivers);
        // start pool
        m_eventHandlerPool.start();
        // database sequence query string
        m_getNextEventIdStr = m_eventdConfigMgr.getGetNextEventID();
        m_getNextAlarmIdStr = m_eventdConfigMgr.getGetNextAlarmID();
    }

