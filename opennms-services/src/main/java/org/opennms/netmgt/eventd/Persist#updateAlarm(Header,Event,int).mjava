    private void updateAlarm(Header eventHeader, Event event, int alarmId) throws SQLException {
        m_upDateStmt.setInt(1, event.getDbid());
        m_upDateStmt.setTimestamp(2, getEventTime(event));
        set(m_upDateStmt, 3, Constants.format(event.getLogmsg().getContent(), EVENT_LOGMSG_FIELD_SIZE));
        m_upDateStmt.setString(4, event.getAlarmData().getReductionKey());

        if (log().isDebugEnabled()) {
            log().debug("Persist.updateAlarm: reducing event: " + event.getDbid() +  " into alarm");
        }
        
        m_upDateStmt.executeUpdate();

        m_updateEventStmt.setInt(1, alarmId);
        m_updateEventStmt.setInt(2, event.getDbid());
        m_updateEventStmt.executeUpdate();
    }

