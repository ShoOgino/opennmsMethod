    /**
     * This method is used to convert the service name into a service id. It
     * first looks up the information from a service map of Eventd and if no
     * match is found, by performing a lookup in the database. If the conversion
     * is successful then the corresponding integer identifier will be returned
     * to the caller.
     * 
     * @param name
     *            The name of the service
     * 
     * @return The integer identifier for the service name.
     * 
     * @exception java.sql.SQLException
     *                Thrown if there is an error accessing the stored data or
     *                the SQL text is malformed. This will also be thrown if the
     *                result cannot be obtained.
     * 
     * @see EventdConstants#SQL_DB_SVCNAME_TO_SVCID
     * 
     */
    private int getServiceID(String name) throws SQLException {
        //
        // Check the name to make sure that it is not null
        //
        if (name == null)
            throw new NullPointerException("The service name was null");

        // ask persistd
        //
        int id = Eventd.getServiceID(name);
        if (id != -1)
            return id;

        //
        // talk to the database and get the identifer
        //
        m_getSvcIdStmt.setString(1, name);
        ResultSet rset = m_getSvcIdStmt.executeQuery();
        if (rset.next()) {
            id = rset.getInt(1);
        }

        // close result set
        rset.close();

        // inform persistd about the new find
        //
        if (id != -1)
            Eventd.addServiceMapping(name, id);

        //
        // return the id to the caller
        //
        return id;
    }

