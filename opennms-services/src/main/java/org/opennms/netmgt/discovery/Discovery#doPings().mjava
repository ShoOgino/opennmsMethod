    protected void doPings() {
        reloadConfiguration();

        DiscoveryPingResponseCallback cb = new DiscoveryPingResponseCallback();

        int pps = m_discoveryConfiguration.getPacketsPerSecond();

        List<IPPollAddress> specifics = getSpecifics();
        specifics.addAll(getUrlSpecifics());
        List<IPPollRange> ranges = getRanges();

        for (IPPollAddress address : specifics) {
            pingAddress(address.getAddress(), address.getTimeout(), address.getRetries(), cb);
        }

        for (IPPollRange range : ranges) {
            for (InetAddress address : range.getAddressRange()) {
                // only check isExcluded for ranges since specifics would
                // override
                if (!isExcluded(address)) {
                    pingAddress(address, range.getTimeout(), range.getRetries(), cb);
                    try {
                        Thread.sleep(1000 / pps);
                    } catch (InterruptedException e) {
                        break;
                    }
                }
            }
        }
    }

