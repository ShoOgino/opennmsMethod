	@Override
	protected synchronized void saveStpNode(final Connection dbConn, final OnmsStpNode stp) throws SQLException {
	    OnmsStpNode stpNode = m_stpNodeDao.findByNodeAndVlan(stp.getNode().getId(), stp.getBaseVlan());
	    if (stpNode == null) {
	        stpNode = stp;
	    } else {
	        stpNode.setBaseBridgeAddress(stp.getBaseBridgeAddress());
	        stpNode.setBaseNumPorts(stp.getBaseNumPorts());
	        stpNode.setBaseType(stp.getBaseType());
	        stpNode.setBaseVlan(stp.getBaseVlan());
	        stpNode.setBaseVlanName(stp.getBaseVlanName());
	        stpNode.setLastPollTime(stp.getLastPollTime());
	        stpNode.setNode(stp.getNode());
	        stpNode.setStatus(stp.getStatus());
	        stpNode.setStpDesignatedRoot(stp.getStpDesignatedRoot());
	        stpNode.setStpPriority(stp.getStpPriority());
	        stpNode.setStpProtocolSpecification(stp.getStpProtocolSpecification());
	        stpNode.setStpRootCost(stp.getStpRootCost());
	        stpNode.setStpRootPort(stp.getStpRootPort());
	    }
		m_stpNodeDao.saveOrUpdate(stpNode);
	}

