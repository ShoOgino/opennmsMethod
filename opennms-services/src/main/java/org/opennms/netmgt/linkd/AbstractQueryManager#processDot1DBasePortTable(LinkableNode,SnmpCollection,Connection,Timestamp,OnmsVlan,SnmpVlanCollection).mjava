    protected void processDot1DBasePortTable(final LinkableNode node, final SnmpCollection snmpcoll, final Connection dbConn, final Timestamp scanTime, final OnmsVlan vlan, final SnmpVlanCollection snmpVlanColl) throws SQLException {
        LogUtils.debugf(this, "processDot1DBasePortTable: Starting dot1dBasePort table processing.");

        for (final Dot1dBasePortTableEntry dot1dbaseptentry : snmpVlanColl.getDot1dBasePortTable().getEntries()) {
            int baseport = dot1dbaseptentry.getBaseBridgePort();
            int ifindex = dot1dbaseptentry.getBaseBridgePortIfindex();

            if (baseport == -1 || ifindex == -1) {
                LogUtils.warnf(this, "processDot1DBasePortTable: Invalid base port (%d) or ifIndex (%d). Skipping.", baseport, ifindex);
                continue;
            }

            node.setIfIndexBridgePort(ifindex, baseport);

            
            
            if (snmpcoll.getSaveStpInterfaceTable()) {
                final OnmsNode onmsNode = getNode(node.getNodeId());
                if (onmsNode == null) {
                    LogUtils.debugf(this, "no node found!");
                    continue;
                }
                final OnmsStpInterface stpInterface = new OnmsStpInterface(onmsNode, baseport, vlan.getVlanId());
                stpInterface.setBridgePort(baseport);
                stpInterface.setVlan(vlan.getVlanId());
                stpInterface.setIfIndex(ifindex);
                stpInterface.setStatus(DbStpNodeEntry.STATUS_ACTIVE);
                stpInterface.setLastPollTime(scanTime);

                saveStpInterface(dbConn, stpInterface);
            }
        }
    }

