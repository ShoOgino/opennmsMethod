		/**
		 * Load the current interface from the database. If the interface
		 * was modified, the modifications are lost. The nodeid
		 * and ip address must be set prior to this call.
		 *
		 * @param c	The connection used to load the data.
		 *
		 * @throws java.sql.SQLException Thrown if an error occurs
		 * 	with the connection
		 */
		private boolean load(Connection c) throws SQLException {
			if (!m_fromDb)
				throw new IllegalStateException(
						"The record does not exists in the database");

			ThreadCategory log = ThreadCategory.getInstance(getClass());

			final DBUtils d = new DBUtils(getClass());
            PreparedStatement stmt = null;
			
			try {
                stmt = c.prepareStatement(SQL_LOAD_STPNODE);
                d.watch(stmt);
                stmt.setInt(1, m_nodeId);
                stmt.setInt(2, m_vlanId);

                // Run the select
                //
                ResultSet rset = stmt.executeQuery();
                d.watch(rset);
                if (!rset.next()) {
                	if (log.isDebugEnabled())
                		log.debug("DbVlanEntry.load: no result found");
                	return false;
                }

                // extract the values.
                //
                int ndx = 1;

                // get the vlan name
                //
                m_vlanname = rset.getString(ndx++);
                
                // get the vlan type
                //
                m_vlantype = rset.getInt(ndx++);
                if (rset.wasNull())
                	m_vlantype = -1;

                // get the vlan status
                //
                m_vlanstatus = rset.getInt(ndx++);
                if (rset.wasNull())
                	m_vlanstatus = -1;

                String str = rset.getString(ndx++);
                if (str != null && !rset.wasNull())
                	m_status = str.charAt(0);
                else
                	m_status = STATUS_UNKNOWN;

                m_lastPollTime = rset.getTimestamp(ndx++);

                rset.close();
                stmt.close();
			} finally {
			    d.cleanUp();
            }

			// clear the mask and mark as backed
			// by the database
			//
			if (log.isDebugEnabled())
				log.debug("DbVlanEntry.load: result found");
			m_changed = 0;
			return true;
		}

