    // SELECT node.nodeid FROM node LEFT JOIN ipinterface ON node.nodeid = ipinterface.nodeid WHERE nodetype = 'A' AND ipaddr = ?
    @Override
    protected List<Integer> getNodeidFromIp(final InetAddress cdpTargetIpAddr) {
        List<Integer> nodeids = new ArrayList<Integer>();
        final CriteriaBuilder builder = new CriteriaBuilder(OnmsIpInterface.class);
        builder.alias("node", "node", JoinType.LEFT_JOIN);
        builder.eq("ipAddress", cdpTargetIpAddr);
        builder.eq("node.type", "A");
        List<OnmsIpInterface> interfaces = m_ipInterfaceDao.findMatching(builder.toCriteria());

        LOG.debug("getNodeidFromIp: Found {} nodeids matching ipAddress {}", interfaces.size(),str(cdpTargetIpAddr));
        for (final OnmsIpInterface ipinterface : interfaces) {
            nodeids.add(ipinterface.getNode().getId());
        }
        return nodeids;
    }

