    // SELECT node.nodeid, nodesysoid, ipaddr FROM node LEFT JOIN ipinterface
    // ON node.nodeid = j.nodeid WHERE nodetype = 'A' AND issnmpprimary = 'P'
    @Override
    public List<LinkableSnmpNode> getSnmpNodeList() {
        final List<LinkableSnmpNode> nodes = new ArrayList<LinkableSnmpNode>();

        final CriteriaBuilder builder = new CriteriaBuilder(OnmsNode.class);
        builder.alias("ipInterfaces", "iface", JoinType.LEFT_JOIN);
        builder.eq("type", "A");
        builder.eq("iface.isSnmpPrimary", PrimaryType.PRIMARY);
        for (final OnmsNode node : m_nodeDao.findMatching(builder.toCriteria())) {
            final String sysObjectId = node.getSysObjectId();
            nodes.add(new LinkableSnmpNode(
                                           node.getId(),
                                           node.getPrimaryInterface().getIpAddress(),
                                           sysObjectId == null ? "-1"
                                                              : sysObjectId,
                                           node.getSysName()));
        }

        return nodes;
    }

