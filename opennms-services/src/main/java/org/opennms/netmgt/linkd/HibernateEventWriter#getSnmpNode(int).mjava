    // SELECT nodesysoid, ipaddr FROM node LEFT JOIN ipinterface ON
    // node.nodeid = ipinterface.nodeid WHERE node.nodeid = ? AND nodetype =
    // 'A' AND issnmpprimary = 'P'
    @Override
    public LinkableSnmpNode getSnmpNode(final int nodeid) {
        final CriteriaBuilder builder = new CriteriaBuilder(OnmsNode.class);
        builder.alias("ipInterfaces", "iface", JoinType.LEFT_JOIN);
        builder.eq("type", "A");
        builder.eq("iface.isSnmpPrimary", PrimaryType.PRIMARY);
        builder.eq("id", nodeid);
        final List<OnmsNode> nodes = m_nodeDao.findMatching(builder.toCriteria());

        if (nodes.size() > 0) {
            final OnmsNode node = nodes.get(0);
            final String sysObjectId = node.getSysObjectId();
            return new LinkableSnmpNode(
                                        node.getId(),
                                        node.getPrimaryInterface().getIpAddress(),
                                        sysObjectId == null ? "-1"
                                                           : sysObjectId,
                                        node.getSysName());
        } else {
            return null;
        }
    }

