	/**
	 * Method that updates info in hash snmpprimaryip2nodes and also save info
	 * into database. This method is called by SnmpCollection after all stuff is
	 * done
	 * 
	 * @param snmpcoll
	 */

	void updateNodeSnmpCollection(SnmpCollection snmpcoll) {

		Category log = ThreadCategory.getInstance();
		synchronized (snmpprimaryip2nodes) {
			if (snmpprimaryip2nodes.containsKey(snmpcoll.getTarget()
					.getHostAddress())) {
				LinkableNode node = (LinkableNode) snmpprimaryip2nodes.get(snmpcoll
						.getTarget().getHostAddress());
				DbEventWriter dbwriter = new DbEventWriter(node.getNodeId(), snmpcoll);
				dbwriter.run();
				node = dbwriter.getLinkableNode();
				snmpprimaryip2nodes.put(snmpcoll.getTarget().getHostAddress(),
						node);
			} else {
					log
							.warn("updateNodeSnmpCollection: cannot find Linkable SNMP Node element in hash snmpprimaryip2nodes");
			}
		}
	}

