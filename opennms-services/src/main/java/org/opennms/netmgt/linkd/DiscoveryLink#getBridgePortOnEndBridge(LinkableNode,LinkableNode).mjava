	private int getBridgePortOnEndBridge(final LinkableNode startBridge, final LinkableNode endBridge) {

		int port = -1;
		for (final String curBridgeIdentifier : startBridge.getBridgeIdentifiers()) {
			if (log().isDebugEnabled())
				log()
						.debug("getBridgePortOnEndBridge: parsing bridge identifier "
								+ curBridgeIdentifier);
			
			if (endBridge.hasMacAddress(curBridgeIdentifier)) {
			    for (final Integer p : endBridge.getBridgePortsFromMac(curBridgeIdentifier)) {
			        port = p;
					if (endBridge.isBackBoneBridgePort(port)) {
						if (log().isDebugEnabled())
							log()
									.debug("getBridgePortOnEndBridge: found backbone bridge port "
											+ port
											+ " .... Skipping");
						continue;
					}
					if (port == -1) {
						if (log().isDebugEnabled())
							log()
									.debug("run: no port found on bridge nodeid "
											+ endBridge.getNodeId()
											+ " for node bridge identifiers nodeid "
											+ startBridge.getNodeId()
											+ " . .....Skipping");
						continue;
					}
					if (log().isDebugEnabled())
						log()
								.debug("run: using mac address table found bridge port "
										+ port
										+ " on node "
										+ endBridge.getNodeId());
					return port;
				}
					
			} else {
				if (log().isDebugEnabled())
					log()
							.debug("run: bridge identifier not found on node "
									+ endBridge.getNodeId());
			}
		}
		return -1;
	}

