	private LinkableNode findNearestBridgeLink(LinkableNode bridge1, int bp1,
			LinkableNode bridge2, int bp2) {

		Set macsOnBridge2 = bridge2.getMacAddressesOnBridgePort(bp2);

		Set macsOnBridge1 = bridge1.getMacAddressesOnBridgePort(bp1);

		if (macsOnBridge2 == null || macsOnBridge1 == null)
			return bridge2;

		if (macsOnBridge2.isEmpty() || macsOnBridge1.isEmpty())
			return bridge2;

		Iterator macsonbridge1_ite = macsOnBridge1.iterator();

		while (macsonbridge1_ite.hasNext()) {
			String curMacOnBridge1 = (String) macsonbridge1_ite.next();
			if (bridge2.isBridgeIdentifier(curMacOnBridge1))
				continue;
			if (bridge1.isBridgeIdentifier(curMacOnBridge1))
				continue;
			if (macsOnBridge2.contains(curMacOnBridge1)
					&& isMacIdentifierOfBridgeNode(curMacOnBridge1))
				return getNodeFromMacIdentifierOfBridgeNode(curMacOnBridge1);
		}

		return bridge2;
	}

