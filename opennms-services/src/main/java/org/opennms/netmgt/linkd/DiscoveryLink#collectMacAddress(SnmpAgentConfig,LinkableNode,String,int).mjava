	private LinkableNode collectMacAddress(SnmpAgentConfig agentConfig, LinkableNode node,String mac,int vlan) {
		FdbTableGet coll = new FdbTableGet(agentConfig,mac);
		if (log().isInfoEnabled())
			log().info("collectMacAddress: finding entry in bridge forwarding table for mac on node: " + mac + "/" + node.getNodeId());
		int bridgeport = coll.getBridgePort();
		if (bridgeport > 0 && coll.getBridgePortStatus() == QueryManager.SNMP_DOT1D_FDB_STATUS_LEARNED) {
			node.addMacAddress(bridgeport, mac, Integer.toString(vlan));
			if (log().isInfoEnabled())
				log().info("collectMacAddress: found mac on bridge port: " + bridgeport);
		} else {
			bridgeport = coll.getQBridgePort();
			if (bridgeport > 0 && coll.getQBridgePortStatus() == QueryManager.SNMP_DOT1D_FDB_STATUS_LEARNED) 
				node.addMacAddress(bridgeport, mac, Integer.toString(vlan));
			if (log().isInfoEnabled())
				log().info("collectMacAddress: found mac on bridge port: " + bridgeport);
			else if (log().isInfoEnabled())
				log().info("collectMacAddress: mac not found: " + bridgeport);
		}
		return node;
	}

