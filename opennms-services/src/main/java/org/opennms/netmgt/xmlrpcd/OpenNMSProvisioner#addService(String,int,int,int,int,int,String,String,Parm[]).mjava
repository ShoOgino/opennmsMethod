    private boolean addService(String serviceId, int retries, int timeout, int interval, int downTimeInterval, int downTimeDuration, String monitor, String plugin, Parm[] entries) {
        String pkgName = serviceId;

        Package pkg = getPackage(pkgName, interval, downTimeInterval, downTimeDuration);

        Properties parms = new Properties();
        parms.setProperty("retry", ""+retries);
        parms.setProperty("timeout", ""+timeout);
        
        for(int i = 0; i < entries.length; i++) {
            parms.setProperty(entries[i].getKey(), entries[i].getVal());
        }

        addServiceToPackage(pkg, serviceId, interval, parms);

        if (m_pollerConfig.getPackage(pkg.getName()) == null)
            m_pollerConfig.addPackage(pkg);
        
        if (m_pollerConfig.getServiceMonitor(serviceId) == null) {
            log().debug("Adding a new monitor for "+serviceId);
            m_pollerConfig.addMonitor(serviceId, monitor);
        } else {
            log().debug("No need to add a new monitor for "+serviceId);
        }
        
        if (m_capsdConfig.getProtocolPlugin(serviceId) == null) {
            ProtocolPlugin pPlugin = new ProtocolPlugin();
            pPlugin.setProtocol(serviceId);
            pPlugin.setClassName(plugin);
            pPlugin.setScan("off");
            m_capsdConfig.addProtocolPlugin(pPlugin);
        }
        
        saveConfigs();
        return true;
    }

