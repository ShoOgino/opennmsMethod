    private void checkResponseCode(final String response) {
        if (response == null || response.equals("")) return;
            
        final int code = Integer.parseInt(response);
        if (code < 100 || code > 599) throw new IllegalArgumentException("Illegal response code "+code+". Must be between 100 and 599");
    }

