    /**
     * <p>getActiveNodes</p>
     *
     * @return a {@link java.util.List} object.
     * @throws java.sql.SQLException if any.
     */
    public List<Integer> getActiveNodes() throws SQLException {
        String NODE_QUERY = "SELECT   n.nodeid " + "FROM     node n " + "WHERE    n.nodetype != 'D' " + "ORDER BY n.nodelabel";
    
        java.sql.Connection connection = null;
        final List<Integer> allNodes = new ArrayList<Integer>();
        final DBUtils d = new DBUtils(getClass());

        try {
            connection = getConnection();
            d.watch(connection);
    
            final Statement stmt = connection.createStatement();
            d.watch(stmt);
            final ResultSet rset = stmt.executeQuery(NODE_QUERY);
            d.watch(rset);
    
            if (rset != null) {
                // Iterate through the result and build the array list
                while (rset.next()) {
                    int nodeID = rset.getInt(1);
    
                    allNodes.add(nodeID);
                }
            }
            return allNodes;
        } finally {
            d.cleanUp();
        }
    }

