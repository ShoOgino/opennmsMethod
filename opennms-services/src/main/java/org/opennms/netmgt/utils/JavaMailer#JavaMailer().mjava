    /**
     * Default constructor.  Default properties from javamailer-properties are set into session.  To change these
     * properties, retrieve the current properties from the session and override as needed.
     */
    public JavaMailer() {
        Properties props = System.getProperties();
        
        props.put("mail.smtp.auth", String.valueOf(isAuthenticate()));
        props.put("mail.smtp.starttls.enable", String.valueOf(isStartTlsEnabled()));
        props.put("mail.smtp.quitwait", String.valueOf(isQuitWait()));
        props.put("mail.smtp.port", String.valueOf(getSmtpPort()));
        if (isSmtpSsl()) {
            props.put("mail.smtps.auth", String.valueOf(isAuthenticate()));
        	props.put("mail.smtp.socketFactory.class", "javax.net.ssl.SSLSocketFactory");
        	props.put("mail.smtp.socketFactory.port", String.valueOf(getSmtpPort()));
        	props.put("mail.smtp.socketFactory.fallback", "false");
        }

        m_session = Session.getInstance(props, createAuthenticator());
        //Session session = Session.getInstance(props, null);
        m_session.setDebugOut(new PrintStream(new LoggingByteArrayOutputStream(log()), true));
        m_session.setDebug(isDebug());
        
    }

