    /**
     * Utility method used to determine if the specified node has been marked as
     * deleted in the node table.
     * 
     * @param dbc
     *            Database connection.
     * @param nodeId
     *            Node identifier to check
     * 
     * @return TRUE if node has been marked as deleted, FALSE otherwise.
     */
    private static boolean isNodeDeleted(final Connection dbc, final int nodeId) throws SQLException {
        boolean nodeDeleted = false;

        /*
         * Prepare & execute the SQL statement to retrieve the 'nodetype' field
         * from the node table for the specified nodeid.
         */
        final DBUtils d = new DBUtils(RescanProcessor.class);
        try {
            final PreparedStatement stmt = dbc.prepareStatement(SQL_DB_RETRIEVE_NODE_TYPE);
            d.watch(stmt);
            stmt.setInt(1, nodeId);
            final ResultSet rs = stmt.executeQuery();
            d.watch(rs);
            rs.next();
            final String nodeTypeStr = rs.getString(1);
            if (!rs.wasNull()) {
                if (NodeType.DELETED.toString().equals(nodeTypeStr.charAt(0))) {
                    nodeDeleted = true;
                }
            }
        } finally {
            d.cleanUp();
        }

        return nodeDeleted;
    }

