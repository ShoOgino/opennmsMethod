    /**
     * Checks the response body as a substring or regular expression match
     * according to the leading-tilde convention
     *
     * @param config ConnectionConfig object from which response-text property is extracted
     * @param response Body of HTTP response to check
     * @return Whether the response matches the response-text property
     */
    protected boolean checkResponseBody(ConnectionConfig config, String response) {
        String expectedResponse = config.getKeyedString(PROPERTY_NAME_RESPONSE_TEXT, null);
        if (expectedResponse == null) {
            return true;
        }
        if (expectedResponse.startsWith("~")) {
            Pattern bodyPat = Pattern.compile(expectedResponse.substring(1), Pattern.DOTALL);
            return bodyPat.matcher(response).matches();
        } else {
            return response.contains(expectedResponse);
        }
    }

