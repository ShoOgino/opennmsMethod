    /** {@inheritDoc} */
    @Override
    public boolean isProtocolSupported(InetAddress address, Map<String, Object> map) {
        
        if (protocolName == null) {
            protocolName = getProtocolName(map);
        }

        boolean res = false;
        JmxServerConnectionWrapper connection = null;
        try {

            connection = new DefaultConnectionManager(1).connect(getConnectionName(), InetAddressUtils.str(address), JmxUtils.convertToStringMap(map), null);

            Integer result = connection.getMBeanServerConnection().getMBeanCount();
            LOG.debug("isProtocolSupported? {} {} {}", getProtocolName(), result, connection);
            if (result != null) {
                res = true;
            }
        } catch (Throwable e) {
            LOG.debug("{} - isProtocolSupported - failed! {}", getProtocolName(map), InetAddressUtils.str(address));
        } finally {
            if (connection != null) {
                connection.close();
            }
        }
        
        return res;
    }

