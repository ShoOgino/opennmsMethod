    private void getSubInterfacesForNewInterface(Connection dbc,
            DbNodeEntry node, InetAddress ifaddr, IfCollector collector,
            Date now, int nodeId, int ifIndex) throws SQLException {
        if (!collector.hasSnmpCollection()) {
            return;
        }

        Category log = ThreadCategory.getInstance(getClass());

        CapsdConfig cFactory = CapsdConfigFactory.getInstance();
        PollerConfig pollerCfgFactory = PollerConfigFactory.getInstance();
        
        IfSnmpCollector snmpc = collector.getSnmpCollector();

        // Made it this far...lets add the IP sub-interfaces
        addSubIpInterfaces(dbc, node, collector, now, nodeId, log, cFactory,
                           pollerCfgFactory, snmpc);
        
        // Now add any non-IP interfaces
        addSubNonIpInterfaces(dbc, collector, now, nodeId, snmpc);

        // last thing to do is add all the snmp interface information
        boolean addedSnmpInterfaceEntry =
            addSubSnmpInterfaces(dbc, ifaddr, nodeId, snmpc);

        if (ifIndex == CapsdConfigFactory.LAME_SNMP_HOST_IFINDEX
                || !addedSnmpInterfaceEntry) {
            DbSnmpInterfaceEntry snmpEntry =
                DbSnmpInterfaceEntry.create(nodeId, ifIndex);
            // IP address
            snmpEntry.setIfAddress(ifaddr);
            snmpEntry.store(dbc);
        }
    }

