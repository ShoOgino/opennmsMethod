    @SuppressWarnings("rawtypes")
    public static void terminate(BSFManager manager) {
        // Termination code from 2.5.0-SNAPSHOT
        Enumeration<?> enginesEnum = manager.loadedEngines.elements();
        BSFEngine engine;
        while (enginesEnum.hasMoreElements()) {
            engine = (BSFEngine) enginesEnum.nextElement();
            manager.pcs.removePropertyChangeListener(engine);   // rgf, 2014-12-30: removing memory leak
            engine.terminate();
        }
        manager.loadedEngines = new Hashtable();

        // Call terminate again for sanity
        manager.terminate();
    }

