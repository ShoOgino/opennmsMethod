    @Test
    public void testRestart() {
        testSetStatus("localhost", "127.0.0.1", "PSV", PollStatus.up());

        testSetStatus("localhost", "127.0.0.1", "PSV2", PollStatus.down());
        
        MockService svc = m_network.getService(100, "127.0.0.1", "PSV2");
        Event downEvent = svc.createDownEvent();
        m_db.writeEvent(downEvent);
        m_db.createOutage(svc, downEvent);

        m_psk.stop();
        
        m_psk.setEventManager(m_eventMgr);
        m_psk.setDataSource(m_db);
        m_psk.init();
        m_psk.start();
        
        assertEquals(PollStatus.up(), PassiveStatusKeeper.getInstance().getStatus("localhost", "127.0.0.1", "PSV"));
        assertEquals(PollStatus.down(), PassiveStatusKeeper.getInstance().getStatus("localhost", "127.0.0.1", "PSV2"));
    }

