    private boolean compareEvents(Event anticipated, Event received) {
        if (!anticipated.getUei().equals(received.getUei())) {
            log().info("compareEvents: uei differs. Received '" + received.getUei() + "' and must be '" + anticipated.getUei() + "'");
            return false;
        }
        if (anticipated.getNodeid() != received.getNodeid()) {
            log().info("compareEvents: nodeid differs. Received '" + received.getNodeid() + "' and must be '" + anticipated.getNodeid() + "'");
            return false;
        }
        if (!anticipated.getInterface().equals(received.getInterface())) {
            log().info("compareEvents: interface differs. Received '" + received.getInterface() + "' and must be '" + anticipated.getInterface() + "'");
            return false;
        }
        if (!anticipated.getService().equals(received.getService())) {
            log().info("compareEvents: service differs. Received '" + received.getService() + "' and must be '" + anticipated.getService() + "'");
            return false;
        }
        for (Parm source : anticipated.getParms().getParmCollection()) {
            Parm found = null;
            for (Parm p : received.getParms().getParmCollection()) {
                if (p.getParmName().equals(source.getParmName()))
                    found = p;
            }
            if (found == null) {
                log().info("compareEvents: parameter " + source.getParmName() + " not found on received event");
                return false;
            }
            if (source.getValue().getContent() == null)
                source.getValue().setContent("null");
            if (!found.getValue().getContent().equals(source.getValue().getContent()) ) {
                log().info("compareEvents: parameter " + source.getParmName() + " differs. Received '" + found.getValue().getContent() + "' and must be '" + source.getValue().getContent() + "'");
                return false;
            }
        }
        return true;
    }

