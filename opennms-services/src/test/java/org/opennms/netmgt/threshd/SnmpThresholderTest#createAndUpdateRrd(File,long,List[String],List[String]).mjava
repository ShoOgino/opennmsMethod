    private void createAndUpdateRrd(File rrdPath, long start, List<String> sources, List<String> values) throws Exception {
        // Creating RRD
        long ts = start/1000;
        RrdDef rrdDef = new RrdDef(rrdPath.getAbsolutePath(), ts - 300, 300);
        for (String source : sources) {
            rrdDef.addDatasource(source, "GAUGE", 600, 0, Double.NaN);
        }
        rrdDef.addArchive("AVERAGE", 0.5, 1, 600);
        System.err.println(rrdDef.dump());
        RrdDb rrdDb = new RrdDb(rrdDef);
        rrdDb.close();
        // Updating RRD
        rrdDb = new RrdDb(rrdPath.getAbsolutePath());
        Sample sample = rrdDb.createSample();
        for (String value : values) {
            sample.setAndUpdate(Long.toString(ts) + ":" + value);
            System.err.println(sample.dump());
            ts += 300;
        }
        rrdDb.close();
    }

