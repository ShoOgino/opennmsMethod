    protected void setUp() throws Exception {
        super.setUp();
        
        MockLogAppender.setupLogging();
        
        setupDatabase();
        
        createMockRrd();

        setupEventManager();
        
        MockService svc = m_network.getService(1, "192.168.1.1", "SNMP");
        
        MockNode node = svc.getNode();
        
       
        String rrdRepository = "target/threshd-test";
        String fileName = "cpuUtilization"+RrdUtils.getExtension();
        int nodeId = 1;
        String ipAddress = "192.168.1.1";
        String serviceName = "SNMP";
        String groupName = "default-snmp";
        
        setupThresholdConfig(rrdRepository+"/"+nodeId, fileName, ipAddress, serviceName, groupName);

        m_thresholder = new SnmpThresholder();
        m_thresholder.initialize(m_serviceParameters);
        m_thresholder.initialize(m_iface, m_parameters);

    }

