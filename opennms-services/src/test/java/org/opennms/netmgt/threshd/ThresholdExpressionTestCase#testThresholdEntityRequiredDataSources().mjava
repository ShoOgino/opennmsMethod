    public void testThresholdEntityRequiredDataSources() throws Exception {
        ThresholdEntity entity=new ThresholdEntity();
        expression.setExpression("(hrStorageSize-hrStorageUsed)*hrStorageAllocationUnits");
        BaseThresholdDefConfigWrapper wrapper=BaseThresholdDefConfigWrapper.getConfigWrapper(expression);

        entity.addThreshold(wrapper);
        Collection<String> dataSources=entity.getRequiredDatasources();
        
        assertTrue("Required data sources contains name",dataSources.contains("hrStorageSize"));
        assertTrue("Required data sources contains name",dataSources.contains("hrStorageUsed"));
        assertTrue("Required data sources contains name",dataSources.contains("hrStorageAllocationUnits"));
    }

