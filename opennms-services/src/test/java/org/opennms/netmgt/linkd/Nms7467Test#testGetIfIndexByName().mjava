    @Test 
    @Transactional
    public void testGetIfIndexByName() throws SQLException {
        m_nodeDao.save(builder.getCiscoC870());
        m_nodeDao.save(builder.getCiscoWsC2948());
        m_nodeDao.flush();

        OnmsNode ciscorouter = m_nodeDao.findByForeignId("linkd", CISCO_C870_NAME);
        assertEquals("FastEthernet2", ciscorouter.getSnmpInterfaceWithIfIndex(3).getIfDescr());

        OnmsNode ciscosw = m_nodeDao.findByForeignId("linkd", CISCO_WS_C2948_NAME);
        assertEquals("2/44", ciscosw.getSnmpInterfaceWithIfIndex(52).getIfName());

        HibernateEventWriter db = (HibernateEventWriter)m_linkd.getQueryManager();
        assertEquals(3, db.getIfIndexByName(ciscorouter.getId(), "FastEthernet2"));
        assertEquals(52,db.getIfIndexByName(ciscosw.getId(), "2/44"));
        
    }

