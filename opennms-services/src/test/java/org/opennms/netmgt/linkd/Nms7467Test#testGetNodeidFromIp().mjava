    @Test
    public void testGetNodeidFromIp() throws UnknownHostException, SQLException {
        m_nodeDao.save(getCiscoC870());
        m_nodeDao.flush();
        
        HibernateEventWriter db = (HibernateEventWriter)m_linkd.getQueryManager();
        
        final int nodeid = db.getNodeidFromIp(null, InetAddress.getByName(CISCO_C870_IP)).get(0);
        assertEquals(m_nodeDao.findByForeignId("linkd", CISCO_C870_NAME).getId().intValue(), nodeid);
    }

