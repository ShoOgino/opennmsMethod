    public final void testIsV3ProtocolSupported() throws ValidationException, IOException, IOException, MarshalException {
        setVersion(SnmpAgentConfig.VERSION3);
        ByteArrayResource rsrc = new ByteArrayResource(getSnmpConfig().getBytes());
        SnmpPeerFactory.setInstance(new SnmpPeerFactory(rsrc));

        if (m_runAssertions) {
            assertTrue("protocol is not supported", m_plugin.isProtocolSupported(InetAddress.getByName(myLocalHost())));
        }
    }

