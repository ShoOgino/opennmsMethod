        public void check(BroadcastDomain domain) throws BridgeTopologyException {
            List<SharedSegment> links = domain.getSharedSegments();

            assertEquals(1, links.size());
            for (SharedSegment shared: links) {
                assertTrue(!shared.noMacsOnSegment());
                assertEquals(0, SharedSegment.getBridgeBridgeLinks(shared).size());
                assertEquals(nodeAId,shared.getDesignatedBridge());
                assertEquals(portA1,shared.getDesignatedPort().getBridgePort());
                assertEquals(1, shared.getBridgeIdsOnSegment().size());
                assertEquals(4, shared.getMacsOnSegment().size());
                final Set<String> macs = shared.getMacsOnSegment();
                assertTrue(macs.contains(mac1));
                assertTrue(macs.contains(mac2));
                assertTrue(macs.contains(mac3));
                assertTrue(macs.contains(mac4));
                for (BridgeMacLink link: SharedSegment.getBridgeMacLinks(shared)) {
                    assertEquals(portA1, link.getBridgePort());
                }
            }

        }

