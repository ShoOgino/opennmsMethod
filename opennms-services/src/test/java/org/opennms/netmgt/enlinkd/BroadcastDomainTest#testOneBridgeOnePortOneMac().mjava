    @Test
    public void testOneBridgeOnePortOneMac() throws Exception {

        OneBridgeOnePortOneMacTopology topology = new OneBridgeOnePortOneMacTopology();
        BroadcastDomain bridgeTopology = new BroadcastDomain();

        bridgeTopology.loadBFT(topology.nodeAId,topology.bftA,null,topology.elemlist);
        assertTrue(bridgeTopology.hasTopologyUpdatedBft());
        assertTrue(!bridgeTopology.isCalculating());

        NodeDiscoveryBridgeTopology ndbt= new NodeDiscoveryBridgeTopology(linkd, null);
        ndbt.setDomain(bridgeTopology);
        ndbt.setNotYetParsedBFTMap(bridgeTopology.removeUpdateMap());
        ndbt.calculate();
        topology.check(bridgeTopology.getTopology());
        assertTrue(!bridgeTopology.hasTopologyUpdatedBft());
        assertTrue(!bridgeTopology.isCalculating());
    }

