    @SuppressWarnings("unchecked")
	private void squawk(final HttpServletResponse resp, String reason) throws IOException {
    	JSONObject errorJson = new JSONObject();
    	errorJson.put("message", reason);
    	errorJson.put("detailed_error", "");
    	errorJson.put("request_id", "deadbeefcafebabe");
    	errorJson.put("status_code", 500);
    	errorJson.put("isoauth", false);
    	
    	final String responseText = errorJson.toJSONString();
    	final ServletOutputStream os = resp.getOutputStream();
    	os.print(responseText);
    	os.close();
    	resp.setContentType("application/json");
    	resp.setContentLength(responseText.length());
    	resp.setStatus(500);
    }

