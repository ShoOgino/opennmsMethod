    @Test
    public void testEventWithoutValidNodeDetailsWhenRuleIsStrict() throws Exception {
        int initialSize = m_notificationDao.countAll();
        EventBuilder builder = new EventBuilder("uei.opennms.org/test/noticeIdExpansion", "test");
        builder.setTime(new Date());
        Event event = builder.getEvent();
        // Don't set node/interface/service for the event.
        m_eventMgr.sendEventToListeners(event);
        // Wait for 5 secs so that event is processed by notifd.
        Thread.sleep(5000);
        int finalSize = m_notificationDao.countAll();
        // This Notification shouldn't get saved.
        assertSame(initialSize, finalSize);
    }

