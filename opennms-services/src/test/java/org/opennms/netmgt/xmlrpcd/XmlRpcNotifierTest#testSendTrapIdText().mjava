    @Test
    public void testSendTrapIdText() {
        Date date = new Date();
        String enterpriseId = ".1.3.6.4.1.1.1";

        Hashtable<String, String> trapMap = basicTrapMap(date, "public", enterpriseId, 6, 2, date.getTime(), "1");
        trapMap.put("enterpriseIdText", "foo!");

        m_anticipator.anticipateCall("sendSnmpTrapEvent", trapMap);

        Event e = makeBasicEvent(EventConstants.formatToString(date));

        Snmp s = makeBasicTrapEventSnmp("public", 6, enterpriseId, 2, date.getTime(), "1");
        s.setIdtext("foo!");
        e.setSnmp(s);
        
        assertTrue("notifier sendEvent", m_notifier.sendEvent(e));
        
        finishUp();
    }

