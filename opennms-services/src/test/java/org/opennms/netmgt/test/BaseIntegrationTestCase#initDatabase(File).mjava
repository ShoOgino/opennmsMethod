    protected void initDatabase(File etcDir) throws Exception {
        
        runSql("template1", "drop database "+m_databaseName+";");
        runSql("template1", "create database "+m_databaseName+" with encoding='unicode';");

        List<File> sqlFiles = locateSqlFiles(etcDir);
        for (File sqlFile : sqlFiles) {
            assertTrue(loadSqlFile(m_databaseName, sqlFile));
        }
        
        assertTrue(runSql(m_databaseName, 
                "CREATE OR REPLACE FUNCTION iplike(text, text) RETURNS bool AS ' BEGIN RETURN true; END; ' LANGUAGE 'plpgsql';"));
    }

