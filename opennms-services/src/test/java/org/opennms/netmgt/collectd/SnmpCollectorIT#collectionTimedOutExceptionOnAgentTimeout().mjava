    @Transactional
    @JUnitCollector(
                    datacollectionConfig = "/org/opennms/netmgt/config/datacollection-persistTest-config.xml",
                    datacollectionType = "snmp"
            )
    public void collectionTimedOutExceptionOnAgentTimeout() throws CollectionInitializationException, CollectionException {
        // There is no @JUnitSnmpAgent annotation on this method, so
        // we don't actually start the SNMP agent, which should
        // generate a CollectionTimedOut exception

        CollectionException caught = null;
        try {
            m_collectionSpecification.collect(m_collectionAgent);
        } catch (final CollectionException e) {
            caught = e;
        }

        assertNotNull(caught);
        assertEquals(CollectionTimedOut.class, caught.getCause().getClass());
    }

