	public void testOneMatchingSpec() {
		m_collectd.init();
		m_collectd.start();
		
		String svcName = "SNMP";
		OnmsIpInterface iface = getInterface();
		List specs = Collections.singletonList(getCollectionSpecification());

		setupCollector(svcName);
		setupInterface(iface);
		setupSpecs(iface, svcName, specs);
		
		m_collector.expects(once()).method("initialize").with(isA(CollectionAgent.class), isA(Map.class));

		m_scheduler.next();
		
		assertEquals(1, m_scheduler.getEntryCount());
		
		//public int collect(CollectionAgent agent, EventProxy eproxy, Map parameters);
		m_collector.expects(once()).method("collect").with(isA(CollectionAgent.class), isA(EventProxy.class), isA(Map.class));
		
		m_scheduler.next();
		
		m_collectd.stop();
		
	}

