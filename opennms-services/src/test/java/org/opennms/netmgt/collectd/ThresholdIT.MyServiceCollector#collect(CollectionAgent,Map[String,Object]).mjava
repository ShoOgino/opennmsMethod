        @Override
        public CollectionSet collect(CollectionAgent agent, Map<String, Object> parameters) throws CollectionException {
            final CollectionSet collectionSet = sessionUtils.withReadOnlyTransaction(() -> {
                final NodeLevelResource nodeLevelResource = new NodeLevelResource(agent.getNodeId());
                return new CollectionSetBuilder(agent)
                        .withNumericAttribute(nodeLevelResource, "systemMem", "freeMem", 10001d, AttributeType.GAUGE)
                        .build();
            });
            // Count down the latch after we build the collection set in case an error occurs while building
            latch.countDown();
            return collectionSet;
        }

