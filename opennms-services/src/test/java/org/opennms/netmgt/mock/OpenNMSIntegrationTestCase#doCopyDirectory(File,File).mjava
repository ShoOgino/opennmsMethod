    private void doCopyDirectory(File srcDir, File destDir) throws IOException {
        if (!destDir.exists()) {
            assertTrue("Unable to create directory "+destDir, destDir.mkdirs());
        }
        
        for(File srcFile : srcDir.listFiles()) {
            File destFile = new File(destDir, srcFile.getName());
            if (srcFile.isDirectory()) {
                doCopyDirectory(srcFile, destFile);
            } else {
                doCopyFile(srcFile, destFile);
            }
        }
    }

