    public synchronized void anticipateOutageClosed(MockElement element, final Event regainService) {
        MockVisitor outageCounter = new MockVisitorAdapter() {
            public void visitService(MockService svc) {
                if ((m_db.hasOpenOutage(svc) || anticipatesOpen(svc)) && !anticipatesClose(svc)) {
                    // descrease the open ones.. leave the total the same
                    m_expectedOpenCount--;
                    
                    Collection openOutages = m_db.getOpenOutages(svc);
                    for (Iterator it = openOutages.iterator(); it.hasNext();) {
                        Outage outage = (Outage) it.next();
                        MockUtil.println("Anticipating outage closed: "+outage);

                        addToOutageList(m_pendingCloses, regainService, outage);
                    }
                }
            }
        };
        element.visit(outageCounter);
    }

