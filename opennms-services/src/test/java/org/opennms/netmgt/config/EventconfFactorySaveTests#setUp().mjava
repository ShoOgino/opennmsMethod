    protected void setUp() throws Exception {
        super.setUp();
        m_fa = new FileAnticipator();

        
        //Create a temporary directory
        String tempHome=m_fa.getTempDir().getAbsolutePath();
        String origHome="src/test/resources";
        m_fa.expecting(new File(tempHome), "etc");
        m_fa.expecting(new File(tempHome), "etc/events");
        createTempCopy(m_fa, origHome, tempHome, "etc/eventconf.xml");
        createTempCopy(m_fa, origHome, tempHome, "etc/events/Standard.events.xml");
        createTempCopy(m_fa, origHome, tempHome, "etc/events/nested.events.xml");

        //Change the opennms.home and load the EventconfFactory from the new temporary copy
        System.setProperty("opennms.home", tempHome);
        EventconfFactory.reinit();

    }

