    public final void testHttpRegex() throws Exception {
        CapsdConfigManager config = new DefaultCapsdConfigManager(Thread.currentThread().getContextClassLoader().getResourceAsStream("testHttpRegex.xml"));
        ProtocolPlugin http = config.getProtocolPlugin("HTTP");
        Property regexProperty = null;
        for (Property prop : http.getPropertyCollection()) {
            if ("response-text".equals(prop.getKey())) {
                regexProperty = prop;
                break;
            }
        }
        assertEquals("HTTP regex does not match expected value", "~\\{.nodes.: \\[\\{.nodeid.:.*", regexProperty.getValue());

        // This code approximates how this parameter is used inside
        // {@link HttpPlugin#checkResponseBody(ConnectionConfig config, String response)
        Pattern bodyPat = Pattern.compile(regexProperty.getValue().substring(1), Pattern.DOTALL);
        assertTrue(bodyPat.matcher("{\"nodes\": [{\"nodeid\": \"19\", \"nodelabel\": \"\"},{\"nodeid\": \"21\", \"nodelabel\": \"\"}]}").matches());
        assertFalse(bodyPat.matcher("{\"nodes\": [ ]}").matches());
    }

