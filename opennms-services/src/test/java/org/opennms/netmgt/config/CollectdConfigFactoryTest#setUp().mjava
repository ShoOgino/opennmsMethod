    @Before
    public void setUp() throws Exception {
        
        MockLogAppender.setupLogging();

        MockNetwork network = new MockNetwork();

        MockDatabase db = new MockDatabase();
        db.populate(network);

        DataSourceFactory.setInstance(db);
        
        // ensure that this is working 
        FilterDaoFactory.getInstance();

        Reader rdr = ConfigurationTestUtils.getReaderForResource(this, "collectd-testdata.xml");
        try {
            m_factory = new CollectdConfigFactory(rdr, "localhost", false);
        } finally {
            rdr.close();
        }
    }

