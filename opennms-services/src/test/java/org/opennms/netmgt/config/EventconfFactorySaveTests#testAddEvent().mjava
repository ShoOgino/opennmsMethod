    public void testAddEvent() {
        EventconfFactory factory=EventconfFactory.getInstance();
        Event event=getAddableEvent();
        
        //The tested event
        factory.addEvent(event);
        
        {
            List<Event> events=factory.getEvents(newUEI);
            assertNotNull("Should be at least one event", events);
            assertEquals("Should be only one event", 1, events.size());
            Event fetchedEvent=events.get(0);
            checkAddableEvent(fetchedEvent);
        }
        
        try {
            factory.saveCurrent();
            EventconfFactory.reload();
        } catch (Exception e) {
            e.printStackTrace();
            fail("Shouldn't throw exception while saving  and reloading factory: "+e.getMessage());
        }
        
        {
            //Check that the new Event is still there
            List<Event> events=factory.getEvents(newUEI);
            assertNotNull("Should be at least one event", events);
            assertEquals("Should be only one event", 1, events.size());
            Event fetchedEvent=events.get(0);
            checkAddableEvent(fetchedEvent);
        }
    }

