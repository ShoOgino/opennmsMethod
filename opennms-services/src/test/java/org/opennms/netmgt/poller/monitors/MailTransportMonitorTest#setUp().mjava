    @Before
    public void setUp() throws Exception {
        MockLogAppender.setupLogging();

        final Resource resource = new ClassPathResource("/etc/javamail-configuration.properties");
        final File homeDir = resource.getFile().getParentFile().getParentFile();

        System.out.println("homeDir: " + homeDir.getAbsolutePath());
        System.setProperty("opennms.home", homeDir.getAbsolutePath());

        m_monitor = new MailTransportMonitor();
        m_monitor.initialize(new HashMap<String,Object>());

        m_params = new HashMap<String, Object>();
        m_params.put("timeout", "3000");
        m_params.put("retries", "1");
    }

