    @Before
    // Cannot avoid this warning since there is no way to fetch the class object for an interface
    // that uses generics
    public void setUp() throws Exception {
        BeanUtils.setStaticApplicationContext(m_context);

        m_mocks = new EasyMockUtils();
        m_pollerConfig = m_mocks.createMock(PollerConfig.class);

        MockLogAppender.setupLogging();

        String previousOpennmsHome = System.setProperty("opennms.home", "src/test/resources");
        m_pollOutagesDao.overrideConfig(getClass().getResourceAsStream("/etc/poll-outages.xml"));
        m_threshdDao.overrideConfig(getClass().getResourceAsStream("/etc/threshd-configuration.xml"));
        m_thresholdingDao.overrideConfig(getClass().getResourceAsStream("/etc/thresholds.xml"));
        System.setProperty("opennms.home", previousOpennmsHome);

        MockNetwork network = new MockNetwork();
        network.setCriticalService("ICMP");
        network.addNode(1, "testNode");
        network.addInterface("127.0.0.1");
        network.setIfAlias("eth0");
        network.addService("ICMP");
        network.addService("SNMP");
        m_db.populate(network);
    }

