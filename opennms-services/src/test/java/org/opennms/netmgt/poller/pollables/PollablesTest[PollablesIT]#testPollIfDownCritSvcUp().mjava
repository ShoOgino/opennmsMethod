    @Test
    public void testPollIfDownCritSvcUp() throws Exception {

        mDot1.bringDown();

        pDot1.updateStatus(PollStatus.down());
        pDot1Icmp.updateStatus(PollStatus.down());
        pDot1.setCause(new DbPollEvent(1, EventConstants.INTERFACE_DOWN_EVENT_UEI, new Date()));

        m_network.recalculateStatus();
        m_network.resetStatusChanged();

        assertDown(pDot1Icmp);
        assertDown(pDot1);
        
        mDot1Icmp.bringUp();
        
        pDot1Icmp.doPoll();
        
        assertDown(pDot1Smtp);
        assertUp(pDot1Icmp);
        assertUp(pDot1);
        
        assertChanged(pDot1Icmp);
        assertChanged(pDot1);
        
        assertPoll(mDot1Smtp);
        assertPoll(mDot1Icmp);
        assertNoPoll(m_mockNetwork);

    }

