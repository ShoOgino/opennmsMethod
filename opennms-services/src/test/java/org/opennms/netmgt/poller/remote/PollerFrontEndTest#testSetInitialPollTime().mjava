    public void testSetInitialPollTime() throws Exception {
        
        Date start = new Date(1200000000000L);
        
        expect(m_settings.getMonitorId()).andReturn(1).atLeastOnce();
        
        anticipateNewConfig(pollConfig());
        
        expect(m_backEnd.pollerStarting(1, getPollerDetails())).andReturn(true);
        

        replayMocks();
        
        m_frontEnd.afterPropertiesSet();
        
        int polledServiceId = m_pollerConfiguration.getFirstId();
        
        m_frontEnd.setInitialPollTime(polledServiceId, start);
        
        assertEquals(start, m_frontEnd.getServicePollState(polledServiceId).getNextPollTime());
        
        verifyMocks();
    }

