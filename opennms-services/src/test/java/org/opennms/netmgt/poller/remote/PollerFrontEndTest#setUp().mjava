	@Override
	protected void setUp() throws Exception {

		m_backEnd = createMock(PollerBackEnd.class);
		m_settings = createMock(PollerSettings.class);
		m_pollService = createMock(PollService.class);
		m_registrationListener = createMock(PropertyChangeListener.class);
		m_polledServiceListener = createMock(ServicePollStateChangedListener.class);
		m_configChangeListener = createMock(ConfigurationChangedListener.class);

		setPollConfig(new DemoPollerConfiguration());
		m_oldPollerConfiguration = null;

		m_frontEnd = new DefaultPollerFrontEnd();
		m_frontEnd.setPollerBackEnd(m_backEnd);
		m_frontEnd.setPollerSettings(m_settings);
		m_frontEnd.setPollService(m_pollService);
		
		m_frontEnd.addConfigurationChangedListener(m_configChangeListener);
		m_frontEnd.addPropertyChangeListener(m_registrationListener);
		m_frontEnd.addServicePollStateChangedListener(m_polledServiceListener);
		
		m_serviceStatus = PollStatus.available(1234L);

	}

