    /**
     * Test for NMS-7426.
     */
    @Test
    public void testServicesWithoutPackagesAreMarkedAsNotPolled() {
        MockService monitoredSvc = m_network.getService(5, "192.168.1.7", "SNMP");
        MockService notMonitoredSvc = m_network.getService(5, "192.168.1.7", "NotMonitored");
        OnmsMonitoredService notMonitored = m_monitoredServiceDao.get(
                notMonitoredSvc.getNodeId(),
                notMonitoredSvc.getAddress(),
                notMonitoredSvc.getSvcName());

        // The status should be set initially set to active
        assertEquals("A", notMonitored.getStatus());

        // Start the poller
        startDaemons();

        // Take a service down, and wait for the event
        // We do this to make ensure the nodes services we're in fact scheduled
        anticipateDown(monitoredSvc);

        monitoredSvc.bringDown();

        verifyAnticipated(10000);

        // The status should now be set to not monitored
        notMonitored = m_monitoredServiceDao.get(
                notMonitoredSvc.getNodeId(),
                notMonitoredSvc.getAddress(),
                notMonitoredSvc.getSvcName());
        assertEquals("N", notMonitored.getStatus());
    }

