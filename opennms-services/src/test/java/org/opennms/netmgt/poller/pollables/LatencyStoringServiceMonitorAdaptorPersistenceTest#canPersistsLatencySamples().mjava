    @Test
    public void canPersistsLatencySamples() throws Exception {
        // No location - the path in the response time folder should be the IP address
        persistAndVerifyLatencySamples(null, Paths.get("192.168.1.5"));

        // Default location - the path in the response time folder should be the IP address
        persistAndVerifyLatencySamples(MonitoringLocationDao.DEFAULT_MONITORING_LOCATION_ID, Paths.get("192.168.1.5"));

        // Non-default location - the path in the response time folder should be the location name, and then the IP address
        final String nonDefaultLocation = "not_" + MonitoringLocationDao.DEFAULT_MONITORING_LOCATION_ID;
        persistAndVerifyLatencySamples(nonDefaultLocation, Paths.get(nonDefaultLocation, "192.168.1.5"));

        // Location with special characters
        final String someLocation = "TOG @ Pittsboro, NC";
        persistAndVerifyLatencySamples(someLocation, Paths.get("TOG___Pittsboro__NC", "192.168.1.5"));
    }

