    @Test
    public void testServiceEvent() throws Exception {
        MockService mSvc = mDot1Smtp;
        PollableService pSvc = pDot1Smtp;
        
        anticipateDown(mSvc);

        mSvc.bringDown();
        
        pSvc.doPoll();
        
        m_network.processStatusChange(new Date());
        
        verifyAnticipated();
        
        // anticipate nothin since service is still down
        
        pSvc.doPoll();
        
        m_network.processStatusChange(new Date());
        
        verifyAnticipated();
        
        anticipateUp(mSvc);
        
        mSvc.bringUp();
        
        pSvc.doPoll();
        
        m_network.processStatusChange(new Date());
        
        verifyAnticipated();
        
    }

