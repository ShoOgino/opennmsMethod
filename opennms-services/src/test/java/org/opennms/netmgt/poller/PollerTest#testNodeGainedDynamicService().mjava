    public void testNodeGainedDynamicService() throws Exception {
        m_pollerConfig.setNodeOutageProcessingEnabled(true);

        startDaemons();
        
        OpenNMSProvisioner provisioner = new OpenNMSProvisioner();
        provisioner.setPollerConfig(m_pollerConfig);
        provisioner.setCapsdConfig(new TestCapsdConfigManager());
        
        provisioner.setEventManager(m_eventMgr);
        provisioner.addServiceDNS("MyDNS", 3, 100, 1000, 500, 3000, 53, "www.opennms.org");

        assertNotNull("The service id for MyDNS is null", m_db.getServiceID("MyDNS"));
        MockUtil.println("The service id for MyDNS is: "+m_db.getServiceID("MyDNS").toString());
        
        m_anticipator.reset();
        testSendNodeGainedService("MyDNS");

        
    }

