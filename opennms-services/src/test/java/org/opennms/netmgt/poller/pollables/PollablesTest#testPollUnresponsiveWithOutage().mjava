    @Test
    public void testPollUnresponsiveWithOutage() {
        m_pollContext.setServiceUnresponsiveEnabled(true);

        anticipateUnresponsive(mDot1);

        mDot1.bringUnresponsive();

        pDot1Smtp.doPoll();

        m_network.processStatusChange(new Date());

        pDot1Icmp.doPoll();

        m_network.processStatusChange(new Date());

        assertUp(pDot1);
        verifyAnticipated();

        anticipateDown(mDot1);

        mDot1.bringDown();

        pDot1Smtp.doPoll();

        m_network.processStatusChange(new Date());

        verifyAnticipated();

        anticipateUp(mDot1);

        mDot1.bringUp();

        pDot1Icmp.doPoll();

        m_network.processStatusChange(new Date());

        verifyAnticipated();

        anticipateUnresponsive(mDot1);

        mDot1.bringUnresponsive();

        pDot1Smtp.doPoll();

        m_network.processStatusChange(new Date());

        pDot1Icmp.doPoll();

        m_network.processStatusChange(new Date());

        assertUp(pDot1);
        verifyAnticipated();


    }

