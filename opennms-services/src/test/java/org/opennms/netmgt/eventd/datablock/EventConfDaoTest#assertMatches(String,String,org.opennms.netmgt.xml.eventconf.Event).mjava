    private void assertMatches(String string, String expectedUei, org.opennms.netmgt.xml.eventconf.Event configuredEvent) {

        if (expectedUei != null) {
            if (configuredEvent == null) {
                fail("Was expecting to match an eventconf with a UEI of \"" + expectedUei +
                "\", but no matching eventconf was found.");
            } else {
                if (!expectedUei.equals(configuredEvent.getUei())) {
                    fail("Was expecting to match an eventconf with a UEI of \"" + expectedUei +
                            "\", but received an eventconf with a UEI of \"" + configuredEvent.getUei() +
                    "\"");
                }
                // everything's fine
            }
        } else {
            if (configuredEvent != null) {
                boolean complain = true;

                Logmsg logmsg = configuredEvent.getLogmsg();
                if (logmsg != null) {
                    String dest = logmsg.getDest();
                    if ("discardtraps".equals(dest)) {
                        complain = false;
                    }
                }

                if (complain) {
                    fail("Was not expecting an eventconf, but received an eventconf with " +
                            "an UEI of \"" + configuredEvent.getUei() + "\"");
                }
            }
            // everything's fine
        }

        finishUp();
    }

