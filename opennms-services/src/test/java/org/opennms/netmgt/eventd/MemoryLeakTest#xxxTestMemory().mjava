    public void xxxTestMemory() throws Exception {
        EventProxy proxy = new TcpEventProxy(new InetSocketAddress(InetAddressUtils.addr("127.0.0.1"), 5837));
        double eventRate = 10.0 / 1000.0;
        
        long start = System.currentTimeMillis();
        long count = 0;
        while(true) {
            long now = Math.max(System.currentTimeMillis(), 1);
            double actualRate = ((double)count) / ((double)(now - start));
            if (actualRate < eventRate) {
                sendEvent(proxy, count);
                count++;
            }
            Thread.sleep(10);
            System.err.println(String.format("Expected Rate: %f Actual Rate: %f Events Sent: %d", eventRate, actualRate, count));
        }
        
    }

