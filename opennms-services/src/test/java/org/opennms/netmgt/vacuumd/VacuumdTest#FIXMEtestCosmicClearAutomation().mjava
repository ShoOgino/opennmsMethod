    /**
     * This tests the capabilities of the cosmicClear autmation as shipped in the standard build.
     * @throws InterruptedException 
     */
    public final void FIXMEtestCosmicClearAutomation() throws InterruptedException {
                
        bringNodeDownCreatingEvent(1);
        bringNodeDownCreatingEvent(2);
        Thread.sleep(500);
        bringNodeUpCreatingEvent(1);
        Thread.sleep(500);
        
        SingleResultQuerier srq = new SingleResultQuerier(m_db, "select clearUei from alarms where eventUei = \'uei.opennms.org/nodes/nodeUp\'");
        srq.execute();
        String result = (String)srq.getResult();
        MockUtil.println(result);
        assertTrue("uei.opennms.org/nodes/nodeDown".equals(result));
        
        srq = new SingleResultQuerier(m_db, "select count(*) from alarms");
        srq.execute();
        Integer rows = (Integer)srq.getResult();
        assertEquals(3, rows.intValue());

        srq = new SingleResultQuerier(m_db, "select count(*) from alarms where severity = 2");
        srq.execute();
        rows = (Integer)srq.getResult();
        assertEquals(1, rows.intValue());

        srq = new SingleResultQuerier(m_db, "select count(*) from alarms where severity > 2");
        srq.execute();
        rows = (Integer)srq.getResult();
        assertEquals(2, rows.intValue());

        AutomationProcessor ap = new AutomationProcessor();
        ap.setAutomation(VacuumdConfigFactory.getInstance().getAutomation("cosmicClear"));
        ap.run();
        Thread.sleep(1000);
        
        srq = new SingleResultQuerier(m_db, "select count(*) from alarms where severity = 2");
        srq.execute();
        rows = (Integer)srq.getResult();
        assertEquals(2, rows.intValue());

        srq = new SingleResultQuerier(m_db, "select count(*) from alarms where severity > 2");
        srq.execute();
        rows = (Integer)srq.getResult();
        assertEquals(1, rows.intValue());
        
    }

