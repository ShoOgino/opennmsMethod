    public void testRenderNullGraphDef() throws Exception {
        boolean gotException = false;
        
        m_session.setAttribute("graphDef", null);
        
        try {
            m_view.render(new HashMap(), m_request, m_response);
        } catch (IllegalStateException e) {
            assertEquals("Received IllegalStateException as expected; getMessage() on exception does not match",
                    "session has no \"graphDef\" attribute, or it is null",
                    e.getMessage());
            gotException = true;
        }
        
        if (!gotException) {
            fail("Expected IllegalStateException, but did not receive it");
        }
    }

