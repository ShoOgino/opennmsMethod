    public Filter getFilter(final String filterName) {
        final List<Filter> filters = new ArrayList<>();
        for (final Package p : getPackages()) {
            final Filter filter = p.getFilter();
            if (filterName.equals(filter.getName())) {
                filters.add(filter);
            } else if (filterName.equals(p.getName())) {
                filter.setName(p.getName());
                filters.add(filter);
            }
        }

        if (filters.size() > 1) {
            throw new IllegalArgumentException("Filter name " + filterName + " matched more than one filter in collectd-configuration.xml!");
        } else if (filters.size() == 1) {
            return filters.get(0);
        } else {
            return null;
        }
    }

