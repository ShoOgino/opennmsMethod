	public static void main(String[] args) {
        
		String[] configs = {
				"classpath:/META-INF/opennms/applicationContext-remotePollerBackEnd.xml",
				"classpath:/META-INF/opennms/applicationContext-pollerFrontEnd.xml"
		};
		
        final ClassPathXmlApplicationContext ctx = new ClassPathXmlApplicationContext(configs);
        final PollerFrontEnd frontEnd = (PollerFrontEnd) ctx.getBean("pollerFrontEnd");

        
        Thread shutdownHook = new Thread() {
            public void run() {
                frontEnd.stop();
                ctx.close();
            }
        };
        Runtime.getRuntime().addShutdownHook(shutdownHook);

        if (!frontEnd.isRegistered()) {
            System.err.println("FrontEnd is NOT registered");
            if (args.length < 1) {
                usage();
            }
            
            frontEnd.register(args[0]);
        }    
                

	}

