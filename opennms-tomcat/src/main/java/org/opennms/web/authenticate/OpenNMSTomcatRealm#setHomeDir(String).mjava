    /**
     * Called by tomcat to set the home directory where the app is running from
     * and to handle the <em>userFile</em> attribute in the <em>Realm</em>
     * tag in the server.xml file.
     */
    public void setHomeDir(String homeDir) {
        if (homeDir == null) {
            throw new IllegalArgumentException("Cannot take null parameters.");
        }

        Vault.setHomeDir(homeDir);

        // configure the files to the given home dir
        this.magicUsersFile = new File(homeDir + File.separator + "etc" + File.separator + ConfigFileConstants.getFileName(ConfigFileConstants.MAGIC_USERS_CONF_FILE_NAME));

        this.log.debug("HomeDir=" + homeDir);
        this.log.debug("MagicUsersFile=" + this.magicUsersFile);
    }

