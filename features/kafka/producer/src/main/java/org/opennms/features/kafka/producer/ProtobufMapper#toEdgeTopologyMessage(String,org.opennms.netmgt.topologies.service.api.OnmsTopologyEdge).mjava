    public OpennmsModelProtos.TopologyEdge.Builder toEdgeTopologyMessage(String protocol,
                                                                         org.opennms.netmgt.topologies.service.api.OnmsTopologyEdge edge) {

        return OpennmsModelProtos.TopologyEdge.newBuilder()
                .setRef(getTopologyRef(protocol, edge.getId()))
                .setSource(getPort(edge.getSource()))
                // Note: this doesn't currently support a target segment
                .setTargetPort(getPort(edge.getTarget()));
    }

