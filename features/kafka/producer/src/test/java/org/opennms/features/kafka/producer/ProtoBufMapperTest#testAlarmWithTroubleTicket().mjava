    @Test
    public void testAlarmWithTroubleTicket() {

        OnmsAlarm testAlarm = generateTestAlarm();
        testAlarm.setId(1);
        testAlarm.setUei(TROUBLETICKET_CREATE_UEI);
        testAlarm.setTTicketId("NMS-12725");
        testAlarm.setTTicketState(TroubleTicketState.CREATE_PENDING);

        OpennmsModelProtos.Alarm.Builder mappedAlarm = protobufMapper.toAlarm(testAlarm);
        assertNotNull(mappedAlarm);
        assertEquals(mappedAlarm.getTroubleTicketId(), testAlarm.getTTicketId());
        assertEquals(mappedAlarm.getTroubleTicketState().getNumber(), testAlarm.getTTicketState().getValue());

    }

