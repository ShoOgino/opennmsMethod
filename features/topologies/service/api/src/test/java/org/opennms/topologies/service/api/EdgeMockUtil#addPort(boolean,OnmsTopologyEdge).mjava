    public static void addPort(boolean isSource, OnmsTopologyEdge edge) {
        OnmsTopologyPort portMock = mock(OnmsTopologyPort.class);

        OnmsTopologyVertex vertexPortMock = mock(OnmsTopologyVertex.class);
        when(portMock.getVertex()).thenReturn(vertexPortMock);

        if (isSource) {
            when(edge.getSource()).thenReturn(portMock);
            when(portMock.getIfindex()).thenReturn(SOURCE_IFINDEX);
            when(portMock.getId()).thenReturn(SOURCE_ID);
            when(vertexPortMock.getNodeid()).thenReturn(SOURCE_NODE_ID);
            when(portMock.getToolTipText()).thenReturn(SOURCE_TOOLTIP);
            when(vertexPortMock.getId()).thenReturn(SOURCE_VERTEX_ID);
        } else {
            when(edge.getTarget()).thenReturn(portMock);
            when(portMock.getId()).thenReturn(TARGET_ID);
            when(vertexPortMock.getNodeid()).thenReturn(TARGET_NODE_ID);
            when(portMock.getIfindex()).thenReturn(TARGET_IFINDEX);
            when(portMock.getToolTipText()).thenReturn(TARGET_TOOLTIP);
            when(vertexPortMock.getId()).thenReturn(TARGET_VERTEX_ID);
        }
    }

