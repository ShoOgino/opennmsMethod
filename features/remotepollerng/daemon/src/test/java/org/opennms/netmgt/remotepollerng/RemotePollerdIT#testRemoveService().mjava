    @Test
    public void testRemoveService() throws Exception {
        assertThat(findRemotePolledService(this.node1icmp, "RDU"), is(notNullValue()));
        assertThat(findRemotePolledService(this.node1icmp, "Fulda"), is(notNullValue()));

        this.eventIpcManager.sendNowSync(new EventBuilder(EventConstants.SERVICE_DELETED_EVENT_UEI, "test")
                                                 .setNodeid(this.node1icmp.getNodeId())
                                                 .setInterface(this.node1icmp.getIpAddress())
                                                 .setService(this.node1icmp.getServiceName())
                                                 .getEvent());

        assertThat(findRemotePolledService(this.node1icmp, "RDU"), is(nullValue()));
        assertThat(findRemotePolledService(this.node1icmp, "Fulda"), is(nullValue()));

        assertThat(findRemotePolledService(this.node1snmp, "RDU"), is(notNullValue()));
        assertThat(findRemotePolledService(this.node1http, "RDU"), is(notNullValue()));
    }

