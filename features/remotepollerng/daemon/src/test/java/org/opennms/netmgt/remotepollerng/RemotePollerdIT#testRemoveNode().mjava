    @Test
    public void testRemoveNode() throws Exception {
        assertThat(findRemotePolledService(this.node1icmp, "RDU"), is(notNullValue()));
        assertThat(findRemotePolledService(this.node1icmp, "Fulda"), is(notNullValue()));
        assertThat(findRemotePolledService(this.node1snmp, "RDU"), is(notNullValue()));
        assertThat(findRemotePolledService(this.node1http, "RDU"), is(notNullValue()));
        assertThat(findRemotePolledService(this.node1http, "Fulda"), is(notNullValue()));

        this.eventIpcManager.sendNowSync(new EventBuilder(EventConstants.NODE_DELETED_EVENT_UEI, "test")
                                                 .setNodeid(this.node1icmp.getNodeId())
                                                 .getEvent());

        assertThat(findRemotePolledService(this.node1icmp, "RDU"), is(nullValue()));
        assertThat(findRemotePolledService(this.node1icmp, "Fulda"), is(nullValue()));
        assertThat(findRemotePolledService(this.node1snmp, "RDU"), is(nullValue()));
        assertThat(findRemotePolledService(this.node1http, "RDU"), is(nullValue()));
        assertThat(findRemotePolledService(this.node1http, "Fulda"), is(nullValue()));
    }

