    public void refresh() {
        List<GeolocationInfo> locations = geolocationService.getLocations(new GeolocationQueryBuilder()
                .withIncludeAcknowledgedAlarms(false)
                .withResolveMissingCoordinatesFromAddressString(false)
                .withStatusCalculationStrategy(StatusCalculationStrategy.Alarms)
                .withSeverity(GeolocationSeverity.Normal)
                .build());

        // apply acl filter if enabled
        if (m_aclsEnabled) {
            Map<Integer, String> nodes = m_nodeDao.getAllLabelsById();
            locations = locations.stream()
                    .filter(l -> nodes.containsKey(l.getNodeInfo().getNodeId()))
                    .collect(Collectors.toList());
        }

        // Convert
        m_activeNodes = locations.stream()
                .map(l -> createMapNode(l))
                .collect(Collectors.toMap(l -> Integer.valueOf(l.getNodeId()), Function.identity()));
        showNodes(m_activeNodes);
    }

