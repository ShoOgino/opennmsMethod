    /*
     * (non-Javadoc)
     * @see com.vaadin.Application#init()
     */
    @Override
    public void init() {
        m_log.debug("initializing");

        final MapWidgetComponent openlayers = new MapWidgetComponent();
        openlayers.setNodeDao(m_nodeDao);
        openlayers.setAssetRecordDao(m_assetDao);
        openlayers.setAlarmDao(m_alarmDao);
        openlayers.setGeocoderService(m_geocoderService);
        openlayers.setTransactionOperation(m_transaction);
        openlayers.setSizeFull();

        m_rootLayout = new AbsoluteLayout();
        m_rootLayout.setSizeFull();

        m_window = new Window("OpenNMS Node Maps");
        m_window.setContent(m_rootLayout);
        m_window.addParameterHandler(new ParameterHandler() {
            @Override
            public void handleParameters(Map<String, String[]> parameters) {
                if (parameters.containsKey("nodeId")) {
                    int nodeId = parseInt(parameters.get("nodeId")[0], 0);
                    if (nodeId > 0) {
                        openlayers.setSingleNodeId(nodeId);
                    }
                } else {
                    openlayers.setSingleNodeId(-1);
                }
            }
        });
        setMainWindow(m_window);

        m_rootLayout.addComponent(openlayers, "top: 0px; left: 0px; right:0px; bottom:0px;");

        final Refresher refresher = new Refresher();
        refresher.setRefreshInterval(REFRESH_INTERVAL);
        m_window.addComponent(refresher);
    }

