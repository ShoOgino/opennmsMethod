    public Element doOnAdd(final JavaScriptObject map) {
        LOG.log(Level.INFO, "SearchControl.onAdd() called");

        m_container.add(m_inputBox);
        m_container.add(m_submitIcon);
        m_container.add(m_autoComplete);

        /* If the backend sends a new search string, set it on the input box
         * to make sure we're in sync, but don't re-fire events.
         */
        m_searchStringEventHandler = new SearchStringSetEventHandler() {
            @Override public void onEvent(final NativeEvent nativeEvent) {
                final SearchStringSetEvent event = nativeEvent.cast();
                replaceSearchWith(event.getSearchString());
            }
        };
        DomEvent.addListener(m_searchStringEventHandler);

        m_filteredMarkersEventHandler = new FilteredMarkersUpdatedEventHandler() {
            @Override public void onEvent(final NativeEvent nativeEvent) {
                LOG.log(Level.INFO, "SearchControl.onFilteredMarkersUpdated()");
                refresh();
            }
        };
        DomEvent.addListener(m_filteredMarkersEventHandler);

        refresh();

        return m_container.getElement();
    }

