    public SearchStateManager(final ValueItem valueItem, final ValueItem history) {
        m_valueItem = valueItem;
        m_history = history;
        final String token = m_history.getValue();
        if (token != null && token.startsWith("search-")) {
            final String[] splitToken = token.split("=", 2);
            final String searchString = splitToken[1];
            m_valueItem.setValue(searchString);
            m_state = State.SEARCHING_FINISHED;
            m_state.initialize(this);
        } else {
            m_state = State.NOT_SEARCHING;
            m_state.initialize(this);
        }
    }

