    public SearchStateManager(final ValueItem valueItem, final ValueItem history) {
        m_valueItem = valueItem;
        m_history = history;
        final String searchString = getHistorySearchString();
        if (searchString != null) {
            m_valueItem.setValue(searchString);
            m_state = State.SEARCHING_FINISHED;
            m_state.initialize(this);
        } else {
            m_state = State.NOT_SEARCHING;
            m_state.initialize(this);
        }
    }

