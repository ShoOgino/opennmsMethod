    /* (non-Javadoc)
     * @see org.ops4j.pax.vaadin.ApplicationFactory#createApplication(javax.servlet.http.HttpServletRequest)
     */
    @Override
    public Application createApplication(HttpServletRequest request) throws ServletException {
        if (nodeDao == null)
            throw new RuntimeException("nodeDao cannot be null.");
        NodeMapsApplication app = new NodeMapsApplication();
        app.setNodeDao(nodeDao);
        return app;
    }

