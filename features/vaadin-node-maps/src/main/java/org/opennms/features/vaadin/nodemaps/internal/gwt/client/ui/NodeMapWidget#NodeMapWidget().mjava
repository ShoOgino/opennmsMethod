    public NodeMapWidget() {
        m_eventManager = new OpenNMSEventManager();
        m_eventManager.addHandler(FilteredMarkersUpdatedEvent.TYPE, this);

        m_div = Document.get().createDivElement();
        m_div.setId("gwt-map");
        m_div.getStyle().setWidth(100, Unit.PCT);
        m_div.getStyle().setHeight(100, Unit.PCT);
        setElement(m_div);

        setStyleName("v-openlayers");
        logger.log(Level.INFO, "NodeMapWidget(): div ID = " + getElement().getId());

        addAttachHandler(new Handler() {
            @Override
            public void onAttachOrDetach(final AttachEvent event) {
                if (event.isAttached()) {
                    logger.log(Level.INFO, "NodeMapWidget.onAttach()");

                    m_filter = new MarkerFilterImpl("", 0, m_eventManager);
                    m_markerContainer = new MarkerContainer(m_filter, m_eventManager);

                    m_filter.onLoad();
                    m_markerContainer.onLoad();

                    Scheduler.get().scheduleDeferred(new ScheduledCommand() {
                        @Override public void execute() {
                            initializeMap(m_div.getId());
                        }
                    });
                } else {
                    logger.log(Level.INFO, "NodeMapwidget.onDetach()");
                    if (m_markerContainer != null) m_markerContainer.onUnload();
                    if (m_filter != null) m_filter.onUnload();
                    destroyMap();
                }
            }
        });
        logger.log(Level.INFO, "NodeMapWidget(): initialized");
    }

