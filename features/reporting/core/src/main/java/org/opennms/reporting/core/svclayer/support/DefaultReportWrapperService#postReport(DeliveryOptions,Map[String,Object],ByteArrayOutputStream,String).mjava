    private static void postReport(final DeliveryOptions deliveryOptions, final Map<String, Object> reportParameters, final ByteArrayOutputStream outputStream, final String fileName) {
        final String url = deliveryOptions.getWebhookUrl();
        final String substitutedUrl = substituteUrl(url, deliveryOptions, reportParameters);
        try (final ByteArrayInputStream inputStream = new ByteArrayInputStream(outputStream.toByteArray());
             final CloseableHttpClient client = HttpClients.createDefault();
        ) {
            LOG.debug("Posting generated report with name {} to endpoint {} (input was {})", fileName, substitutedUrl, url);
            final HttpEntity entity = MultipartEntityBuilder.create()
                    .addBinaryBody("file", inputStream, ContentType.DEFAULT_BINARY, fileName)
                    .build();
            final HttpPost httpPost = new HttpPost(substitutedUrl);
            httpPost.setEntity(entity);
            client.execute(httpPost);
        } catch (IOException ex) {
            LOG.error("Error while posting data to endpoint {}: {}", url, ex.getMessage(), ex);
        }
    }

