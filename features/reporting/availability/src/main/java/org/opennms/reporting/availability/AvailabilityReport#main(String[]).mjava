    /**
     * Main method
     */
    public static void main(String args[]) {
        // Spit warning level and higher messages out to the console
        ConsoleAppender consoleAppender = new ConsoleAppender(
                                                              new PatternLayout(
                                                                                "%m%n"),
                                                              ConsoleAppender.SYSTEM_ERR);
        consoleAppender.setThreshold(Level.WARN);
        Category logger = Logger.getLogger(LOG4J_CATEGORY);
        logger.addAppender(consoleAppender);

        ThreadCategory.setPrefix(LOG4J_CATEGORY);
        log().debug(
                    "main() called with args: "
                            + StringUtils.arrayToDelimitedString(args, ", "));

        System.setProperty("java.awt.headless", "true");

        String logourl = System.getProperty("image");
        String categoryName = System.getProperty("catName");
        if (categoryName == null || categoryName.equals("")) {
            categoryName = "all";
        }
        String format = System.getProperty("format");
        if (format == null || format.equals("")) {
            format = "SVG";
        }
        String monthFormat = System.getProperty("MonthFormat");
        if (monthFormat == null || format.equals("")) {
            monthFormat = MONTH_FORMAT_CLASSIC;
        }
        String startMonth = System.getProperty("startMonth");
        String startDate = System.getProperty("startDate");
        String startYear = System.getProperty("startYear");

        if (startMonth == null || startDate == null || startYear == null) {
            throw new NumberFormatException("missing date properties");
        }
        
        try {
            generateReport(logourl, categoryName, format, monthFormat,
                           startMonth, startDate, startYear);
        } catch (Exception e) {
            log().error("Caught exception while generating report: " + e, e);
            e.printStackTrace();
        }
    }

