    private Report buildReport(Calendar calendar, String calFormat) {

        Report report = null;

        // Date periodEndDate = m_calendar.getTime();

        /*
         * report.setLogo("wherever"); ViewInfo viewInfo = new ViewInfo();
         * report.setViewInfo(viewInfo); report.setCategories(m_categories);
         */

        //AvailabilityData availData = null;
        try {
            AvailabilityCalculator calculator = new AvailabilityCalculatorImpl();
            AvailabilityData data = new AvailabilityData();
            data.setAvailabilityDataService(new LegacyAvailabilityDataService());
            calculator.setAvailabilityData(data);
            calculator.setPeriodEndDate(m_calendar.getTime());
            calculator.setLogoURL("wahtever");
            calculator.setCalendar(calendar);
            calculator.setReportFormat("PDF");
            calculator.setMonthFormat(calFormat);
            calculator.setCategoryName("Network Interfaces");
            calculator.calculate();
            report = calculator.getReport();
        } catch (Exception e) {
            throw new UndeclaredThrowableException(e);
        }
        return report;
    }

