    public void testBuiltCalendarReport () {

        Calendar calendar = new GregorianCalendar(2005,4,20);
        long oneHundred = 100;
        Day day;
        
        Report report = buildReport(calendar,"calendar");
        assertNotNull("report", report);
        
        Categories categories = report.getCategories();
        assertNotNull("report categories", report.getCategories());
        
        Category category = categories.getCategory(0);
        assertEquals("category count", 1,categories.getCategoryCount());

        assertEquals("category node count", 2,category.getNodeCount());
        assertEquals("category ip address count", 3,category.getIpaddrCount());
        assertEquals("category service count", 3,category.getServiceCount());

        // Section calSection = getSectionByName(category,"LastMonthsDailyAvailability");

        // First four days in month are invisible for US...

        day = getCalSectionDay(category,"LastMonthsDailyAvailability",0,0);
        assertNotNull("day 0,0 object", day);
        assertFalse("day 0,0 visibility", day.getVisible());
        
        day = getCalSectionDay(category,"LastMonthsDailyAvailability",0,1);
        assertNotNull("day 0,1 object", day);
        assertFalse("day 0,1 visibility", day.getVisible());
        
        day = getCalSectionDay(category,"LastMonthsDailyAvailability",0,2);
        assertNotNull("day 0,2 object", day);
        assertFalse("day 0,2 visibility", day.getVisible());
        
        day = getCalSectionDay(category,"LastMonthsDailyAvailability",0,4);
        assertNotNull("day 0,4 object", day);
        assertFalse("day 0,4 visibility", day.getVisible());

        day = getCalSectionDay(category,"LastMonthsDailyAvailability",0,5);
        assertNotNull("day 0,5 object", day);
        assertEquals("day 0,5 percentage value", oneHundred, day.getPctValue(), 0);
        assertTrue("day 0,5 visibility", day.getVisible());
        assertEquals("day 0,5 date", 1,day.getDate());

        day = getCalSectionDay(category,"LastMonthsDailyAvailability",0,6);
        assertNotNull("day 0,6 object", day);
        assertEquals("day 0,6 percentage value", 99.3056, fourDec(day.getPctValue()), 0);
        assertTrue("day 0,6 visibility", day.getVisible());
        assertEquals("day 0,6 date", 2,day.getDate());

        day = getCalSectionDay(category,"LastMonthsDailyAvailability",1,0);
        assertNotNull("day 1,0 object", day);
        assertEquals("day 1,0 percentage value", 97.2454, fourDec(day.getPctValue()), 0);
        assertTrue("day 1,0 visibility", day.getVisible());
        assertEquals("day 1,0 date", 3,day.getDate());

        day = getCalSectionDay(category,"LastMonthsDailyAvailability",1,1);
        assertNotNull("day 1,1 object", day);
        assertEquals("day 1,1 percentage value", 99.3056, fourDec(day.getPctValue()), 0);
        assertTrue("day 1,1 visibility", day.getVisible());
        assertEquals("day 1,1 date", 4,day.getDate());

        day = getCalSectionDay(category,"LastMonthsDailyAvailability",1,2);
        assertNotNull("day 1,2 object", day);
        assertEquals("day 1,2 percentage value", 99.3056, fourDec(day.getPctValue()), 0);
        assertTrue("day 1,2 visibility", day.getVisible());
        assertEquals("day 1,2 date", 5,day.getDate());

    }

