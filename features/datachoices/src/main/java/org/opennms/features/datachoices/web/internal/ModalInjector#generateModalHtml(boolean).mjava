    protected static String generateModalHtml(boolean showOnLoad) throws IOException, TemplateException {
        Configuration cfg = new Configuration(Configuration.VERSION_2_3_21);
        ClassTemplateLoader ctl = new ClassTemplateLoader(ModalInjector.class, "/web");
        cfg.setTemplateLoader(ctl);
        // Load the template
        Template template = cfg.getTemplate("modal.ftl.html");
        // Build out model
        Map<String, Object> data = Maps.newHashMap();
        data.put("showOnLoad", showOnLoad);
        // Render to string
        Writer out = new StringWriter();
        template.process(data, out);
        out.flush();
        return out.toString();
    }

