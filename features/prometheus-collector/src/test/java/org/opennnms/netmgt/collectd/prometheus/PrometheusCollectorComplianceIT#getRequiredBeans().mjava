    @Override
    public Map<String, Object> getRequiredBeans() {
        Collection collection = new Collection();
        Rrd rrd = new Rrd();
        collection.setRrd(rrd);

        PrometheusDatacollectionConfig dataCollectionConfig = new PrometheusDatacollectionConfig();
        dataCollectionConfig.setRrdRepository("target");
        dataCollectionConfig.getCollection().add(collection);

        PrometheusDataCollectionConfigDao prometheusCollectionDao = mock(PrometheusDataCollectionConfigDao.class);
        when(prometheusCollectionDao.getCollectionByName(COLLECTION)).thenReturn(collection);
        when(prometheusCollectionDao.getConfig()).thenReturn(dataCollectionConfig);

        return new ImmutableMap.Builder<String, Object>()
                .put("prometheusDataCollectionConfigDao", prometheusCollectionDao)
                .build();
    }

