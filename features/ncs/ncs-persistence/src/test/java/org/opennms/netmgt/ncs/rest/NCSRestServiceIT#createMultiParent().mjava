	private void createMultiParent() throws Exception {
		// create a simple 3-level tree
		String text = "" +
				"<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n" +
				"<component xmlns=\"http://xmlns.opennms.org/xsd/model/ncs\" type=\"top\" foreignSource=\"topFs1\" foreignId=\"topFd1\">\n" +
				"  <name>Top1</name>\n" +
				"  <component type=\"child1\" foreignSource=\"child1Fs1\" foreignId=\"child1Fd1\">\n" +
				"    <name>Child1-1</name>\n" +
				"    <component type=\"child2\" foreignSource=\"child2Fs1\" foreignId=\"child2Fd1\">\n" +
				"      <name>Child2-1</name>\n" +
				"    </component>\n" +
				"  </component>\n" +
				"</component>\n";
		anticipateEvent(EventConstants.COMPONENT_ADDED_UEI, new String[] { "top",    "Top1",     "topFs1",    "topFd1" });
		anticipateEvent(EventConstants.COMPONENT_ADDED_UEI, new String[] { "child1", "Child1-1", "child1Fs1", "child1Fd1" });
		anticipateEvent(EventConstants.COMPONENT_ADDED_UEI, new String[] { "child2", "Child2-1", "child2Fs1", "child2Fd1" });
		sendPost("/NCS", text, 200);

		// create another "child1" type with the same "child2" type under it
		text = "" +
				"<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n"  +
				// note the foreignId is different
				"  <component xmlns=\"http://xmlns.opennms.org/xsd/model/ncs\" type=\"child1\" foreignSource=\"child1Fs1\" foreignId=\"child1Fd2\">\n" +
				"    <name>Child1-2</name>\n" +
				// but the child2 component is the same
				"    <component type=\"child2\" foreignSource=\"child2Fs1\" foreignId=\"child2Fd1\">\n" +
				"      <name>Child2-1</name>\n" +
				"    </component>\n" +
				"  </component>\n";
		anticipateEvent(EventConstants.COMPONENT_UPDATED_UEI, new String[] { "top",    "Top1",     "topFs1",    "topFd1" });
		anticipateEvent(EventConstants.COMPONENT_ADDED_UEI,   new String[] { "child1", "Child1-2", "child1Fs1", "child1Fd2" });
		anticipateEvent(EventConstants.COMPONENT_UPDATED_UEI, new String[] { "child2", "Child2-1", "child2Fs1", "child2Fd1" });
		sendPost("/NCS/top/topFs1:topFd1", text, 200);
	}

