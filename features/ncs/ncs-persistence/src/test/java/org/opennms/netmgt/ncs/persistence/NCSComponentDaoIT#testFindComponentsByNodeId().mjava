	@Test
	public void testFindComponentsByNodeId() {
		
		assertNotNull(m_repository);
		
		assertFalse(0 == m_pe1NodeId);
		assertFalse(0 == m_pe2NodeId);
		
		List<NCSComponent> pe1Components = m_repository.findComponentsByNodeId(m_pe1NodeId);
		
		assertFalse(pe1Components.isEmpty());
		
		NCSComponent pe1SvcElem = m_repository.findByTypeAndForeignIdentity("ServiceElement", "NA-ServiceElement", "8765");
		
		assertNotNull(pe1SvcElem);
		
		assertTrue(pe1Components.contains(pe1SvcElem));
		
		assertEquals(6, pe1Components.size());

		List<NCSComponent> pe2Components = m_repository.findComponentsByNodeId(m_pe2NodeId);
		
		assertFalse(pe2Components.isEmpty());
		
		assertEquals(6, pe2Components.size());
		
	}

