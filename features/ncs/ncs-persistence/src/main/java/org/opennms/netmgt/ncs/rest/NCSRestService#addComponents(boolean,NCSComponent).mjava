    @POST
    @Consumes(MediaType.APPLICATION_XML)
    public Response addComponents(@QueryParam("deleteOrphans") final boolean deleteOrphans, final NCSComponent component) {
        afterPropertiesSet();
        writeLock();
        try {
            LOG.debug("addComponents: Adding component {} (deleteOrphans={})", component, Boolean.valueOf(deleteOrphans));

            if (m_componentService == null) {
                throw getException(Status.INTERNAL_SERVER_ERROR, "Component service is null");
            }
            if (component == null) {
                throw getException(Status.BAD_REQUEST, "Component cannot be null");
            }

            m_componentService.addOrUpdateComponents(component, deleteOrphans);
            return Response.ok(component).build();
        } finally {
            writeUnlock();
        }
    }

