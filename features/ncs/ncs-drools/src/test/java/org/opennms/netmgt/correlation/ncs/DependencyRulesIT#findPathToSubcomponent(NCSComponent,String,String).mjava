    private List<NCSComponent> findPathToSubcomponent(NCSComponent svc, final String subForeignSource, final String subForeignId) {
        
        VisitorWithReturn<List<NCSComponent>> visitor = new VisitorWithReturn<List<NCSComponent>>() {
            Stack<NCSComponent> m_stack = new Stack<NCSComponent>();

            @Override
            public void visitComponent(NCSComponent component) {
                m_stack.push(component);
                if (subForeignSource.equals(component.getForeignSource()) && subForeignId.equals(component.getForeignId())) {
                    setRetVal(new LinkedList<NCSComponent>(m_stack));
                }
            }

            @Override
            public void completeComponent(NCSComponent component) {
                m_stack.pop();
            }
        };
        
        return visitWithRetVal(svc, visitor, null);
        
    }

