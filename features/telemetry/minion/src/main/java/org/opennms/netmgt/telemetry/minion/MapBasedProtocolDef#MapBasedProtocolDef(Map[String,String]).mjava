    public MapBasedProtocolDef(Map<String, String> parameters) {
        name = MapUtils.getRequiredString("name", parameters);
        threads = MapUtils.getOptionalInteger("threads", parameters);
        queueSize = MapUtils.getOptionalInteger("queue.size", parameters);
        batchSize = MapUtils.getOptionalInteger("batch.size", parameters);
        batchInterval = MapUtils.getOptionalInteger("batch.interval", parameters);
    }

