    @Override
    public Adapter createAdapter(Protocol protocol, Map<String, String> properties) {
        Objects.requireNonNull(interfaceToNodeCache);
        Objects.requireNonNull(metricRegistry);
        Objects.requireNonNull(nodeDao);
        Objects.requireNonNull(transactionOperations);
        Objects.requireNonNull(flowRepository);
        Objects.requireNonNull(classificationEngine);

        final Netflow5Adapter adapter = new Netflow5Adapter();
        adapter.setInterfaceToNodeCache(interfaceToNodeCache);
        adapter.setMetricRegistry(metricRegistry);
        adapter.setNodeDao(nodeDao);
        adapter.setFlowRepository(flowRepository);
        adapter.setTransactionOperations(transactionOperations);
        adapter.setClassificationEngine(classificationEngine);
        adapter.setProtocol(protocol);

        adapter.init();

        return adapter;
    }

