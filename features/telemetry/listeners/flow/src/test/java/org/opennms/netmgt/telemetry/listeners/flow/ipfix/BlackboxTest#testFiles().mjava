    @Test
    public void testFiles() throws Exception {
        final TemplateManager templateManager = new TcpSession();

        for (final String file : this.files) {
            try (final FileChannel channel = FileChannel.open(FOLDER.resolve(file))) {
                final ByteBuffer buffer = ByteBuffer.allocate((int) channel.size());
                channel.read(buffer);
                buffer.flip();

                do {
                    final Header header = new Header(BufferUtils.slice(buffer, Header.SIZE));
                    final Packet packet = new Packet(templateManager, header, BufferUtils.slice(buffer, header.length - Header.SIZE));

                    assertThat(packet.header.versionNumber, is(0x000a));

                } while (buffer.hasRemaining());
            }
        }
    }

