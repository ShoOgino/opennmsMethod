    @Test
    public void testFiles() throws Exception {
        final Session session = new TcpSession();

        for (final String file : this.files) {
            try (final FileChannel channel = FileChannel.open(FOLDER.resolve(file))) {
                final ByteBuffer buffer = ByteBuffer.allocate((int) channel.size());
                channel.read(buffer);
                buffer.flip();

                do {
                    final Header header = new Header(slice(buffer, Header.SIZE));
                    final Packet packet = new Packet(session, header, buffer);
                    assertThat(packet.header.versionNumber, is(0x0009));
                } while (buffer.hasRemaining());
            }
        }
    }

