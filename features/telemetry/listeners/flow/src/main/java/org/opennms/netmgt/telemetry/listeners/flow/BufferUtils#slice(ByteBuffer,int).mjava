    public static ByteBuffer slice(final ByteBuffer buffer, final int size) {
        if (buffer.position() + size > buffer.limit()) {
            new BufferUnderflowException();
        }

        final ByteBuffer result = buffer.slice();
        buffer.position(buffer.position() + size);

        result.limit(size);

        return result;
    }

