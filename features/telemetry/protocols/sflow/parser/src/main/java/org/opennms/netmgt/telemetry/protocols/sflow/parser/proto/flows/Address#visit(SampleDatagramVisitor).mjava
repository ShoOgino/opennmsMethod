    public void visit(SampleDatagramVisitor visitor) {
        visitor.accept(this);
        switch (this.type) {
            case IP_V4:
                ipV4.visit(visitor);
                break;
            case IP_V6:
                ipV6.visit(visitor);
                break;
            default:
                throw new IllegalStateException();
        }
    }

