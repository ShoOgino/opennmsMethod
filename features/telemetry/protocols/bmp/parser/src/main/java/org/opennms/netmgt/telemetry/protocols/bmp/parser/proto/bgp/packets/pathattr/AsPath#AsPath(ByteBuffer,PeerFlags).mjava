    public AsPath(final ByteBuffer buffer, final PeerFlags flags) throws InvalidPacketException {
        segments = BufferUtils.repeatRemaining(buffer, segmentBuffer -> new Segment(segmentBuffer, flags));
    }

