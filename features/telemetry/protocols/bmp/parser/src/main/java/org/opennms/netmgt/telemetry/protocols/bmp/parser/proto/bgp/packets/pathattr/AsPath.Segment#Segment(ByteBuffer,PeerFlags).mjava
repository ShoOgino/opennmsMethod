        public Segment(final ByteBuffer buffer, final PeerFlags flags) throws InvalidPacketException {
            this.type = Type.from(uint8(buffer));
            this.path = repeatCount(buffer, uint8(buffer), flags::parseAS);
        }

