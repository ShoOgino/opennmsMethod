    private static Bulkhead createBulkhead(ParserDefinition parserDefinition) {
        // Build the bulkhead configuration from the parameter map
        final Map<String, String> parameters = parserDefinition.getParameterMap();
        final long maxConcurrentCalls = Optional.ofNullable(parameters.remove(MAX_CONCURRENT_CALLS_KEY))
                                                .map(Long::parseLong)
                                                .orElse(DEFAULT_MAX_CONCURRENT_CALLS);
        final long maxWaitDurationMs = Optional.ofNullable(parameters.remove(MAX_WAIT_DURATION_MS_KEY))
                                                .map(Long::parseLong)
                                                .orElse(DEFAULT_MAX_WAIT_DURATION_MS);

        final BulkheadConfig bulkheadConfig = BulkheadConfig.custom()
                .maxConcurrentCalls((int) maxConcurrentCalls)
                .maxWaitDuration(Duration.ofMillis(maxWaitDurationMs))
                .build();

        return Bulkhead.of("BmpParser-" + parserDefinition.getFullName(), bulkheadConfig);
    }

