    private static Bulkhead createBulkhead(ParserDefinition parserDefinition) {
        // Build the bulkhead configuration from the parameter map
        final Map<String, String> parmMap = parserDefinition.getParameterMap();
        final long maxConcurrentCalls = ParameterMap.getKeyedLongImmutable(parmMap,
                MAX_CONCURRENT_CALLS_KEY, DEFAULT_MAX_CONCURRENT_CALLS);
        final long maxWaitDurationMs = ParameterMap.getKeyedLongImmutable(parmMap,
                MAX_WAIT_DURATION_MS_KEY, DEFAULT_MAX_WAIT_DURATION_MS);
        final BulkheadConfig bulkheadConfig = BulkheadConfig.custom()
                .maxConcurrentCalls((int)maxConcurrentCalls)
                .maxWaitDuration(Duration.ofMillis(maxWaitDurationMs))
                .build();

        return Bulkhead.of("BmpParser-" + parserDefinition.getName(), bulkheadConfig);
    }

