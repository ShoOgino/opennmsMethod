    private void saveOrUpdateInDB(List<RouteInfo> routeInfos) {

        Set<RouteInfo> batchedRouteInfo = new HashSet<>();
        for (int i = 0; i < routeInfos.size(); i++) {
            batchedRouteInfo.add(routeInfos.get(i));
            if ((i % 100 == 0 && i != 0) || i == routeInfos.size() - 1) {
                if(Thread.currentThread().isInterrupted()) {
                    break;
                }
                Set<BmpRouteInfo> bmpRouteInfoList = buildBmpRouteInfoList(batchedRouteInfo);
                saveOrUpdateInSession(bmpRouteInfoList);
                batchedRouteInfo = new HashSet<>();
            }
        }
    }

