    private void send(ByteString... messages) {
        final TelemetryMessageLog messageLog = mock(TelemetryMessageLog.class);
        when(messageLog.getSystemId()).thenReturn("0xDEADBEEF");
        when(messageLog.getSourceAddress()).thenReturn("10.10.10.10");
        when(messageLog.getSourcePort()).thenReturn(666);

        for (ByteString message : messages) {
            final TelemetryMessageLogEntry messageLogEntry = mock(TelemetryMessageLogEntry.class);
            when(messageLogEntry.getByteArray()).thenReturn(message.toByteArray());
            when(messageLogEntry.getTimestamp()).thenReturn(1L);
            adapter.handleMessage(messageLogEntry, messageLog);
        }
    }

