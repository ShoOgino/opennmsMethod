    @Override
    public Adapter createBean(final AdapterDefinition adapterConfig) {
        final BmpTelemetryAdapter adapter = new BmpTelemetryAdapter(adapterConfig, this.getTelemetryRegistry().getMetricRegistry(), nodeDao, transactionTemplate);
        adapter.setCollectionAgentFactory(this.getCollectionAgentFactory());
        adapter.setPersisterFactory(this.getPersisterFactory());
        adapter.setFilterDao(this.getFilterDao());
        adapter.setPersisterFactory(this.getPersisterFactory());
        adapter.setInterfaceToNodeCache(this.getInterfaceToNodeCache());
        adapter.setThresholdingService(this.getThresholdingService());
        adapter.setBundleContext(this.getBundleContext());

        return adapter;
    }

