    @Test
    public void testWithActiveTimeout() throws InvalidProtocolBufferException, IllegalFlowException {

        Iterable<Value<?>> values = ImmutableList.<Value<?>>builder()
                .add(new DateTimeValue("flowStartSeconds", Instant.ofEpochSecond(123)))
                .add(new DateTimeValue("flowEndSeconds", Instant.ofEpochSecond(987)))
                .add(new UnsignedValue("octetDeltaCount", 10))
                .add(new UnsignedValue("packetDeltaCount", 10))
                .add(new UnsignedValue("flowActiveTimeout", 10))
                .add(new UnsignedValue("flowInactiveTimeout", 300))
                .build();


        final IpFixMessageBuilder ipFixMessageBuilder = new IpFixMessageBuilder();
        FlowMessage flowMessage = ipFixMessageBuilder.buildMessage(values, (address -> Optional.empty())).build();

        assertThat(flowMessage.getFirstSwitched().getValue(), is(123000L));
        assertThat(flowMessage.getDeltaSwitched().getValue(), is(987000L - 10000L));
        assertThat(flowMessage.getLastSwitched().getValue(), is(987000L));
    }

