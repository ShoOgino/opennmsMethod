    public UdpParserBase(final Protocol protocol,
                         final String name,
                         final MessageBuilder messageBuilder,
                         final AsyncDispatcher<TelemetryMessage> dispatcher,
                         final EventForwarder eventForwarder,
                         final Identity identity,
                         final DnsResolver dnsResolver,
                         final MetricRegistry metricRegistry) {
        super(protocol, name, messageBuilder, dispatcher, eventForwarder, identity, dnsResolver, metricRegistry);

        this.packetsReceived = metricRegistry.meter(MetricRegistry.name("parsers",  name, "packetsReceived"));
        this.parserErrors = metricRegistry.counter(MetricRegistry.name("parsers",  name, "parserErrors"));

        String sessionCountGauge = MetricRegistry.name("parsers",  name, "sessionCount");
        // Register only if it's not already there in the registry.
        if (!metricRegistry.getGauges().keySet().contains(sessionCountGauge)) {
            metricRegistry.register(sessionCountGauge, (Gauge<Integer>) () -> (this.sessionManager != null) ? this.sessionManager.count() : null);
        }
    }

