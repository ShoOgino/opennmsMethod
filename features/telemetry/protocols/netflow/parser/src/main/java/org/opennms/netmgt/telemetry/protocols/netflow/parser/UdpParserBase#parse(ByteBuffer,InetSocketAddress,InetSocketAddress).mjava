    public final CompletableFuture<?> parse(final ByteBuffer buffer,
                                            final InetSocketAddress remoteAddress,
                                            final InetSocketAddress localAddress) throws Exception {
        final Session session = this.sessionManager.getSession(remoteAddress, localAddress);

        try {
            return this.transmit(this.parse(session, buffer), remoteAddress);
        } catch (Exception e) {
            this.sessionManager.drop(remoteAddress, localAddress);
            throw e;
        }
    }

