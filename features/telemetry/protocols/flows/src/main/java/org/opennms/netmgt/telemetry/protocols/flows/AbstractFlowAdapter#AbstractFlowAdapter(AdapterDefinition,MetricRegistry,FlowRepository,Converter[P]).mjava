    public AbstractFlowAdapter(final AdapterDefinition adapterConfig,
                               final MetricRegistry metricRegistry,
                               final FlowRepository flowRepository,
                               final Converter<P> converter) {
        Objects.requireNonNull(adapterConfig);
        Objects.requireNonNull(metricRegistry);

        this.flowRepository = Objects.requireNonNull(flowRepository);
        this.converter = Objects.requireNonNull(converter);

        this.logParsingTimer = metricRegistry.timer(name("adapters", adapterConfig.getName(), "logParsing"));
        this.packetsPerLogHistogram = metricRegistry.histogram(name("adapters", adapterConfig.getName(), "packetsPerLog"));
        this.entriesReceived = metricRegistry.meter(name("adapters", adapterConfig.getName(), "entriesReceived"));
        this.entriesParsed = metricRegistry.meter(name("adapters", adapterConfig.getName(), "entriesParsed"));
        this.entriesConverted = metricRegistry.meter(name("adapters", adapterConfig.getName(), "entriesConverted"));
    }

