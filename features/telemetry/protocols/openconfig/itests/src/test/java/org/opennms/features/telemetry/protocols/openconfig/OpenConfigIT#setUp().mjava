    @Before
    public void setUp() throws IOException {
        rrdBaseDir = tempFolder.newFolder("rrd");
        scriptFile  = tempFolder.newFile("script-file.groovy");

        NetworkBuilder nb = new NetworkBuilder();
        nb.addNode("R1")
                .setForeignSource("Juniper")
                .setForeignId("1")
                .setType(OnmsNode.NodeType.ACTIVE);
        nb.addInterface("127.0.0.1");
        OnmsServiceType onmsServiceType = new OnmsServiceType("OpenConfig");
        serviceTypeDao.save(onmsServiceType);
        nb.addService(onmsServiceType);
        nodeDao.save(nb.getCurrentNode());

        // Resync after adding nodes/interfaces
        interfaceToNodeCache.dataSourceSync();
        server = new OpenConfigTestServer();
        server.start();
    }

