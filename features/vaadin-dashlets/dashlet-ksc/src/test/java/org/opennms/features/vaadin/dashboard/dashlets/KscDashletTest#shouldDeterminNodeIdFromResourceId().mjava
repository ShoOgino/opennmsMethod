    @Test
    public void shouldDeterminNodeIdFromResourceId() {
        String resourceIdString = "node[Test:1525957453778].interfaceSnmp[opennms-jvm]";
        ResourceDao resourceDao = Mockito.mock(ResourceDao.class);
        OnmsResource resource = Mockito.mock(OnmsResource.class);
        OnmsResource parentResource = Mockito.mock(OnmsResource.class);

        OnmsNode node = new OnmsNode();
        node.setId(3);

        when(resourceDao.getResourceById(resourceIdString)).thenReturn(resource);
        when(resource.getParent()).thenReturn(parentResource);
        when(parentResource.getEntity()).thenReturn(node);

        KscDashlet dashlet = new KscDashlet(
                this.getClass().getSimpleName(),
                null,
                null,
                resourceDao,
                null);
        assertEquals(parentResource, dashlet.determineResourceByResourceId(resourceIdString));
    }

