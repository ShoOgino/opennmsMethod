    /**
     * Updates the labels and buttons according to the properties set.
     */
    public void update() {
        if (m_graphId == null) {
            m_nodeLabelComponent.setValue("No Rrd graph");
            m_graphLabelComponent.setValue("selected");
            m_changeButton.setCaption("Select Rrd graph");
            m_previewImage.setVisible(false);
            m_removeButton.setVisible(false);
        } else {
            m_previewImage.setSource(new ExternalResource(m_rrdGraphHelper.imageUrlForGraph(getGraphUrl(), 150, 50, m_calendarField, m_calendarDiff)));
            m_previewImage.addStyleName("preview");
            m_graphLabelComponent.setValue(m_resourceTypeLabel + ": " + m_resourceLabel);
            m_nodeLabelComponent.setValue(getNodeLabel());
            m_changeButton.setCaption("Change Rrd graph");
            m_previewImage.setVisible(true);
            m_removeButton.setVisible(true);
        }
    }

