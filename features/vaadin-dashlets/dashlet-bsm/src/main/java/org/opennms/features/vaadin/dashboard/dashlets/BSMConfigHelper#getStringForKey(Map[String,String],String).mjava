    /**
     * Returns the string value for a given key. Null values will be returned as empty
     * strings.
     *
     * @param map the map to use
     * @param key the key
     * @return the string value
     */
    public static String getStringForKey(Map<String, String> map, String key) {
        String value = map.get(key);
        return (value == null ? "" : value);
    }

