	@Test
	public void testParseSingleMessage() {
		RadixTreeParser radixParser = new RadixTreeParser();
		radixParser.teach(GrokParserStageSequenceBuilder.parseGrok("<%{INTEGER:facilityPriority}>%{STRING:messageId}: %{INTEGER:year}-%{INTEGER:month}-%{INTEGER:day} %{STRING:hostname} %{STRING:processName}: %{STRING:message}").toArray(new ParserStage[0]));
		EventBuilder bldr = radixParser.parse(ByteBuffer.wrap("<31>main: 2010-08-19 localhost foo%d: load test %d on tty1".getBytes(StandardCharsets.US_ASCII))).join();
		assertNotNull(bldr);
		Event event = bldr.getEvent();
		assertEquals("main", event.getParm("messageid").getValue().getContent());
		assertEquals("foo%d", event.getParm("process").getValue().getContent());
	}

