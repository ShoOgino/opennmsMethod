	/**
	 * Test a pattern followed immediately by an escape sequence. This does not
	 * work yet with STRING patterns but could if we peek ahead to the escaped
	 * value and use it as a delimiter.
	 */
	@Test
	public void testGrokWithAdjacentEscape() {
		SingleSequenceParser parser = new SingleSequenceParser(GrokParserStageSequenceBuilder.parseGrok("\\5%{INT:a}\\%\\%%{MONTH:b}\\f"));

		Event event = parser.parse(ByteBuffer.wrap("56666%%Febf".getBytes(StandardCharsets.US_ASCII))).join().getEvent();
		assertEquals("6666", event.getParm("a").getValue().getContent());
		// February
		assertEquals("2", event.getParm("b").getValue().getContent());

		assertNull(parser.parse(ByteBuffer.wrap("5abc%%Febf".getBytes(StandardCharsets.US_ASCII))).join());
	}

