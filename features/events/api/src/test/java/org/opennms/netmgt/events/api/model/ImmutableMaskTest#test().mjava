    @Test
    public void test() {
        Maskelement maskElement = new Maskelement();
        maskElement.setMename("ME1");
        maskElement.getMevalueCollection().add("V1");
        maskElement.getMevalueCollection().add("V2");

        Mask mask = new Mask();
        mask.getMaskelementCollection().add(maskElement);

        // Mutable to Immutable
        IMask immutableMask = ImmutableMapper.fromMutableMask(mask);

        // Attempt to add to immutable list.
        try {
            immutableMask.getMaskelementCollection().add(ImmutableMaskElement.newBuilder().build());
            fail();
        } catch (Exception e) {
            // Expected...
        }

        // Attempt to add to immutable list.
        try {
            immutableMask.getMaskelementCollection().iterator().next().getMevalueCollection().add("V3");
            fail();
        } catch (Exception e) {
            // Expected...
        }

        // Immutable to Mutable
        Mask convertedMask = Mask.copyFrom(immutableMask);

        String expectedXml = XmlTest.marshalToXmlWithJaxb(mask);
        String convertedXml = XmlTest.marshalToXmlWithJaxb(convertedMask);
        XmlTest.assertXmlEquals(expectedXml, convertedXml);
    }

