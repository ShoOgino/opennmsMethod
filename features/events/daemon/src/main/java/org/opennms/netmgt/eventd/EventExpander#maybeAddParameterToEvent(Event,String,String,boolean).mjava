    /**
     * Adds a parameter to the event if one does not already existing for the given name.
     *
     * @param event the event on which to add the parameter
     * @param parmName parameter name
     * @param parmValue parameter value
     * @param shouldExpandParm true if the parameters value should be expanded (replacing tokenized variables), false otherwise
     */
    private static void maybeAddParameterToEvent(Event event, String parmName, String parmValue, boolean shouldExpandParm) {
        if (EventUtils.getParm(event, parmName) == null) {
            Parm parm = new Parm();
            parm.setParmName(parmName);
            Value v = new Value();
            v.setContent(parmValue);
            v.setType("string");
            v.setEncoding("text");
            v.setExpand(shouldExpandParm);
            parm.setValue(v);
            event.addParm(parm);
        } else {
            LOG.info("expandEvent: the event {} already has a parameter named {}, the original content will be preserved. " +
                            "Check the event definition and rename the optional parameter.", event.getUei(), parmName);
        }
    }

