    @Test
    @Ignore
    public void testMemory() throws Exception {
        EventProxy proxy = new TcpEventProxy(new InetSocketAddress("127.0.0.1", 5837));
        double eventRate = 20.0 / 1000.0;
        
        long start = System.currentTimeMillis();
        long count = 0;
        while(System.currentTimeMillis() - start < MINS) {
            long now = Math.max(System.currentTimeMillis(), 1);
            double actualRate = ((double)count) / ((double)(now - start));
            if (actualRate < eventRate) {
                sendEvent(proxy, count);
                count++;
            }
            Thread.sleep(30);
            System.err.println(String.format("Expected Rate: %f Actual Rate: %f Events Sent: %d", eventRate, actualRate, count));
        }
        
    }

