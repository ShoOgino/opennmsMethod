	public TrapDTO object2dto(Object obj){
		
		TrapDTO trapDTO = new TrapDTO();
		
		TrapInformation trapInfo = (TrapInformation)obj;
		
       	String version = trapInfo.getVersion();
		
		//Snmp4JTrapNotifier.Snmp4JV1TrapInformation v1Trap = null;
		Snmp4JTrapNotifier.Snmp4JV2TrapInformation v2Trap = null;
		
//		if(version.equalsIgnoreCase("v1")){
//			
//			v1Trap = (Snmp4JTrapNotifier.Snmp4JV1TrapInformation)obj;
//			InetAddress agentAddress = v1Trap.getAgentAddress();
//			String community = v1Trap.getCommunity();
//			int pduLength = v1Trap.getPduLength();
//			//String version = v1Trap.getVersion();
//			InetAddress trapAddress = v1Trap.getTrapAddress();
//			long timestamp = v1Trap.getTimeStamp();
//			
//			//trapDTO.setVersion(processor.);
//			
//		}else 
		if(version.equalsIgnoreCase("v2") || version.equalsIgnoreCase("v3")){
			
			v2Trap = (Snmp4JTrapNotifier.Snmp4JV2TrapInformation)obj;
			InetAddress agentAddress = v2Trap.getAgentAddress();
			String community = v2Trap.getCommunity();
			int pduLength = v2Trap.getPduLength();
			//String version = v2Trap.getVersion();
			InetAddress trapAddress = v2Trap.getTrapAddress();
			long timestamp = v2Trap.getTimeStamp();
			PDU pdu = v2Trap.getPdu();
			byte[] byteArray = null;
			try {
				byteArray = Snmp4JUtils.convertPduToBytes(trapAddress, 0, community, pdu);
			} catch (Exception e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
			
			trapDTO.setBody(byteArray);
			
			trapDTO.setCommunity(community);
			trapDTO.setPduLength(String.valueOf(pduLength));
			trapDTO.setAgentAddress(agentAddress);
			trapDTO.setTimestamp(timestamp);
			trapDTO.setTrapAddress(trapAddress);
			trapDTO.setVersion(version);
			
			List<SnmpResult> results = new ArrayList<SnmpResult>();
			
			SnmpResult snmpResult = null;
			
			Vector<? extends VariableBinding> vector = pdu.getVariableBindings();
			for(int i=0 ; i < vector.size() ; i++){
				VariableBinding varBind = (VariableBinding)vector.get(i);
				
	            SnmpObjId oid = SnmpObjId.get(varBind.getOid().toString());
	            SnmpValue value = new Snmp4JValue(varBind.getVariable());
	            snmpResult = new SnmpResult(oid, null, value);
	            results.add(snmpResult);
			}
			trapDTO.setResults(results);

		}
						
		return trapDTO;
	}

