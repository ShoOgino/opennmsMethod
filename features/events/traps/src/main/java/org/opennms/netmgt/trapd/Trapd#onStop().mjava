    /**
     * Stops the currently running service. If the service is not running then
     * the command is silently discarded.
     */
    @Override
    protected synchronized void onStop() {
        m_status = STOP_PENDING;

        // shutdown and wait on the background processing thread to exit.
        LOG.debug("stop: Closing communication paths");

        m_trapReceiver.stop();

        // TODO: Should we do this? m_eventReader is launched in onInit()
        // but it should probably be launched in onStart() so that it
        // follows the lifecycle of this class.
        LOG.debug("stop: Stopping event processor");

        m_eventReader.close();

        m_status = STOPPED;

        LOG.debug("stop: Trapd stopped");
    }

