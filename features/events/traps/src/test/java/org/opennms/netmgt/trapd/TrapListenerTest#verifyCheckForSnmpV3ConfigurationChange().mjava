    @Test
    public void verifyCheckForSnmpV3ConfigurationChange() throws Exception {
        TrapdConfiguration config = new TrapdConfiguration();
        config.setSnmpTrapPort(initialConfig.getSnmpTrapPort() + 1);

        Assert.assertEquals(Boolean.FALSE, receiver.hasSnmpV3UsersChanged(new TrapdConfigBean(config)));

        // Add a user, should result in a difference
        config.getSnmpv3UserCollection().add(createUser("MD5", "0p3nNMSv3", "some-engine-id", "DES", "0p3nNMSv3", "some-security-name"));
        Assert.assertEquals(Boolean.TRUE, receiver.hasSnmpV3UsersChanged(new TrapdConfigBean(config)));
        receiver.setTrapdConfig(config); // update and verify that it now is equal
        Assert.assertEquals(Boolean.FALSE, receiver.hasSnmpV3UsersChanged(new TrapdConfigBean(config)));

        // Changing the port should not result in a difference
        config.setSnmpTrapPort(config.getSnmpTrapPort() + 1);
        Assert.assertEquals(Boolean.FALSE, receiver.hasSnmpV3UsersChanged(new TrapdConfigBean(config)));
    }

