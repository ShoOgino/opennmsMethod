		@Override
		public void run() {

			// we remove elements from the queue until interrupted and
			// clientRunning==false.
			while (clientRunning.get()) {
				try {
					Event event = queue.take();

					if (LOG.isDebugEnabled())
						LOG.debug("Event received from queue by consumer thread :\n event:"
								+ event.toString());

					// send event to index processor
					if (eventToIndex != null) {
						eventToIndex.forwardEvent(event);
					} else {
						LOG.error("cannot send event eventToIndex is null");
					}

				} catch (InterruptedException e) {
				}

			}

			LOG.debug("shutting down event consumer thread");
		}

