	public void init(){

		if (getTemplateFiles().isEmpty()){
			LOG.info("ElasticSearcInitialiser started with no default template files");
			initialised.set(true);
			return;
		}

		// load all files and test if JSON is OK
		for (String templateName: getTemplateFiles().keySet() ){
			String fileName= getTemplateFiles().get(templateName);
			LOG.info("   elasticsearch intialiser loading index template '"+templateName+ "' from file "+fileName);
			try {
				StringBuffer body=new StringBuffer();
				BufferedReader is=new BufferedReader(new InputStreamReader(this.getClass().getClassLoader().getResourceAsStream(fileName)));
				String l;
				while((l=is.readLine())!=null) {
					body.append(l);
				}
				JSONParser parser = new JSONParser();
				JSONObject jsonObject=null;
				try{
					Object obj = parser.parse(body.toString());
					jsonObject = (JSONObject) obj;
					loadedFiles.put(templateName, body);
					LOG.debug("Loaded Template File"
							+ "\n     fileName: '"+fileName
							+ "'\n     templateName: '"+templateName
							+ "'\n     contents: "+jsonObject.toJSONString());
				} catch (ParseException e1) {
					throw new RuntimeException("cannot parse json Elastic Search template mapping from file "+fileName, e1);
				}

			} catch (Exception e) {
				throw new RuntimeException("Problem reading Elastic Search template mapping fileName="+fileName, e);
			}
		}

		LOG.debug("ElasticSearcInitialiser loaded template files. Trying to send templates to to ES");

		// start initialiser thread
		initialiserIsRunning.set(true);
		esInitialiserThread.start();

	}

