    private <T> Consumer<T> findConsumer(Class type) {
        final Consumer<T> consumer = tests.get(type);
        if (consumer != null) {
            return consumer;
        }
        for (Class c : type.getInterfaces()) {
            return findConsumer(c);
        }
        return null;
    }

