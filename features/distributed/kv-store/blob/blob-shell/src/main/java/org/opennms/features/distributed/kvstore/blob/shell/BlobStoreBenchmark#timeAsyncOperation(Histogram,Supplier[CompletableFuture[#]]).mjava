    private CompletableFuture<?> timeAsyncOperation(Histogram results, Supplier<CompletableFuture<?>> futureSupplier) {
        long start = System.currentTimeMillis();

        return Retry.decorateCompletionStage(asyncRetry, executorService,
                () -> futureSupplier.get()
                        .thenAccept(v ->
                                results.update(System.currentTimeMillis() - start))).get().toCompletableFuture();
    }

