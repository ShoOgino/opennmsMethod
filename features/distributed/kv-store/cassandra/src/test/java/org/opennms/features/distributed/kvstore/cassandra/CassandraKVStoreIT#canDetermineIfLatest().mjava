    @Test
    public void canDetermineIfLatest() throws InterruptedException {
        String key = "tesT";
        String context = "canDetermineIfLatest";
        String originalState = "original";
        long originalTimestamp = serializingKeyValueStore.put(key, originalState, context);

        Thread.sleep(10);

        assertThat(originalTimestamp, equalTo(serializingKeyValueStore.getLastUpdated(key, context).getAsLong()));
        assertThat(serializingKeyValueStore.get(key, context).get(), equalTo(originalState));

        String updatedState = "updated";
        long updatedTimestamp = serializingKeyValueStore.put(key, updatedState, context);
        assertThat(originalTimestamp, lessThan(updatedTimestamp));
        assertThat(serializingKeyValueStore.get(key, context).get(), equalTo(updatedState));
    }

