    /**
     * Static factory method for use in unit tests using mocks.
     *
     * @param domain             the domain to manage
     * @param mockClientBuilder  the mock client
     * @param mockLeaderSelector the mock leader selector
     */
    static ZookeeperDomainManager withMocks(String domain, CuratorFrameworkFactory.Builder mockClientBuilder,
                                            LeaderSelector mockLeaderSelector) {
        return new ZookeeperDomainManager(domain, mockClientBuilder, mockLeaderSelector);
    }

