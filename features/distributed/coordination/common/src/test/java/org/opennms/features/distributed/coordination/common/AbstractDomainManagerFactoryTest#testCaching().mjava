    /**
     * Tests the caching of domain managers.
     */
    @Test
    public void testCaching() {
        DomainManagerFactory managerFactory = new TestFactory();
        String testDomain = "test.domain";
        // The same manager should be returned since it should be cached after the first get
        assertSame(managerFactory.getManagerForDomain(testDomain), managerFactory.getManagerForDomain(testDomain));
    }

