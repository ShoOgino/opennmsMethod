    @Override
    protected final void onLastDeregister() {
        // To prevent the deregister() call from blocking we need to disconnect async
        CompletableFuture
                .runAsync(this::disconnect, connectionPool)
                .whenComplete(this::handleDisconnectResult);
    }

