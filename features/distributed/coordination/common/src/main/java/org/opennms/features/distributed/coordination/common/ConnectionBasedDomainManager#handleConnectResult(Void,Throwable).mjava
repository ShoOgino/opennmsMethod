    /**
     * Handles the connect result.
     *
     * @param result    void
     * @param exception the exception if there was one otherwise null
     */
    private void handleConnectResult(Void result, Throwable exception) {
        // If we encountered any exception when trying to connect we will mark ourselves as not connected
        connected = exception == null;

        if (!isConnected()) {
            // TODO: In the event that there was an exception, this method ends up running in the main thread not the
            // async thread that was doing the connection attempt. Not sure if this is safe or not.
            failedToConnect(exception);
        }
    }

