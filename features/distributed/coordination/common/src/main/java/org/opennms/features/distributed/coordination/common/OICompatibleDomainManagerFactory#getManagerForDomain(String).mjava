    @Override
    public org.opennms.integration.api.v1.coordination.DomainManager getManagerForDomain(String domain) {
        final DomainManager domainManager = delegate.getManagerForDomain(domain);
        if (domainManager == null) {
            return null;
        }
        return new org.opennms.integration.api.v1.coordination.DomainManager() {
            @Override
            public void register(String id, org.opennms.integration.api.v1.coordination.RoleChangeHandler roleChangeHandler) {
                domainManager.register(id, new RoleChangeHandler() {
                    @Override
                    public void handleRoleChange(Role role, String domain) {
                        roleChangeHandler.handleRoleChange(toRole(role), domain);
                    }
                });
            }

            @Override
            public void deregister(String id) {
                domainManager.deregister(id);
            }

            @Override
            public boolean isRegistered(String id) {
                return domainManager.isRegistered(id);
            }

            @Override
            public boolean isAnythingRegistered() {
                return domainManager.isAnythingRegistered();
            }
        };
    }

