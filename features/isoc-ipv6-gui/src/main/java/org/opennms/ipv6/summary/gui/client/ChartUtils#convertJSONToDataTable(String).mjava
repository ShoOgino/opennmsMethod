    public static DataTable convertJSONToDataTable(String text) {
        
        DataTable dataTable = DataTable.create();
        dataTable.addColumn(ColumnType.DATETIME, "Date");
        dataTable.addColumn(ColumnType.NUMBER, "DNS-AAAA");
        dataTable.addColumn(ColumnType.STRING, "title1");
        dataTable.addColumn(ColumnType.STRING, "text1");
        dataTable.addColumn(ColumnType.NUMBER, "DNS-A");
        dataTable.addColumn(ColumnType.STRING, "title2");
        dataTable.addColumn(ColumnType.STRING, "text2");
        dataTable.addColumn(ColumnType.NUMBER, "HTTP-v6");
        dataTable.addColumn(ColumnType.STRING, "title2");
        dataTable.addColumn(ColumnType.STRING, "text2");
        dataTable.addColumn(ColumnType.NUMBER, "HTTP-v4");
        dataTable.addColumn(ColumnType.STRING, "title2");
        dataTable.addColumn(ColumnType.STRING, "text2");
        
        
        JSONObject jsonData = (JSONObject) JSONParser.parseStrict(text);
        JSONObject data;
        
        if(jsonData.get("data").isObject() != null) {
            data = jsonData.get("data").isObject();
            JSONArray values = data.get("values").isArray();
            dataTable.addRow();
            Date date = new Date(Long.valueOf(data.get("time").isString().stringValue()));
            dataTable.setValue(0, 0, date);
            
            for(int i = 0; i < values.size(); i++) {
                JSONObject value = values.get(i).isObject();
                if(value != null) {
                    String application = value.get("application").isString().stringValue();
                    insertApplicationData(dataTable, 0, value, application);
                }
            }
            
        }else if(jsonData.get("data").isArray() != null) {
            JSONArray d = jsonData.get("data").isArray();
            
            for(int j = 0; j < d.size(); j++) {
                JSONObject dataPoint = d.get(j).isObject();
                JSONArray values = dataPoint.get("values").isArray(); 
                dataTable.addRow();
                Date date = new Date(Long.valueOf(dataPoint.get("time").isString().stringValue()));
                dataTable.setValue(j, 0, date);
                
                for(int i = 0; i < values.size(); i++) {
                    JSONObject value = values.get(i).isObject();
                    if(value != null) {
                        String application = value.get("application").isString().stringValue();
                        insertApplicationData(dataTable, j, value, application);
                    }
                }
                
            }
            
        }
        
        
        return dataTable;
    }

