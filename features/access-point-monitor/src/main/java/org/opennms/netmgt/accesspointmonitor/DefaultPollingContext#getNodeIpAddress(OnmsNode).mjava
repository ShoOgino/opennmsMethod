    /*
     * Return the IP address of the first interface on the node
     */
    protected InetAddress getNodeIpAddress(OnmsNode node) {
        final Criteria criteria = new Criteria(OnmsIpInterface.class)
            .setAliases(Arrays.asList(new Alias[] {
                new Alias("node", "node", JoinType.LEFT_JOIN)
            }))
            .addRestriction(new EqRestriction("node.id", node.getId()));
        List<OnmsIpInterface> matchingIfaces = getIpInterfaceDao().findMatching(criteria);
        return matchingIfaces.get(0).getIpAddress();
    }

