	/*
	 * Return the IP address of the first interface on the node
	 */
	protected InetAddress getNodeIpAddress(OnmsNode node) {
		final OnmsCriteria criteria = new OnmsCriteria(OnmsIpInterface.class);
		criteria.add(Restrictions.sqlRestriction("nodeid = " + node.getId()));
		List<OnmsIpInterface> matchingIfaces = getIpInterfaceDao().findMatching(criteria);
		return matchingIfaces.get(0).getIpAddress();
	}

