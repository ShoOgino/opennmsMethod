    private Queue toQueue(Destination dest) {
        if (dest instanceof Queue) {
            return (Queue)dest;
        } else if (dest instanceof DestinationFilter) {
            final DestinationFilter destFilter = (DestinationFilter)dest;
            return toQueue(destFilter.getNext());
        } else {
            return null;
        }
    }

