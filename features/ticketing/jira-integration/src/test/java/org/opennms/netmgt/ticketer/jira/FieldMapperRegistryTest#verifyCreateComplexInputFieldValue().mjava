    @Test
    public void verifyCreateComplexInputFieldValue() {
        // Verify null
        Assert.assertEquals(ComplexIssueInputFieldValue.with("name", "ulf"), FieldMapperRegistry.createComplexInputFieldValue(Maps.newHashMap(), "user", null, "ulf"));

        // Verify lookup
        Properties props = new Properties();
        props.put("jira.attributes.group.resolution", "name");
        props.put("jira.attributes.user.resolution", "custom");
        Map<String, String> lookupMap = FieldMapperRegistry.buildLookupMap(props);
        Assert.assertEquals(ComplexIssueInputFieldValue.with("custom", "ulf"), FieldMapperRegistry.createComplexInputFieldValue(lookupMap, "user", "name", "ulf"));
        Assert.assertEquals(ComplexIssueInputFieldValue.with("name", "jira-users"), FieldMapperRegistry.createComplexInputFieldValue(lookupMap, "group", "name", "jira-users"));
        Assert.assertEquals(ComplexIssueInputFieldValue.with("value", "core"), FieldMapperRegistry.createComplexInputFieldValue(lookupMap, "component", "value", "core"));
    }

