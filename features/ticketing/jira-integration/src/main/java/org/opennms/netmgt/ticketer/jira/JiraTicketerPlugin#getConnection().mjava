    protected JiraRestClient getConnection() {
        try {
            URI jiraUri = new URL(getProperties().getProperty("jira.host")).toURI();
            String username = getProperties().getProperty("jira.username");
            if (username == null || "".equals(username)) {
                return clientFactory.create(jiraUri, new AnonymousAuthenticationHandler());
            } else {
                return clientFactory.createWithBasicHttpAuthentication(jiraUri, getProperties().getProperty("jira.username"), getProperties().getProperty("jira.password"));
            }
        } catch (MalformedURLException e) {
            log().error("Failed to parse URL: " + getProperties().getProperty("jira.host"));
        } catch (URISyntaxException e) {
            log().error("Failed to parse URI: " + getProperties().getProperty("jira.host"));
        }
        return null;
    }

