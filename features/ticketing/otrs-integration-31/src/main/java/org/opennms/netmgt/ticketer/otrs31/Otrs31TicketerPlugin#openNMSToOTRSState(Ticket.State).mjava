    /**
     * Convenience method for converting OpenNMS enumerated ticket states to
     * OTRS ticket StateID.
     * 
     * @param state
     * @return a BigInteger representing the OTRS StateID.
     */

    private BigInteger openNMSToOTRSState(Ticket.State state) {

        BigInteger otrsStateId;

        LOG.debug("getting otrs state from OpenNMS State {}",
                  state.toString());

        switch (state) {

        case OPEN:
            // ticket is new
            otrsStateId = BigInteger.valueOf(m_configDao.getOpenStateId());
            break;
        case CANCELLED:
            // not sure how often we see this
            otrsStateId = BigInteger.valueOf(m_configDao.getCancelledStateId());
            break;
        case CLOSED:
            // closed successful
            otrsStateId = BigInteger.valueOf(m_configDao.getClosedStateId());
            break;
        default:
            LOG.debug("No valid OpenNMS state on ticket");
            otrsStateId = BigInteger.valueOf(m_configDao.getOpenStateId());
        }

        LOG.debug("OpenNMS state was        {}", state.toString());
        LOG.debug("setting OTRS state ID to {}", otrsStateId.toString());

        return otrsStateId;

    }

