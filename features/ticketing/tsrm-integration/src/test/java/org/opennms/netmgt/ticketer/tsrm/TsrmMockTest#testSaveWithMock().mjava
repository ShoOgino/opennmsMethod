    @Test
    public void testSaveWithMock() throws PluginException {

        CreateSHSIMPINCType createIncidentType = new CreateSHSIMPINCType();

        CreateSHSIMPINCResponseType incidentResponse = new CreateSHSIMPINCResponseType();
        INCIDENTMboKeySetType incidentMboKeyType = new INCIDENTMboKeySetType();
        INCIDENTKeyType incidentKey = new INCIDENTKeyType();
        MXStringType incidentId = new MXStringType();
        incidentId.setValue(INCIDENT_ID);
        incidentKey.setTICKETID(incidentId);
        incidentResponse.setINCIDENTMboKeySet(incidentMboKeyType);
        incidentMboKeyType.getINCIDENT().add(incidentKey);

        when(port.createSHSIMPINC(argThat(new ArgumentMatcher<CreateSHSIMPINCType>() {
            @Override
            public boolean matches(CreateSHSIMPINCType createSHSIMPINCType) {
                return true;
            }
        }))).thenReturn(incidentResponse);
        port.createSHSIMPINC(createIncidentType);

        Ticket ticket = new Ticket();
        m_ticketer.saveOrUpdate(ticket);

        verify(port).createSHSIMPINC(createIncidentType);
        assertEquals(ticket.getId(), INCIDENT_ID);
    }

