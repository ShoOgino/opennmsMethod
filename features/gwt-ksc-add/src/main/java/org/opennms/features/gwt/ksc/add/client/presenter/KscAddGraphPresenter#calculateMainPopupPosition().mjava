    private int[] calculateMainPopupPosition() {
        final int[] positions = {0, 0};

        final int windowWidth = Window.getClientWidth();
        final int imageRightEdge = m_addImage.getAbsoluteLeft() + m_addImage.getWidth();

        if (imageRightEdge + 300 > windowWidth) {
            positions[0] = windowWidth - 320;
        } else {
            positions[0] = imageRightEdge - 3;
        }
        if (positions[0] < 0) positions[0] = 0;

        positions[1] = m_addImage.getAbsoluteTop() + m_addImage.getHeight() - 1;

        return positions;
    }

