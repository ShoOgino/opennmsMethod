    @Override
    public void updateConfiguration(GeocoderServiceManagerConfiguration newConfiguration) throws IOException {
        final Configuration configuration = configurationAdmin.getConfiguration(PID);
        final Dictionary<String, Object> currentProperties = configuration.getProperties() == null ? new Hashtable<>() : configuration.getProperties();

        // Only update if changed
        if (!Objects.equals(newConfiguration, configuration)) {
            applyProperties(currentProperties, newConfiguration.asMap());
            configuration.update(currentProperties);
        }
    }

