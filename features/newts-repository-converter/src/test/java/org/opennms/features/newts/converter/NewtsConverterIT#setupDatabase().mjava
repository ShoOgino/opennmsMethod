    @Before
    public void setupDatabase() throws Exception {
        if (!NewtsConverterIT.populated) {
            this.database.getJdbcTemplate().execute("INSERT INTO node (nodeid, nodecreatetime, nodelabel, foreignsource, foreignid) " +
                                               "VALUES (1, NOW(), 'my-node-1', 'fs1', 'fid1')");


            try (final BufferedReader r = Files.newBufferedReader(OPENNMS_HOME.resolve("etc")
                                                                         .resolve("opennms-datasources.xml.template"));
                 final BufferedWriter w = Files.newBufferedWriter(OPENNMS_HOME.resolve("etc")
                                                                              .resolve("opennms-datasources.xml"))) {
                String line;
                while ((line = r.readLine()) != null) {
                    w.append(line.replace("%%DATABASE%%", this.database.getTestDatabase())
                                 .replace("%%USERNAME%%", ((org.opennms.core.db.install.SimpleDataSource) ((TemporaryDatabasePostgreSQL) this.database).getDataSource()).getUser())
                                 .replace("%%PASSWORD%%", ((org.opennms.core.db.install.SimpleDataSource) ((TemporaryDatabasePostgreSQL) this.database).getDataSource()).getPassword()))
                     .append('\n');
                }
            }

            NewtsConverterIT.populated = true;
        }
    }

