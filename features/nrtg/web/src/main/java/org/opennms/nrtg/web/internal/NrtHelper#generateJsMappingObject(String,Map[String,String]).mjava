    public String generateJsMappingObject(String rrdCommand, Map<String, String> rrdGraphAttributesToMetricIds) {
        final StringBuilder stringBuilder = new StringBuilder();
        final String command = rrdCommand;

        final Pattern pattern = Pattern.compile("DEF:.*?=(\\{.*?\\}):(.*?):");
        final Matcher matcher = pattern.matcher(command);

        final Map<String, String> rrdFileMapping = new HashMap<String, String>();
        while (matcher.find()) {
            rrdFileMapping.put(matcher.group(2), matcher.group(1));
        }

        for (Map.Entry entry : rrdGraphAttributesToMetricIds.entrySet()) {
            stringBuilder.append(String.format("'%s': '%s:%s', \n", entry.getValue(), rrdFileMapping.get(entry.getKey()), entry.getKey()));
        }
        return stringBuilder.toString().substring(0,stringBuilder.toString().length() - ", \n".length());
    }

