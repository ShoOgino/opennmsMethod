    public String getTemplateAsString(String templateName) throws IOException {

        BufferedReader r = null;
        try {
            final StringBuilder results = new StringBuilder();
            r = new BufferedReader(new InputStreamReader(getClass().getResourceAsStream("/" + templateName)));

            String line;
            while ((line = r.readLine()) != null) {
                results.append(line).append('\n');
            }

            return results.toString();
        } finally {
            if (r != null) { 
                r.close(); 
            }
        }
    }

