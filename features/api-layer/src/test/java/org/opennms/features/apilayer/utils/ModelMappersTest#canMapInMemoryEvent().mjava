    @Test
    public void canMapInMemoryEvent() {
        Event event = new Event();
        event.setUei("test.uei");
        event.setSource("test.source");
        event.setSeverity("MINOR");
        event.setNodeid(12345L);
        String parmName = "test.parm.name";
        String parmValue = "test.parm.value";
        event.setParmCollection(Collections.singletonList(new Parm(parmName, parmValue)));

        InMemoryEvent inMemoryEvent = ModelMappers.toEvent(event);
        assertThat(inMemoryEvent.getUei(), equalTo(event.getUei()));
        assertThat(inMemoryEvent.getSource(), equalTo(event.getSource()));
        assertThat(inMemoryEvent.getSeverity(), equalTo(Severity.MINOR));
        assertThat(inMemoryEvent.getNodeId(), equalTo(event.getNodeid().intValue()));
        assertThat(inMemoryEvent.getParameters(), hasItems(ImmutableEventParameter.newInstance(parmName, parmValue)));
        assertThat(inMemoryEvent.getParameterValue(parmName).get(), equalTo(parmValue));
        assertThat(inMemoryEvent.getParametersByName(parmName), hasItems(ImmutableEventParameter.newInstance(parmName,
                parmValue)));
    }

