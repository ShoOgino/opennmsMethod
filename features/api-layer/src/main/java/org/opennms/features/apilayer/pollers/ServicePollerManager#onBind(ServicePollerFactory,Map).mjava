    // Had to override as registry needs poller class name in properties.
    @Override
    public synchronized void onBind(ServicePollerFactory extension, Map properties) {
        LOG.debug("bind called with {}: {}", extension, properties);
        if (extension != null) {
            extServiceRegistrationMap.computeIfAbsent(extension, (ext) -> {
                final ServiceMonitor mappedExt = map(ext);
                final Hashtable<String, Object> props = new Hashtable<>();
                // Make the service available to any Spring-based listeners
                props.put("registration.export", Boolean.TRUE.toString());
                // Registry needs type of poller class.
                props.put("type", ext.getPollerClassName());
                return bundleContext.registerService(clazz, mappedExt, props);
            });
        }
    }

