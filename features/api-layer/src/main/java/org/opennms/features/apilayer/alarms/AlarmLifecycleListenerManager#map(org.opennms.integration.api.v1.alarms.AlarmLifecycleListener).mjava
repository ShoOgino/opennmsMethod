    @Override
    public AlarmLifecycleListener map(org.opennms.integration.api.v1.alarms.AlarmLifecycleListener ext) {
        return new AlarmLifecycleListener() {
            @Override
            public void handleAlarmSnapshot(List<OnmsAlarm> alarms) {
                ext.handleAlarmSnapshot(alarms.stream().map(ModelMappers::toAlarm)
                        .collect(Collectors.toList()));
            }

            @Override
            public void handleNewOrUpdatedAlarm(OnmsAlarm alarm) {
                ext.handleNewOrUpdatedAlarm(ModelMappers.toAlarm(alarm));
            }

            @Override
            public void handleDeletedAlarm(int alarmId, String reductionKey) {
                ext.handleDeletedAlarm(alarmId, reductionKey);
            }
        };
    }

