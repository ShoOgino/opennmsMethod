    @Override
    public CompletableFuture<Boolean> detect(String serviceName, String hostName, Map<String, String> detectorAttributes) {
        CompletableFuture<Boolean> detected = new CompletableFuture<>();
        try {
            return locationAwareDetectorClient.detect()
                    .withServiceName(serviceName)
                    .withAddress(InetAddress.getByName(hostName))
                    .withAttributes(detectorAttributes)
                    .execute();
        } catch (Exception e) {
            detected.completeExceptionally(e);
            return detected;
        }
    }

