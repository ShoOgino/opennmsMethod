    @Test
    public void testCalculateTaskTimeout() throws Exception {
        final List<IPPollRange> m_ranges = new ArrayList<IPPollRange>();
        // Make 3 ranges of 5 addresses each
        for (int i = 0; i < 3; i++) {
            IPPollRange ipPollRange = new IPPollRange("127.0.1." + ((i * 5) + 1), "127.0.1." + ((i * 5) + 5), 50, 2);
            m_ranges.add(ipPollRange);
        }
        DiscoveryJob discoveryJob = new DiscoveryJob(m_ranges, "Bogus FS", "Bogus Location", Double.MAX_VALUE);
        // Each task is taking 750 ms so totalTaskTimeout = 750 ms * 3 (number of tasks) = 2250 ms
        assertEquals(Math.round(2250 * 1.5), discoveryJob.calculateTaskTimeout()); 

        // Set the rate to 1 per second and make sure that the timeout is extended
        // by 1000 milliseconds per all 15 IP addresses
        discoveryJob = new DiscoveryJob(m_ranges, "Bogus FS", "Bogus Location", 1.0);
        assertEquals(Math.round(2250 * 1.5) + (15 * 1000), discoveryJob.calculateTaskTimeout()); 
    }

