	@Test
	public void testCoalesceConsecutiveSpecifics() {
		DiscoveryConfiguration config = new DiscoveryConfiguration();

		for (int i = 0; i < 5; i++) {
			Specific specific = new Specific();
			specific.setAddress("10.0.0." + i);
			specific.setForeignSource("ABC");
			specific.setLocation("123");
			specific.setRetries(1);
			specific.setTimeout(1000l);
			config.addSpecific(specific);
		}

		Map<String, List<DiscoveryJob>> jobs = new RangeChunker(ipAddressFilter).chunk(config);
		printJobs(jobs);

		// The specifics have been combined into one range
		assertEquals(1, jobs.size());
		assertEquals(1, jobs.get("123").get(0).getRanges().size());

		IPPollRange range = jobs.get("123").get(0).getRanges().iterator().next();
		assertEquals("10.0.0.0", new IPAddress(range.getAddressRange().getBegin()).toString());
		assertEquals("10.0.0.4", new IPAddress(range.getAddressRange().getEnd()).toString());
	}

