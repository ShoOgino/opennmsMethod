    @Override
    public <T> List<T> getServices(Class<T> clazz, VaadinApplicationContext applicationContext, Properties additionalProperties) {
        if (additionalProperties == null) {
            additionalProperties = new Properties();
        }
        List<T> services = new ArrayList<T>();
        try {
            Collection<ServiceReference<T>> serviceReferences = bundleContext.getServiceReferences(clazz, getFilter(applicationContext, additionalProperties));
            if (serviceReferences != null) {
                for (ServiceReference<T> eachServiceReference : serviceReferences) {
                    T service = bundleContext.getService(eachServiceReference);
                    if (service == null) continue;
                    services.add(service);
                }
            }
        } catch (InvalidSyntaxException e) {
            LOG.error("Invalid Filter definition in getService()", e);
        }
        return services;
    }

