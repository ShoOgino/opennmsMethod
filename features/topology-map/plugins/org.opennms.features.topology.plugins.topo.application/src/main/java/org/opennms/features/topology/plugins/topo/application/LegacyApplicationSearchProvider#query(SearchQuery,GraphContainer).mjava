    @Override
    public List<SearchResult> query(SearchQuery searchQuery, GraphContainer container) {
        LOG.info("ApplicationServiceSearchProvider->query: called with search query: '{}'", searchQuery);

        // we combine the suggest and search phase since the old search doesn't distinguish between suggesting and searching.
        // This is some ugly mapping here to marry the old and new world...

        List<SearchSuggestion> suggestions = graphSearchService.getSuggestions(ApplicationGraph.NAMESPACE, searchQuery.getQueryString());
        List<GenericVertex> suggestedVertices = new ArrayList<>();

        for (SearchSuggestion suggestion : suggestions) {
            SearchCriteria searchCriteria = new SearchCriteria();
            searchCriteria.setNamespace(ApplicationGraph.NAMESPACE);
            // context shouldn't matter: searchCriteria.setContext();
            searchCriteria.setCriteria(suggestion.getId());
            searchCriteria.setProviderId(suggestion.getProvider());
            suggestedVertices.addAll(graphSearchService.search(searchCriteria));
        }

        List<SearchResult> results = Lists.newArrayList();
        for (GenericVertex genericVertex : suggestedVertices) {
            ApplicationVertex applicationVertex = new ApplicationVertex(genericVertex);
            final LegacyApplicationVertex legacyApplicationVertex = new LegacyApplicationVertex(applicationVertex);
            SearchResult searchResult = new SearchResult(legacyApplicationVertex, true, false);
            results.add(searchResult);
        }

        LOG.info("ApplicationServiceSearchProvider->query: found {} results: {}", results.size(), results);
        return results;
    }

