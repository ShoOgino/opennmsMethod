    private <T extends VertexRef> Collection<T> filter(List<T> references, final Criteria... criteria) {
        return Collections2.filter(references, new Predicate<T>() {
            @Override
            public boolean apply(T input) {
                return filter(input, criteria) != null;
            }
        });
    }

