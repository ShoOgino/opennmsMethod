    private Collection<VertexRef> getRootElements(Collection<VertexRef> vertices) {
        return Collections2.filter(vertices, new Predicate<VertexRef>() {
            @Override
            public boolean apply(VertexRef input) {
                return ((ApplicationVertex) input).isRoot();
            }
        });
    }

