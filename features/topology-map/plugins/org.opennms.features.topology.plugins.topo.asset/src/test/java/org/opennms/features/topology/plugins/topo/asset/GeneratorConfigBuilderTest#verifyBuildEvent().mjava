    @Test
    public void verifyBuildEvent() {
        final Event e = new EventBuilder(AssetGraphMLProvider.CREATE_ASSET_TOPOLOGY, getClass().getSimpleName())
                .addParam(EventParameterNames.PROVIDER_ID, "My Id")
                .addParam(EventParameterNames.LABEL, "Custom Asset Topology")
                .addParam(EventParameterNames.PREFERRED_LAYOUT, "D3 Layout")
                .addParam(EventParameterNames.BREADCRUMB_STRATEGY, "NONE")
                .addParam(EventParameterNames.FILTERS, "a=x;b=y")
                .addParam(EventParameterNames.HIERARCHY, "a,b,c")
                .getEvent();

        final GeneratorConfig expectedConfig = new GeneratorConfig();
        expectedConfig.setProviderId("My Id");
        expectedConfig.setLabel("Custom Asset Topology");
        expectedConfig.setPreferredLayout("D3 Layout");
        expectedConfig.setBreadcrumbStrategy(BreadcrumbStrategy.NONE.name());
        expectedConfig.setLayerHierarchies(Lists.newArrayList("a", "b", "c"));
        expectedConfig.setFilters(Lists.newArrayList("a=x","b=y"));

        final GeneratorConfig actualConfig = GeneratorConfigBuilder.buildFrom(ImmutableMapper.fromMutableEvent(e));
        Assert.assertEquals(expectedConfig, actualConfig);
    }

