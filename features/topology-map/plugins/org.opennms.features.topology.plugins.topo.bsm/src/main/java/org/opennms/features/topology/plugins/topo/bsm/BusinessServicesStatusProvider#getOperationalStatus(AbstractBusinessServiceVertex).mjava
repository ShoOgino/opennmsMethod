    private OnmsSeverity getOperationalStatus(AbstractBusinessServiceVertex vertex) {
        if (vertex instanceof BusinessServiceVertex) {
            return businessServiceManager.getOperationalStatusForBusinessService(((BusinessServiceVertex) vertex).getServiceId());
        }
        if (vertex instanceof IpServiceVertex) {
            IpServiceVertex ipServiceVertex = (IpServiceVertex) vertex;
            return businessServiceManager.getOperationalStatusForIPService(ipServiceVertex.getIpServiceId());
        }
        throw new IllegalStateException("Unsupported BusinessServiceVertex type: " + vertex.getClass());
    }

