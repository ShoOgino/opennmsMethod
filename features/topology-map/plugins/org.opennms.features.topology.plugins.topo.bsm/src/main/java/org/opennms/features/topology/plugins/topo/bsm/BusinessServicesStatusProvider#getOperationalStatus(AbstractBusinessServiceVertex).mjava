    private OnmsSeverity getOperationalStatus(AbstractBusinessServiceVertex vertex) {
        if (vertex instanceof BusinessServiceVertex) {
            BusinessServiceVertex bsVertex = (BusinessServiceVertex) vertex;
            return businessServiceManager.getBusinessServiceById(bsVertex.getServiceId()).getOperationalStatus();
        }
        if (vertex instanceof IpServiceVertex) {
            IpServiceVertex ipServiceVertex = (IpServiceVertex) vertex;
            return businessServiceManager.getIpServiceById(ipServiceVertex.getIpServiceId()).getOperationalStatus();
        }
        throw new IllegalStateException("Unsupported BusinessServiceVertex type: " + vertex.getClass());
    }

