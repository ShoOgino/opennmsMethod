    @Test
    public void testOutEqualToBufferLengthIntRead() throws IOException {
        in.connect(out);
        in.out = 1023;
        in.in = 1;

        assertEquals(0, in.read()); // because in reads buffer[out++]
        assertEquals(0, in.out);  // because buffer[out++] increments in.out
        assertEquals(1, in.in); // because in.in was equal to in.out

    }

