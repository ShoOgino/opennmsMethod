    @Test
    public void testNormalIntRead() throws IOException {
        in.connect(out);
        in.out = 3;
        in.in = 1;


        assertEquals(13, in.read()); // because in reads buffer[out++]
        assertEquals(4, in.out);  // because buffer[out++] increments in.out
        assertEquals(1, in.in); // because in.in was equal to in.out

        in.in = 100;
        in.out = 100;

        assertEquals(0, in.read());
    }

