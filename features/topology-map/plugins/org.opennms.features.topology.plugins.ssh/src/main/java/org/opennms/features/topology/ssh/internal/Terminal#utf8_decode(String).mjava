	private String utf8_decode(String d) {
		final StringBuilder o = new StringBuilder();
		byte[] bytes = d.getBytes();
		for (char c : d.toCharArray()) {
			if (utf8_units_count != utf8_units_received) {
				utf8_units_received++;
				if ((c & 0xc0) == 0x80) {
					utf8_char = (utf8_char << 6) | (c & 0x3f);
					if (utf8_units_count == utf8_units_received) {
						if (utf8_char < 0x10000) {
							o.append((char) utf8_char);
						}
						utf8_units_count = utf8_units_received = 0;
					}
				} else {
					o.append('?');
					while (utf8_units_received-- > 0) {
						o.append('?');
					}
					utf8_units_count = 0;
				}
			} else {
				if ((c & 0x80) == 0x00) {
					o.append(c);
				} else if ((c & 0xe0) == 0xc0) {
					utf8_units_count = 1;
					utf8_char = c & 0x1f;
				} else if ((c & 0xf0) == 0xe0) {
					utf8_units_count = 2;
					utf8_char = c & 0x0f;
				} else if ((c & 0xf8) == 0xf0) {
					utf8_units_count = 3;
					utf8_char = c & 0x07;
				} else {
					o.append('?');
				}

			}
		}
		return o.toString();
	}

