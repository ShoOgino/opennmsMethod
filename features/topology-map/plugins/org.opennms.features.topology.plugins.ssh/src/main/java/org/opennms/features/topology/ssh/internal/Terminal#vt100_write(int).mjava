	private boolean vt100_write(int c) {
		if (c < 32) {
			if (c == 27) {
				vt100_parse_reset(State.Esc);
				return true;
			} else if (c == 14) {
				ctrl_SO();
			} else if (c == 15) {
				ctrl_SI();
			}
		} 
		if (vt100_parse_state != State.None) {
			if (vt100_parse_state == State.Str) {
				if (c >= 32) {
					return true;
				}
				vt100_parse_reset();
			} else {
				if (c < 32) {
					if (c == 24 || c == 26) {
						vt100_parse_reset();
						return true;
					}
				} else {
					vt100_parse_len += 1;
					if (vt100_parse_len > 32) {
						vt100_parse_reset();
					} else {
						int msb = c & 0xf0;
						if (msb == 0x20) {
							vt100_parse_func <<= 8;
							vt100_parse_func += (char) c;
						} else if (msb == 0x30 && vt100_parse_state == State.Csi) {
							vt100_parse_param += new String(new char[] { (char) c } );
						} else {
							vt100_parse_func <<= 8;
							vt100_parse_func += (char) c;
							vt100_parse_process();
						}
						return true;
					}
				}
			}
		}
		vt100_lastchar = c;
		return false;
	}

