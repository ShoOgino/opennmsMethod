    @Override
    public List<SearchResult> query(SearchQuery searchQuery, GraphContainer container) {
        LOG.info("GraphMLSearchProvider->query: called with search query: '{}'", searchQuery);
        final List<SearchResult> results = Lists.newArrayList();

        // Search all of the nodes on all the graphs
        final List<GraphMLVertex> matchingVertices = new ArrayList<>();
        getGraph().ifPresent(d -> {
            d.getGraphs().stream()
                .map(g -> g.getNodes())
                .flatMap(l -> l.stream())
                .filter(n -> matches(searchQuery, n))
                .sorted((n1, n2) -> n1.getId().compareTo(n2.getId()))
                .map(n -> new GraphMLVertex(n))
                .forEach(v -> matchingVertices.add(v));
        });

        // Build search results from the matching vertices
        matchingVertices.stream().forEach(v -> {
            SearchResult searchResult = new SearchResult(v);
            searchResult.setCollapsed(false);
            searchResult.setCollapsible(true);
            results.add(searchResult);
        });

        LOG.info("GraphMLSearchProvider->query: found {} results: {}", results.size(), results);
        return results;
    }

