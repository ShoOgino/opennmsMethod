    /**
     * Returns true if either if either the graph node's id, or the values of any
     * of the graph node's properties contain the query string.
     */
    private static boolean matches(SearchQuery searchQuery, GraphMLNode graphMLNode) {
        final String qs = searchQuery.getQueryString().toLowerCase();
        for (Object propValue : graphMLNode.getProperties().values()) {
            final String value = propValue != null ? propValue.toString() : "";
            if (value.toLowerCase().contains(qs)) {
                return true;
            }
        }
        return graphMLNode.getId().toLowerCase().contains(qs);
    }

