    private static void validate(GraphML graphML) throws InvalidGraphException {
        List<String> nodeIds = new ArrayList<>();
        List<String> edgeIds = new ArrayList<>();
        List<String> graphIds = new ArrayList<>();
        String namespace = graphML.getNamespace();
        if (Strings.isNullOrEmpty(namespace)) {
            throw new InvalidGraphException("No namespace defined for type 'GraphML'");
        }

        for (GraphMLGraph eachGraph : graphML.getGraphs()) {
            validateNamespace(namespace, eachGraph.getNamespace());
            eachGraph.getNamespace();

            if (graphIds.contains(eachGraph.getId())) {
                throw new InvalidGraphException("There already exists a graph with id " + eachGraph.getId());
            }
            graphIds.add(eachGraph.getId());

            for (GraphMLNode eachNode : eachGraph.getNodes()) {
                validateNamespace(namespace, eachNode.getNamespace());
                if (nodeIds.contains(eachNode.getId())) {
                    throw new InvalidGraphException("There already exists a node with id " + eachNode.getId());
                }
                nodeIds.add(eachNode.getId());
            }
            for (GraphMLEdge eachEdge : eachGraph.getEdges()) {
                validateNamespace(namespace, eachEdge.getNamespace());
                if (edgeIds.contains(eachEdge.getId())) {
                    throw new InvalidGraphException("There already exists an edge with id " + eachEdge.getId());
                }
                edgeIds.add(eachEdge.getId());
            }
        }
    }

