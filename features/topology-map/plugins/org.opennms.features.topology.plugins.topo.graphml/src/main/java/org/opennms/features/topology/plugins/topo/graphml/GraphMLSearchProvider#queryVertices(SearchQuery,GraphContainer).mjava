    @Override
    public List<? extends VertexRef> queryVertices(SearchQuery searchQuery, GraphContainer container) {
        // Search all of the nodes on all the graphs
        final List<GraphMLVertex> matchingVertices = new ArrayList<>();
        getGraph().ifPresent(d -> {
            d.getGraphs().stream()
                .map(g -> g.getNodes())
                .flatMap(l -> l.stream())
                .filter(n -> matches(searchQuery, n))
                .sorted((n1, n2) -> n1.getId().compareTo(n2.getId()))
                .map(n -> new GraphMLVertex(n))
                .forEach(v -> matchingVertices.add(v));
        });
        return matchingVertices;
    }

