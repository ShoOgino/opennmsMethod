    protected void addRestrictions(String namespace, List<Restriction> restrictionList, List<VertexRef> selectedVertices, ContentType type) {
        if (contributesTo(type)) {
            Set<Integer> nodeIds = selectedVertices.stream()
                    .filter(v -> namespace.equals(v.getNamespace()))
                    .filter(v -> v instanceof AbstractVertex)
                    .map(v -> (AbstractVertex) v)
                    .map(v -> v.getNodeID())
                    .filter(nodeId -> nodeId != null)
                    .collect(Collectors.toSet());
            if (!nodeIds.isEmpty()) {
                if (type == ContentType.Alarm) {
                    restrictionList.add(Restrictions.in("node.id", nodeIds));
                }
                if (type == ContentType.Node) {
                    restrictionList.add(Restrictions.in("id", nodeIds));
                }
            }
        }
    }

