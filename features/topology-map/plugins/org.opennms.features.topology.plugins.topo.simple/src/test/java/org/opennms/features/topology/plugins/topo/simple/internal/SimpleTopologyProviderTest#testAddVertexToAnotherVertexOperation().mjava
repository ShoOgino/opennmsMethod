	@Test
	public void testAddVertexToAnotherVertexOperation() {

		m_topologyProvider.resetContainer();

		//Add existing vertex
        VertexRef vertexRef = addVertexToTopr();
	    
	    GraphContainer graphContainer = EasyMock.createMock(GraphContainer.class);
	    
	    EasyMock.expect(graphContainer.getBaseTopology()).andReturn(m_topologyProvider).anyTimes();
	    graphContainer.redoLayout();
	    
	    EasyMock.replay(graphContainer);
	    
	    
	    List<VertexRef> targets = new ArrayList<VertexRef>();
	    targets.add(vertexRef);
	    
	    OperationContext operationContext = getOperationContext(graphContainer);
	    AddVertexOperation addOperation = new AddVertexOperation(Constants.SERVER_ICON_KEY);
        addOperation.execute(targets, operationContext);
	    
        Collection<? extends Vertex> vertIds = m_topologyProvider.getVertices();
        assertEquals(2, vertIds.size());
        
        Collection<? extends Edge> edgeIds = m_topologyProvider.getEdges();
        assertEquals(1, edgeIds.size());
        
        EasyMock.verify(graphContainer);
	    
	}

