	@Test
	public void testCollapseVertices() {
		List<Vertex> vertices = m_provider.getVertices(new Criteria[] { new TestCollapsibleCriteria() });

		// Test vertex that replaces the collapsed vertices
		assertTrue(vertices.contains(new AbstractVertexRef("nodes", TEST_ID)));

		// These vertices should be "collapsed"
		assertFalse(vertices.contains(new AbstractVertexRef("nodes", "g0")));
		assertFalse(vertices.contains(new AbstractVertexRef("nodes", "g1")));
		assertFalse(vertices.contains(new AbstractVertexRef("nodes", "g2")));
		
		// These vertices remain uncollapsed
		assertTrue(vertices.contains(new AbstractVertexRef("nodes", "v1")));
		assertTrue(vertices.contains(new AbstractVertexRef("nodes", "v2")));
		assertTrue(vertices.contains(new AbstractVertexRef("nodes", "v3")));
		assertTrue(vertices.contains(new AbstractVertexRef("nodes", "v4")));
	}

