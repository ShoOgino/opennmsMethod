	@Test
	public void testAddVertexWithOperation() {
	    
	    GraphContainer graphContainer = EasyMock.createMock(GraphContainer.class);
	    
	    EasyMock.expect(graphContainer.getBaseTopology()).andReturn(m_topologyProvider).anyTimes();
	    graphContainer.redoLayout();
	    
	    EasyMock.replay(graphContainer);

	    List<VertexRef> targets = Collections.emptyList();
	    OperationContext operationContext = getOperationContext(graphContainer);
	    
	    AddVertexOperation addOperation = new AddVertexOperation(Constants.GROUP_ICON_KEY);
	    addOperation.execute(targets, operationContext);
	    
	    Collection<? extends Vertex> vertIds =  m_topologyProvider.getVertices();
	    assertEquals(1, vertIds.size());
	    assertTrue("v0".equals(vertIds.iterator().next().getId()));
	}

