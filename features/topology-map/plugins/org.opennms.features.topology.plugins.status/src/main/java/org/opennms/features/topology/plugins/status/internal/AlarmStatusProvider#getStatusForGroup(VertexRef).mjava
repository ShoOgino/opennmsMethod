    private Status getStatusForGroup(VertexRef groupRef) {
        
        
        Collection<Integer> nodeIds = new ArrayList<Integer>();
        
        getChildrenRecursively(groupRef, nodeIds);
        
        if(nodeIds.size() >= 1) {
            CriteriaBuilder builder = new CriteriaBuilder(OnmsAlarm.class);
            builder.alias("node", "node");
            builder.in("node.id", nodeIds);
            builder.ge("severity", OnmsSeverity.WARNING);
            builder.orderBy("node.id").asc();
            builder.orderBy("severity").desc();
            
            return getStatusForCriteria(builder);
        }else {
            return createIndeterminateStatus();
        }
    }

