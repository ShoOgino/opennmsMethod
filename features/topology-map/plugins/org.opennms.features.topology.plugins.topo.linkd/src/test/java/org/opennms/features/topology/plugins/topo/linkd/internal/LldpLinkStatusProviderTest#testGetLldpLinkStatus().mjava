    @Test
    public void testGetLldpLinkStatus() {
        List<Integer> linkIds = new ArrayList<Integer>();
        linkIds.add(1);
        linkIds.add(2);
        EasyMock.expect(
                m_alarmDao.getLldpEdgeAlarmSummaries(linkIds)).andReturn(createLldpLinkStatusSummary());

        EasyMock.replay(m_alarmDao);

        List<EdgeRef> edges = createEdges();
        Map<EdgeRef, Status> statusMap = m_statusProvider.getStatusForEdges(m_edgeProvider, edges, new Criteria[0]);

        assertEquals(1, statusMap.size());
        assertEquals(edges.get(0), new ArrayList<EdgeRef>(statusMap.keySet()).get(0));
        Status status = statusMap.get(edges.get(0));
        assertEquals("up", status.computeStatus());

    }

