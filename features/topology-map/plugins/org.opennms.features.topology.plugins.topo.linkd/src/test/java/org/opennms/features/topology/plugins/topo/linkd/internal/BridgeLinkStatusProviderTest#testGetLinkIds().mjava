    @Test
    public void testGetLinkIds(){
        EasyMock.expect(m_bridgeMacLinkDao.getAllBridgeLinksToIpAddrToNodes()).andReturn(createBridgeLinks());
        EasyMock.expect(m_bridgeMacLinkDao.getAllBridgeLinksToBridgeNodes()).andReturn(new ArrayList<BridgeMacTopologyLink>());
        EasyMock.expect(m_bridgeBridgeLinkDao.findAll()).andReturn(new ArrayList<BridgeBridgeLink>());
        EasyMock.replay(m_bridgeMacLinkDao,m_bridgeBridgeLinkDao);

        Set<Integer> ids = m_statusProvider.getLinkIds(mapRefs(createEdges()));
        assertEquals(2, ids.size());
        Iterator<Integer> id=ids.iterator();
        assertEquals(521, id.next().intValue());
        assertEquals(522, id.next().intValue());

    }

