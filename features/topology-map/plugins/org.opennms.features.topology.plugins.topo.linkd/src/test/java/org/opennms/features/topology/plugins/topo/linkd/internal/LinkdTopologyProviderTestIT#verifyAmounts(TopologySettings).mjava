    private void verifyAmounts(TopologySettings settings) throws OnmsTopologyException {
        refresh();
        List<Vertex> vertices = linkdTopologyProvider.getVerticesWithoutGroups();

        // Check amount nodes
        assertEquals(settings.getAmountNodes(), vertices.size());

        // Check amount edges
        Map<VertexRef, Set<EdgeRef>> edgeIds = linkdTopologyProvider.getEdgeIdsForVertices(vertices.toArray(new Vertex[vertices.size()]));
        Set<EdgeRef> allEdges = new HashSet<>();
        edgeIds.values().forEach(allEdges::addAll);
        // 2 links form one edge:
        int expectedAmountOfEdges = settings.getAmountLinks() / 2;
        assertEquals(expectedAmountOfEdges, linkdTopologyProvider.getEdgeTotalCount());
        assertEquals(expectedAmountOfEdges, allEdges.size());
    }

