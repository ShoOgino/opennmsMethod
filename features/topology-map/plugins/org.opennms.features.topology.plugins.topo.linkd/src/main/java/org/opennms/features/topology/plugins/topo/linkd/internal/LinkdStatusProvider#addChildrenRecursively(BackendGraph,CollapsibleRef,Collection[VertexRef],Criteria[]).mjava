    private static void addChildrenRecursively(BackendGraph graph, CollapsibleRef collapsibleRef, Collection<VertexRef> vertexRefs, Criteria[] criteria) {
        List<Vertex> vertices = new CollapsibleGraph(graph).getVertices(collapsibleRef, criteria);
        for(Vertex vertex : vertices) {
            if(!isCollapsible(vertex)) {
                if (!vertexRefs.contains(vertex)) {
                    vertexRefs.add(vertex);
                }
            } else {
                addChildrenRecursively(graph, collapsibleRef, vertexRefs, criteria);
            }
        }
    }

