    @Override
    public List<K> getItemIds(int startIndex, int numberOfItems) {
        int endIndex = startIndex + numberOfItems;
        if (endIndex > size()) endIndex = size() - 1;
        List<K> itemIds = new ArrayList<K>();
        for (int i=startIndex; i<endIndex; i++) {
            itemIds.add(getIdByIndex(i));
        }

        // TODO: Hack to remove nulls and remove duplicates. MVR will fix :)
        Set<K> ids = new TreeSet<K>();
        for (K itemId : itemIds) {
            if (itemId == null) {
                continue;
            }
            ids.add(itemId);
        }
        return new ArrayList<K>(ids);
    }

