	@Override
	public void selectionChanged(SelectionContext selectionContext) {
		Collection<Order> oldOrders = m_criteria.getOrders();
		Set<Restriction> restrictions = new HashSet<Restriction>();
		for (VertexRef ref : selectionContext.getSelectedVertexRefs()) {
			if ("nodes".equals(ref.getNamespace())) {
				try {
					restrictions.add(new EqRestriction("node.id", Integer.valueOf(ref.getId())));
				} catch (NumberFormatException e) {
					LoggerFactory.getLogger(this.getClass()).warn("Cannot filter nodes with ID: {}", ref.getId());
				}
			}
		}

		m_criteria = new Criteria(getItemClass());
		m_criteria.setAliases(Arrays.asList(new Alias[] {
			new Alias("node", "node", JoinType.LEFT_JOIN)
		}));
		if (restrictions.size() > 0) {
			AnyRestriction any = new AnyRestriction(restrictions.toArray(new Restriction[0]));
			m_criteria.addRestriction(any);
		}
		m_criteria.setOrders(oldOrders);
		fireItemSetChangedEvent();
	}

