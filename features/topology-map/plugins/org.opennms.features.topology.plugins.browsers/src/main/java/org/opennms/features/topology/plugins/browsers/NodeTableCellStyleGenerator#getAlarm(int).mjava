    public OnmsAlarm getAlarm(int nodeId) {
        CriteriaBuilder builder = new CriteriaBuilder(OnmsAlarm.class);
        builder.alias("node", "node");
        builder.ne("severity", OnmsSeverity.CLEARED);
        builder.orderBy("severity").desc();
        builder.eq("node.id", nodeId);
        builder.limit(Integer.valueOf(1));
        List<OnmsAlarm> alarms = alarmDao.findMatching(builder.toCriteria());
        return alarms == null || alarms.isEmpty() ? null : alarms.get(0);
    }

