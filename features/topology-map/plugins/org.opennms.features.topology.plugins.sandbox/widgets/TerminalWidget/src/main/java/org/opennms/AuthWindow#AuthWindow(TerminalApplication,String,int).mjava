	/**
	 * This constructor method spawns a window to authorize the
	 * username and password input by the user. If the authroization
	 * is sucessful, the user will be connected to the host at the 
	 * given port through SSH, and the terminal emulator this window
	 * will be replaced by a terminal emulator. 
	 * 
	 * @param app - The current application
	 * @param h - The host name to connect to 
	 * @param p - The port number to connect to
	 */
	public AuthWindow(TerminalApplication app, String h, int p) {
		this.app = app;
		host = h;
		port = p;
		setModal(true);
		setCaption("Login");
		setWidth("260px");
		setHeight("190px");
		int posX = (int)(app.getMainWindow().getWidth() - this.getWidth())/2;
		int posY = (int)(app.getMainWindow().getHeight() - this.getHeight())/2;
		this.setPositionX(posX);
		this.setPositionY(posY);
		setResizable(false);
		final Label usernameLabel = new Label("Username: ");
		final TextField usernameField = new TextField();
		final Label passwordLabel = new Label("Password: ");
		final PasswordField passwordField = new PasswordField();
		final Button loginButton = new Button("Login");
		loginButton.setClickShortcut(KeyCode.ENTER);
		final SshClient client = SshClient.setUpDefaultClient();
		client.start();
		loginButton.addListener(new Button.ClickListener() {
			public void buttonClick(ClickEvent event) {
				String login = (String)usernameField.getValue();
				String password = (String)passwordField.getValue();
				try {
					session = client.connect(host, port).await().getSession();

					int ret = ClientSession.WAIT_AUTH;
					if (session != null){
						while ((ret & ClientSession.WAIT_AUTH) != 0) {
							session.authPassword(login, password);
							ret = session.waitFor(ClientSession.WAIT_AUTH | ClientSession.CLOSED | ClientSession.AUTHED, 0);
						}
						if ((ret & ClientSession.CLOSED) != 0) {
							getApplication().getMainWindow().showNotification("Failed to Login");
							return;
						}
						showSSHWindow();
					} 
				} catch (Exception e) {
					e.printStackTrace();
				}
			}
		});
		GridLayout grid = new GridLayout(2,2);
		grid.addComponent(usernameLabel);
		grid.addComponent(usernameField);
		grid.addComponent(passwordLabel);
		grid.addComponent(passwordField);
		grid.setSpacing(true);
		grid.setMargin(false, false, true, false);
		VerticalLayout layout = new VerticalLayout();
		layout.addComponent(grid);
		layout.addComponent(loginButton);
		layout.setComponentAlignment(loginButton, Alignment.BOTTOM_RIGHT);
		addComponent(layout);
	}

