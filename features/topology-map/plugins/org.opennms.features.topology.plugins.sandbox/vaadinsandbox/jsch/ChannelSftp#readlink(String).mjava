   public String readlink(String path) throws SftpException{
     try{
       if(server_version<3){
         throw new SftpException(SSH_FX_OP_UNSUPPORTED, 
                                 "The remote sshd is too old to support symlink operation.");
       }

       ((MyPipedInputStream)io_in).updateReadSide();

       path=remoteAbsolutePath(path);

       path=isUnique(path);

       sendREADLINK(Util.str2byte(path, fEncoding));

       Header header=new Header();
       header=header(buf, header);
       int length=header.length;
       int type=header.type;

       fill(buf, length);

       if(type!=SSH_FXP_STATUS && type!=SSH_FXP_NAME){
         throw new SftpException(SSH_FX_FAILURE, "");
       }
       if(type==SSH_FXP_NAME){
         int count=buf.getInt();       // count
         byte[] filename=null;
         for(int i=0; i<count; i++){
           filename=buf.getString();
           if(server_version<=3){
             byte[] longname=buf.getString();
           }
           SftpATTRS.getATTR(buf);
         }
         return Util.byte2str(filename, fEncoding);
       }

       int i=buf.getInt();
       throwStatusError(buf, i);
     }
     catch(Exception e){
       if(e instanceof SftpException) throw (SftpException)e;
       if(e instanceof Throwable)
         throw new SftpException(SSH_FX_FAILURE, "", (Throwable)e);
       throw new SftpException(SSH_FX_FAILURE, "");
     }
     return null;
   }

