  public void drawBytes(byte[] buf, int s, int len, int x, int y){
//System.out.println("drawBytes: s="+s+",x="+x+",y="+y+" "+new String(buf, s, len));
if(s>0){
  byte[] foo=new byte[len];
  System.arraycopy(buf, s, foo, 0, len);
  s=0;
  buf=foo;
}
if(len!=buf.length){
  byte[] foo=new byte[len];
  System.arraycopy(buf, 0, foo, 0, len);
  buf=foo;
}

//System.out.print  ("drawBytes: ");
//for(int i=s; i<s+len; i++){
//System.out.print(Integer.toHexString(buf[i]&0xff)+":");
//}
//System.out.println("");

    graphics.setColor(bground);
    clear_area(x, y, x+len*char_width, y+char_height);
    graphics.setColor(fground);

//synchronized(graphics){
    graphics.drawBytes(buf, s, len, x, y-(descent+line_space));
//}
//getGraphics().drawBytes(buf, s, len, x, y-(descent+line_space));
  }

