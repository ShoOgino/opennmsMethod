    public void write(byte[] buf, int s, int len) throws IOException {
      byte[] _buf = buf;
      int _len = len;
      if(s != 0){
        _buf = new byte[len];
        System.arraycopy(buf, s, _buf, 0, len);
      }
      CLibrary.INSTANCE.write(sock, _buf, len);
    }

