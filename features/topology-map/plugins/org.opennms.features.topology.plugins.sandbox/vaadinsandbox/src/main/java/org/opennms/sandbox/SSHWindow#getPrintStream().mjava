    public static PrintStream getPrintStream() {
        if (m_printStream == null) {
            m_printStream = new PrintStream(new OutputStream() {

                ByteArrayOutputStream buffer = new ByteArrayOutputStream();

                @Override
                public synchronized void write(byte[] b, int off, int len) throws IOException {

                    super.write(b, off, len);
                    synchronized(m_console) {
                        m_console.notifyAll();
                    }
                }

                public synchronized void write(final int b) throws IOException {
                    buffer.write(b);
                    // Line buffering
                    if (13 == b) {
                        flush();
                    }
                }

                @Override
                public synchronized void flush() throws IOException {
                    String line = buffer.toString();
                    super.flush();
                    buffer.flush();
                    if (line.contains(username +"@" )){
                        m_console.setPs(line);

                    }else{
                        if(!line.contains(m_line)){
                            m_console.print(line);
                        }
                    }
                    buffer = new ByteArrayOutputStream();
                }
            }, true);
        }
        return m_printStream;
    }

