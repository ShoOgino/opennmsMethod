  public void openFrame(int mode, String configNname){
    final JCTermSwing term = new JCTermSwing();
    JCTermSwingFrame jctermsf=new JCTermSwingFrame();
    final MyFrame frame = new MyFrame(jctermsf);

    frame.setTitle("JCTerm");
    frame.setIconifiable(true);

    frame.getContentPane().add("Center", term);

    jctermsf.setCloseOnExit(true);
    jctermsf.setTerm(term);
    jctermsf.setFrame(frame);

    frame.setJMenuBar(jctermsf.getJMenuBar());

    frame.pack();

    desktop.add(frame);

    ComponentAdapter l = new ComponentAdapter(){
      public void componentResized(ComponentEvent e){
        Component c = e.getComponent();
        Container cp = ((JInternalFrame)c).getContentPane();
        int cw=c.getWidth();
        int ch=c.getHeight();
        int cwm=c.getWidth()-cp.getWidth();
        int chm=c.getHeight()-cp.getHeight();
        cw-=cwm;
        ch-=chm;
        term.setSize(cw, ch);
      }
    };
    frame.addComponentListener(l);
    addKeyListener(term);

    term.setVisible(true);
    frame.setVisible(true);

    frame.setResizable(true);
    frame.setMaximizable(true);

    jctermsf.applyConfig(configName);

    frame.setLocation((getWidth()-frame.getWidth())/2,
                      (getHeight()-frame.getHeight())/2);

    jctermsf.openSession();
  }

