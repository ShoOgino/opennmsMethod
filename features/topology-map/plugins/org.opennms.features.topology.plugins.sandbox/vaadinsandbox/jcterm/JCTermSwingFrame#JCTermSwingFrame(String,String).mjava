  public JCTermSwingFrame(String name, String configName){
    super(name);
    this.configName = configName;

    setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);
    enableEvents(AWTEvent.KEY_EVENT_MASK);
    addWindowListener(new WindowAdapter(){
      public void windowClosing(WindowEvent e){
        System.exit(0);
      }
    });

    JMenuBar mb=getJMenuBar();
    setJMenuBar(mb);

    term=new JCTermSwing();
    getContentPane().add("Center", term);
    pack();
    term.setVisible(true);

    ComponentAdapter l = new ComponentAdapter(){
      public void componentResized(ComponentEvent e){
        Component c=e.getComponent();
        Container cp = ((JFrame)c).getContentPane();
        int cw=c.getWidth();
        int ch=c.getHeight();
        int cwm=c.getWidth()-cp.getWidth();
        int chm=c.getHeight()-cp.getHeight();
        cw-=cwm;
        ch-=chm;
        JCTermSwingFrame.this.term.setSize(cw, ch);
      }
    };
    addComponentListener(l);

    applyConfig(configName);

    openSession();
  }

