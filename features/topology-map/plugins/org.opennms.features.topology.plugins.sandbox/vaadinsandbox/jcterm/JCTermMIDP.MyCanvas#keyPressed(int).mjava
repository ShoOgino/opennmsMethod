    public void keyPressed(int keyCode){
//      System.out.println("keyCode: "+keyCode);
      byte[] input=null;
      keyCode=getGameAction(keyCode);
//      System.out.println("keyCode: "+keyCode);
      switch(keyCode){
      case FIRE:  // SELECT
	input=emulator.getCodeENTER();
	break;
      case UP:
	input=emulator.getCodeUP();
	break;
      case DOWN:
	input=emulator.getCodeDOWN();
	break;
      case RIGHT:
	input=new byte[1];
	input[0]=3;                         // ^C
	break;
      case LEFT:
	input=new byte[1];     
	input[0]=8;                         // back space, ^H
	break;
      default:
      }
      if(input!=null){
	try{
	  out.write(input, 0, input.length);
	  out.flush();
	}
	catch(Exception e){
	}
      }
    }

