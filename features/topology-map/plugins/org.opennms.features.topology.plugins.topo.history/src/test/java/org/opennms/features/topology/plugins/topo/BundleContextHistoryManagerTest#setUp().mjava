    @Before
    public void setUp() {
        if (new File(DATA_FILE_NAME).exists()) {
            new File(DATA_FILE_NAME).delete();
        }
        
    	bundleContextMock = EasyMock.createNiceMock(BundleContext.class);
    	graphContainerMock = EasyMock.createNiceMock(GraphContainer.class);
        graphMock = EasyMock.createNiceMock(Graph.class);
    	
        displayableVertices = new ArrayList<Vertex>();
        selectedLayout = new DefaultLayout(graphContainerMock);

        historyManager = new BundleContextHistoryManager(bundleContextMock);
        historyManager.onBind(new CircleLayoutOperation());
        historyManager.onBind(new ManualLayoutOperation(null));
        historyManager.onBind(new FRLayoutOperation());
        historyManager.onBind(new SimpleLayoutOperation());
        historyManager.onBind(new ISOMLayoutOperation());
        historyManager.onBind(new SpringLayoutOperation());
        historyManager.onBind(new RealUltimateLayoutOperation());
        historyManager.onBind(new KKLayoutOperation());
        historyManager.onBind(new AutoRefreshToggleOperation());

        setBehaviour(bundleContextMock);
        setBehaviour(graphContainerMock);
        setBehaviour(graphMock);

        EasyMock.replay(graphContainerMock);
        EasyMock.replay(graphMock);
        EasyMock.replay(bundleContextMock);
    }

