    private void setBehaviour(ServiceLocator serviceLocator) {
        Mockito.when(serviceLocator.findServices(SearchProvider.class, null))
               .thenAnswer(invocationOnMock -> Lists.newArrayList(startingProviders.values()));

        Mockito.when(serviceLocator.findServices(MetaTopologyProvider.class, null))
               .thenAnswer(invocationOnMock -> Lists.newArrayList(new SimpleMetaTopologyProvider(graphProviderMock)));
    }

