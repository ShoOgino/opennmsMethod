    @Test
    public void testRemoveAllItemsUpdateCorrectly() {
        TestTopologyProvider topologyProvider = topoProvider();
     
        //Setup the graphcontainer
        SimpleGraphContainer graphContainer = new SimpleGraphContainer();
        graphContainer.setDataSource(topologyProvider);
        graphContainer.setLayoutAlgorithm(new SimpleLayoutAlgorithm());
        graphContainer.setSemanticZoomLevel(0);
        
        TopoGraph graph = new TopoGraph(graphContainer);
        List<TopoVertex> vertices = graph.getVertices();
        
        assertEquals(2, vertices.size());
        assertEquals(2, topologyProvider.getVertexIds().size());
        assertEquals(1, topologyProvider.getEdgeIds().size());
        assertEquals(2, graphContainer.getVertexIds().size());
        assertEquals(1, graphContainer.getEdgeIds().size());
        assertEquals(2, graph.getVertices().size());
        
        topologyProvider.load(null);
        
        assertEquals(2, topologyProvider.getVertexIds().size());
        assertEquals(1, topologyProvider.getEdgeIds().size());
        assertEquals(2, graphContainer.getVertexIds().size());
        assertEquals(1, graphContainer.getEdgeIds().size());
        assertEquals(2, graph.getVertices().size());
        
        
    }

