    private D3TopoLayout<VertexRef, EdgeRef> runD3Layout(int count, Graph g, Layout graphLayout, List<Vertex> vertices) throws IOException {
        D3TopoLayout<VertexRef, EdgeRef> layout = new D3TopoLayout<>(createJungGraph(g));
        Dimension size = selectLayoutSize(m_graphContainer);

        layout.setInitializer(initializer(graphLayout, size));
        layout.setSize(size);
        
        try (PrintWriter out = new PrintWriter(new FileWriter("target/data"+count+".js"))) {
            out.println("var gCenter = { x: " + size.getWidth()/2.0 + ", y: " + size.getHeight()/2.0 + "};");
            out.println("var data = [");
            while (!layout.done()) {
                out.println("[");

                for (int i = 0; i < vertices.size(); i++) {
                    Vertex v = vertices.get(i);
                    if (i + 1 == vertices.size()) {
                        out.println("{ x:" + layout.getX(v) + ", y:" + layout.getY(v) + " }");
                    } else {
                        out.println("{ x:" + layout.getX(v) + ", y:" + layout.getY(v) + " },");
                    }
                }

                layout.step();
                out.println("],");
            }
            out.println("];");
            LOG.info("/******** D3Layout Run **********/");
        }

        for (Vertex v : vertices) {
            graphLayout.setLocation(v, new Point(layout.getX(v) - size.getWidth()/2.0, layout.getY(v) - size.getHeight()/2.0));
            LOG.info("layout.getX(): " + layout.getX(v) + " layout.getY(): " + layout.getY(v));
        }
        LOG.info("/******** End D3Layout Run **********/");
        return layout;
    }

