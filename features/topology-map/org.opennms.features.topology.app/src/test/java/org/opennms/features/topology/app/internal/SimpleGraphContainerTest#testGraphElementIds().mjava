    @Test
    public void testGraphElementIds() {
        TestTopologyProvider topologyProvider = topoProvider();

        Object toprEdgeId = topologyProvider.getEdgeIds().iterator().next();
        
        TestEdge testEdge = (TestEdge) topologyProvider.getEdgeContainer().getItem(toprEdgeId).getBean();
        TestVertex sourceTestVertex = testEdge.getSource();
        TestVertex targetTestVertex = testEdge.getTarget();
        
        
        SimpleGraphContainer graphContainer = new SimpleGraphContainer();
        graphContainer.setDataSource(topologyProvider);
        Graph graph = new Graph(graphContainer);
        
        Vertex sourceVertex = findVertexWithToprId(graph, graphContainer, sourceTestVertex.getId());
        Vertex targetVertex = findVertexWithToprId(graph, graphContainer, targetTestVertex.getId());
        
        Edge edge = findEdgeWithToprId(graph, graphContainer, testEdge.getId());
        
        assertNotNull(edge);
        assertNotNull(edge.getSource());
        assertNotNull(edge.getTarget());
        assertEquals(sourceVertex.getItemId(), edge.getSource().getItemId());
        assertEquals(targetVertex.getItemId(), edge.getTarget().getItemId());
        assertEquals(sourceVertex.getKey(), edge.getSource().getKey());
        assertEquals(targetVertex.getKey(), edge.getTarget().getKey());
        
        
        Object groupId = topologyProvider.addGroup("iconGroup.png");
        topologyProvider.setParent(sourceTestVertex.getId(), groupId);
        topologyProvider.setParent(targetTestVertex.getId(), groupId);
        
        // Need to call graph.update since the topology component is not here to do it
        graph.update();
        graph.update();
        graph.update();
        
        System.err.printf("Vertices: %s\n", graph.getVertices());
        System.err.printf("Edges: %s\n", graph.getEdges());
        
        
        sourceVertex = findVertexWithToprId(graph, graphContainer, sourceTestVertex.getId());
        targetVertex = findVertexWithToprId(graph, graphContainer, targetTestVertex.getId());
        
        edge = findEdgeWithToprId(graph, graphContainer, testEdge.getId());
     
        assertEquals(sourceVertex.getItemId(), edge.getSource().getItemId());
        assertEquals(targetVertex.getItemId(), edge.getTarget().getItemId());
        assertEquals(sourceVertex.getKey(), edge.getSource().getKey());
        assertEquals(targetVertex.getKey(), edge.getTarget().getKey());
        
    }

