	private Handler<GWTVertex> vertexDragEndHandler() {
		return new Handler<GWTVertex>() {

			public void call(GWTVertex vertex, int index) {
			    
			    final List<String> values = new ArrayList<String>();
			    final String[] vertexIds = m_dragObject.getDraggedVertices();
			    D3.d3().selectAll(GWTVertex.VERTEX_CLASS_NAME).each(new Handler<GWTVertex>() {

                    @Override
                    public void call(GWTVertex vertex, int index) {
                        for(String id : vertexIds) {
                            if(vertex.getId().equals(id)) {
                                values.add("id," + vertex.getId() + "|x," + vertex.getX() + "|y," + vertex.getY() + "|selected,"+ vertex.isSelected());
                            }
                        }
                    }
                });
			    
			    m_client.updateVariable(getPaintableId(), "updateVertices", values.toArray(new String[] {}), true);
			    
				D3.getEvent().preventDefault();
				D3.getEvent().stopPropagation();
			}

		};
	}

