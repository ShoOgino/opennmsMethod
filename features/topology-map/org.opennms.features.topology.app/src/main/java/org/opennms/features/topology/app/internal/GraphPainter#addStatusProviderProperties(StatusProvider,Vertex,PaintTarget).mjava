    private void addStatusProviderProperties(StatusProvider statusProvider, Vertex vertex, PaintTarget target) throws PaintException {
        if (statusProvider.getStatusForVertex(vertex) == null) return;
        Map<String, String> statusProps = statusProvider.getStatusForVertex(vertex).getStatusProperties();
        if (statusProps == null) return;
        for(String key : statusProps.keySet()) {
            target.addAttribute(key, statusProps.get(key));
        }
    }

