	private void addItems(ItemAddBehaviour<com.vaadin.contextmenu.MenuItem> behaviour, MenuBar.MenuItem child) {
		com.vaadin.contextmenu.MenuItem contextMenuItem = behaviour.addItem();
		contextMenuItem.setEnabled(child.isEnabled());
		if (child.isSeparator()) {
			contextMenuItem.addSeparator();
		}
		if (child.getCommand() != null) {
			contextMenuItem.setCommand((Command) contextMenuItemClickEvent -> child.getCommand().menuSelected(child));
		}
		if (child.hasChildren()) {
			for (MenuBar.MenuItem eachChild : child.getChildren()) {
				addItems(() ->
						contextMenuItem.addItem(
								eachChild.getText(),
								eachChild.getIcon(),
								(Command) selectedItem -> {
									if (eachChild.getCommand() != null) {
										eachChild.getCommand().menuSelected(eachChild);
									}
								}), eachChild);
			}
		}
	}

