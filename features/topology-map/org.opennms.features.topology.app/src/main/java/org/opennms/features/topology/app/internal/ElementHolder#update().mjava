	public void update() {
		List<Object> oldItemIds = m_itemIds;
		List<Object> newItemIds = new ArrayList<Object>(m_itemContainer.getItemIds());
		m_itemIds = newItemIds;
		
		Set<Object> newContainerItems = new LinkedHashSet<Object>(newItemIds);
		newContainerItems.removeAll(oldItemIds);
		
		Set<Object> removedContainerItems = new LinkedHashSet<Object>(oldItemIds);
		removedContainerItems.removeAll(newItemIds);
		
		m_graphElements = new ArrayList<T>(newItemIds.size());
		
		for(Object itemId : removedContainerItems) {
			String key = m_elementKey2ItemId.key(itemId);
			m_elementKey2ItemId.remove(itemId);
			T element = m_keyToElementMap.remove(key);
			remove(element);
		}
		
		for(T element : m_keyToElementMap.values()) {
			m_graphElements.add(update(element));
		}
		
		
		for(Object itemId : newContainerItems) {
		    String key = m_elementKey2ItemId.key(itemId);
		    
		    Item item = m_itemContainer.getItem(itemId);
            T v = make(key, itemId, item);
            // System.err.println("make v: " + v);
		    m_graphElements.add(v);
		    // System.err.println("Added v: " + v + " to m_graphElements: " + m_graphElements);
		    m_keyToElementMap.put(key, v);
		}
	}

