    @Override
    public void visitGraph(Graph graph) throws PaintException {
        m_focusVertices.clear();
        Criteria[] criterias = m_graphContainer.getCriteria();
        for(Criteria criteria : criterias){
            try{
                VertexHopCriteria c = (VertexHopCriteria) criteria;
                m_focusVertices.addAll(c.getVertices());
            }catch(ClassCastException e){}
        }

        if (m_statusProvider != null) {
			if (m_statusProvider.contributesTo(m_graphContainer.getBaseTopology().getVertexNamespace())) {
				Map<VertexRef, Status> newStatusMap = m_statusProvider.getStatusForVertices(m_graphContainer.getBaseTopology(), new ArrayList<>(graph.getDisplayVertices()), m_graphContainer.getCriteria());
				if (newStatusMap != null) {
					m_statusMap.clear();
					m_statusMap.putAll(newStatusMap);
				}
			}
        }

        if(m_graphContainer.getEdgeStatusProvider() != null) {
			EdgeStatusProvider edgeStatusProvider = m_graphContainer.getEdgeStatusProvider();
			if (edgeStatusProvider.contributesTo(m_graphContainer.getBaseTopology().getEdgeNamespace())) {
				Map<EdgeRef, Status> newStatusForEdges = edgeStatusProvider.getStatusForEdges(m_graphContainer.getBaseTopology(),
						new ArrayList<>(graph.getDisplayEdges()),
						m_graphContainer.getCriteria());
				m_edgeStatusMap.clear();
				m_edgeStatusMap.putAll(newStatusForEdges);
            }
        }
    }

