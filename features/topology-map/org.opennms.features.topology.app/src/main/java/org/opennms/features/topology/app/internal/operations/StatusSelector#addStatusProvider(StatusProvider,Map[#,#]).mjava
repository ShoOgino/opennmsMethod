    public synchronized void addStatusProvider(StatusProvider statusProvider, Map<?,?> metaData) {

        LoggerFactory.getLogger(getClass()).debug("Adding status provider: " + statusProvider);

        StatusSelectorOperation operation = new StatusSelectorOperation(statusProvider, metaData);
        m_operations.put(statusProvider, operation);

        Dictionary<String, String> properties = new Hashtable<String, String>();
        properties.put("operation.menuLocation", "View");
        properties.put("operation.label", operation.getLabel()+"?group=status");

        ServiceRegistration<CheckedOperation> reg = m_bundleContext.registerService(CheckedOperation.class, operation, properties);

        m_registrations.put(statusProvider, reg);
    }

