	void paint(PaintTarget target, IconRepositoryManager iconRepoManager) throws PaintException {
		
		target.startTag("graph");
		
		// first paint vertices and groups
		for (TopoVertex vertex : getVertices()) {
	    	vertex.paint(target, iconRepoManager);
	    }

		// then edges
	    for(TopoEdge edge : getEdges()) {
	    	edge.paint(target);
	    }
	    
	    // set up the parent relationships last so the vertices can all be referenced on client
	    for (TopoVertex vertex : getVertices()) {
	    	vertex.paintParent(target);
	    }
	    
	    target.endTag("graph");
	}

