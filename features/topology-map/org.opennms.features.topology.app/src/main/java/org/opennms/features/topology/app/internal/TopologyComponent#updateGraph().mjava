	public void updateGraph() {
	    BoundingBox boundingBox = getBoundingBox();
	    getState().setBoundX(boundingBox.getX());
	    getState().setBoundY(boundingBox.getY());
	    getState().setBoundWidth(boundingBox.getWidth());
	    getState().setBoundHeight(boundingBox.getHeight());
	    getState().setActiveTool(m_activeTool);
	    
	    Graph graph = getGraph();
		//Set Status provider from the graph container because I may move it later
	    GraphVisitor painter = new GraphPainter(m_graphContainer, graph.getLayout(), m_iconRepoManager, m_graphContainer.getStatusProvider(), getState());
	    try {
            graph.visit(painter);
        } catch (Exception e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
	}

