	@Override
	public Set<VertexRef> getVertices() {
		
		CriteriaBuilder bldr = new CriteriaBuilder(OnmsNode.class);		
		bldr = new CriteriaBuilder(OnmsNode.class);
		
		//for some reason, this doesn't work
		//bldr.createAlias("ipInterfaces", "iface").createAlias("iface.ipAddress", "ipaddr").eq("ipaddr", m_ipaddr).distinct();
		bldr.createAlias("ipInterfaces", "iface").eq("iface.ipAddress", m_ipaddr).distinct();
		List<OnmsNode> nodes = m_nodeDao.findMatching(bldr.toCriteria());
		
		Set<VertexRef> vertices = new TreeSet<VertexRef>(new RefComparator());
		for (OnmsNode node : nodes) {
			vertices.add(new DefaultVertexRef("nodes", String.valueOf(node.getId()), node.getLabel()));
		}
		
		return vertices;
	}

