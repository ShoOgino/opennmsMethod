	@Override
	public void updateMenu() {
        if(m_menuBar != null) {
            m_rootLayout.removeComponent(m_menuBar);
        }
        if(m_contextMenu != null) {
            m_contextMenu.detach();
        }

        final DefaultOperationContext operationContext = new DefaultOperationContext(this, getGraphContainer(), DisplayLocation.MENUBAR);
        m_menuBar = m_menuManager.getMenuBar(new ArrayList<>(getGraphContainer().getSelectionManager().getSelectedVertexRefs()), operationContext);
        m_menuBar.setWidth(100, Unit.PERCENTAGE);
        // Set expand ratio so that extra space is not allocated to this vertical component
        if (m_showHeader) {
            m_rootLayout.addComponent(m_menuBar, 1);
        } else {
            m_rootLayout.addComponent(m_menuBar, 0);
        }
	}

