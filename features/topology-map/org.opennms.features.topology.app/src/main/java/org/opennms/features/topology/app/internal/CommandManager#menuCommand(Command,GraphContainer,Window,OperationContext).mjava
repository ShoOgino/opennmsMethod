	public MenuBar.Command menuCommand(final Command command,
			final GraphContainer graphContainer, final Window mainWindow,
			final OperationContext operationContext) {

		return new MenuBar.Command() {

			public void menuSelected(MenuItem selectedItem) {
				List<Object> targets = new ArrayList<Object>(graphContainer.getSelectionManager().getSelectedVertices());

				DefaultOperationContext context = (DefaultOperationContext) operationContext;
				context.setChecked(selectedItem.isChecked());

				command.doCommand(targets, operationContext);
				m_commandHistoryList.add(command);
				updateMenuItemListeners();
			}
		};
	}

