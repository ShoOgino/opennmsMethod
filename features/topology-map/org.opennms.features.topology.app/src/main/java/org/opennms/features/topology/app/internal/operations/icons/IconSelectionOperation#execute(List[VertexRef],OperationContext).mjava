    @Override
    public void execute(List<VertexRef> targets, OperationContext operationContext) {
        final AbstractVertex vertex = (AbstractVertex) targets.get(0);
        final String selectedIconId = operationContext.getGraphContainer().getIconManager().getSVGIconId(vertex.getIconKey());

        new IconSelectionDialog(selectedIconId)
                .withOkAction(iconWindow -> {
                    final IconManager iconManager = operationContext.getGraphContainer().getIconManager();
                    final String oldIconId = iconManager.getSVGIconId(vertex.getIconKey());
                    final String newIconId = iconWindow.getSelectedIcon();

                    // We look for a IconRepository with the old icon key as mapping
                    IconRepository iconRepository = iconManager.findRepositoryByIconKey(vertex.getIconKey());
                    if (iconRepository != null && !oldIconId.equals(newIconId)) {
                        // now we set the new mapping: vertex-id => icon-id
                        iconRepository.addIconMapping(vertex.getId(), newIconId);
                        iconRepository.save();

                        // We have to update the icon key, otherwise the icon is not updated (redoLayout has no effect)
                        vertex.setIconKey(vertex.getId());

                        // Redo the layout to apply new icon
                        operationContext.getGraphContainer().setDirty(true);
                        operationContext.getGraphContainer().redoLayout();
                    }
                })
                .open();
    }

