	private void drawGraph(GWTGraph g, boolean now) {

		if(now) {  
			m_graphDrawerNoTransition.updateGraph(g);
		}else {
			m_graphDrawer.updateGraph(g);
		}

		//TODO: working here
		SVGRect bbox = getSVGElement().getBBox();
		SVGGElement map = m_svgViewPort.cast();
		SVGRect mapBbox = map.getBBox();
		double referenceScale = 0.4;
		int x = bbox.getX();
		int y = bbox.getY();
		int width = (int) (mapBbox.getWidth() * referenceScale);
		int height = (int) (mapBbox.getHeight() * referenceScale);

		int viewPortWidth = (int) (m_svg.getOffsetWidth() * referenceScale);
		int viewPortHeight = (int) (m_svg.getOffsetHeight() * referenceScale);

		//m_referenceMapViewport.setAttribute("width", "" + viewPortWidth);
		//m_referenceMapViewport.setAttribute("height", "" + viewPortHeight);

		//m_referenceMap.setAttribute("transform", "translate(" + (m_svg.getOffsetWidth() - width) + " " + (m_svg.getOffsetHeight() - height) + ")");


		//TODO: Fix this calc

		//m_scaledMap.setAttribute("viewBox", x + " " + y + " " + mapBbox.getWidth() + " " + mapBbox.getHeight());


	}

