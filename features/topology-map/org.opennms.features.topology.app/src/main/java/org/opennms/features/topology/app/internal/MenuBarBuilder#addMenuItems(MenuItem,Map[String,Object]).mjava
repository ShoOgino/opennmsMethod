    @SuppressWarnings("unchecked")
	private void addMenuItems(MenuItem subMenu, Map<String, Object> value) {
        
        Set<Entry<String, Object>> sortedEntrySet = getSortedSubmenuGroup(subMenu.getText(), value);
        for(Entry<String, Object> entry : sortedEntrySet) {
            String commandKey = entry.getKey();
            if(entry.getValue() instanceof Map) {
                MenuBar.MenuItem subMenuItem = subMenu.addItem(commandKey, null);
                addMenuItems(subMenuItem, (Map<String, Object>) entry.getValue());
            }else {
                if(commandKey.equals("separator")) {
                    subMenu.addSeparator();
                }else {
                    
                    Map<String, String> props = getLabelProperties(commandKey);
                    MenuBar.MenuItem menuItem = subMenu.addItem(removeLabelProperties(commandKey), (Command) entry.getValue());
                    if(props.containsKey("checked") ) {
                        menuItem.setCheckable(true);
                        if(props.get("checked").toLowerCase().equals("true")) {
                            menuItem.setChecked(true);
                        }else {
                            menuItem.setChecked(false);
                        }
                    }
                    
                }
            }
            
        }
    }

