	private static void updateContextMenuItem(Object target, TopoContextMenuItem contextItem, GraphContainer graphContainer, UI mainWindow) {
		DefaultOperationContext operationContext = new DefaultOperationContext(mainWindow, graphContainer, DisplayLocation.CONTEXTMENU);

		ContextMenuItem ctxMenuItem = contextItem.getItem();
		Operation operation = contextItem.getOperation();

		List<VertexRef> targets = asVertexList(target);

		// TODO: Figure out how to do this in the new contextmenu
		//ctxMenuItem.setVisible(operation.display(targets, operationContext));

		try {
			ctxMenuItem.setEnabled(operation.enabled(targets, operationContext));
		} catch (final RuntimeException e) {
			LoggerFactory.getLogger(TopoContextMenu.class).warn("updateContextMenuItem: operation failed", e);
		}
	}

