    @Override
    public SVGMatrix calculateNewTransform(GWTBoundingBox bounds) {
        SVGElement svg = getSVGElement().cast();
        final int svgWidth = svg.getParentElement().getOffsetWidth(); 
        final int svgHeight = svg.getParentElement().getOffsetHeight();
        
        final double scale = Math.min(svgWidth/((double)bounds.getWidth() + 100), svgHeight/((double)bounds.getHeight() + 100));
        double translateX = bounds.getX();
        double translateY = bounds.getY();
        
        SVGMatrix transform = svg.createSVGMatrix()
                    .scale(scale)
                    .translate(translateX, translateY);
                   
        return transform;
    }

