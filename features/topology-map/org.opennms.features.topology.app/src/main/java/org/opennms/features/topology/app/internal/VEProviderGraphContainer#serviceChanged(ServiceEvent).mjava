    @Override
    public void serviceChanged(ServiceEvent event) {
        Object service = m_bundleContext.getService(event.getServiceReference());
        Class<?> serviceClass = service.getClass();
        ServiceChangedEventHandler serviceChangedEventHandler = serviceChangedEventHandlers.get(serviceClass);
        if (serviceChangedEventHandler != null) {
            switch (event.getType()) {
                case ServiceEvent.REGISTERED:
                    serviceChangedEventHandler.doRegistration(service);
                    break;
                case ServiceEvent.UNREGISTERING:
                    serviceChangedEventHandler.doUnregistration(service);
                    break;
            }
        }
    }

