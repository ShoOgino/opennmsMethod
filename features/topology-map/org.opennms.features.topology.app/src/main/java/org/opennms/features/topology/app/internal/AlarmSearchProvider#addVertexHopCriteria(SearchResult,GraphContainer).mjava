    /**
     * Creates a criteria that provides <VertexRefs> matching the Alarm query from the users query
     * stored in the <SearchResult> that was created by this class during the query method.  The SearchResult 
     * and the Criterion use the AlarmID as the ID for dereferencing in the container.
     */
	@Override
	public void addVertexHopCriteria(SearchResult searchResult, GraphContainer container) {
        LOG.debug("SearchProvider.addVertexHopCriteria: called with search result: '{}'", searchResult);
        
        AlarmSearchResult aResult = new AlarmSearchResult(searchResult);
        
        String id = searchResult.getId();
        String query = searchResult.getQuery();
        
        if (!OnmsSeverity.get(query).equals(OnmsSeverity.INDETERMINATE)) {
            aResult.setSeverityQuery(true);
        } else {
            aResult.setAlarmId(Integer.valueOf(id.substring(id.indexOf(':')+1)));
            aResult.setNodeId(Integer.valueOf(id.substring(0, id.indexOf(':'))));
            aResult.setSeverityQuery(false);
        }
        
        container.addCriteria(m_alarmHopFactory.createCriteria(aResult));
        
        LOG.debug("SearchProvider.addVertexHop: adding hop criteria {}.", m_alarmHopFactory.createCriteria(aResult));
	}

