    private Component createMapLayout() {
        // Topology (Map) Component
        m_topologyComponent = new TopologyComponent(m_graphContainer, m_iconRepositoryManager, this);
        m_topologyComponent.setSizeFull();
        m_topologyComponent.addMenuItemStateListener(this);
        m_topologyComponent.addVertexUpdateListener(this);

        // Search Box
        m_searchBox = new SearchBox(m_serviceManager, new CommandManager.DefaultOperationContext(this, m_graphContainer, OperationContext.DisplayLocation.SEARCH));

        // Info Panel
        m_infoPanel = new InfoPanel(m_searchBox);

        // Toolbar
        Component toolbar = createToolbar();

        // Map Layout (we need to wrap it in an absolute layout otherwise it shows up twice on the topology map)
        AbsoluteLayout mapLayout = new AbsoluteLayout();
        mapLayout.addComponent(m_topologyComponent, "top:0px; left: 0px; right: 0px; bottom: 0px;");
        mapLayout.setSizeFull();

        HorizontalLayout layout = new HorizontalLayout();
        layout.addStyleName("map-layout");
        layout.addComponent(m_infoPanel);
        layout.addComponent(mapLayout);
        layout.addComponent(toolbar);
        layout.setExpandRatio(mapLayout, 1);
        layout.setSizeFull();

        return layout;
    }

