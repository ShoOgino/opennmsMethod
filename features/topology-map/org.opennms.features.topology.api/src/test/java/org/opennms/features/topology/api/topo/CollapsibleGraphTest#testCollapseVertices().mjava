	@Test
	public void testCollapseVertices() {
		final List<Vertex> vertices = collapsibleGraph.getVertices(new Criteria[] { new TestCollapsibleCriteria() });

		// Test vertex that replaces the collapsed vertices
		assertTrue(vertices.contains(new DefaultVertexRef("nodes", TEST_ID)));

		// These vertices should be "collapsed"
		assertFalse(vertices.contains(new DefaultVertexRef("nodes", "g0")));
		assertFalse(vertices.contains(new DefaultVertexRef("nodes", "g1")));
		assertFalse(vertices.contains(new DefaultVertexRef("nodes", "g2")));

		// These vertices remain uncollapsed
		assertTrue(vertices.contains(new DefaultVertexRef("nodes", "v1")));
		assertTrue(vertices.contains(new DefaultVertexRef("nodes", "v2")));
		assertTrue(vertices.contains(new DefaultVertexRef("nodes", "v3")));
		assertTrue(vertices.contains(new DefaultVertexRef("nodes", "v4")));
	}

