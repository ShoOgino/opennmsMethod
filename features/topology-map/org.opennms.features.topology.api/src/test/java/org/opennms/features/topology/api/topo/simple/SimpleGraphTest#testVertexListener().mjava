    @Test
    public void testVertexListener() {
        final SimpleGraph simpleGraph = new SimpleGraph("test");
        final AtomicInteger eventsReceived = new AtomicInteger(0);
        simpleGraph.addVertexListener(new VertexListener() {
            @Override
            public void vertexSetChanged(BackendGraph graph, Collection<? extends Vertex> added, Collection<? extends Vertex> update, Collection<String> removedVertexIds) {
                eventsReceived.incrementAndGet();
            }

            @Override
            public void vertexSetChanged(BackendGraph graph) {
                eventsReceived.incrementAndGet();
            }
        });

        simpleGraph.addVertices(new AbstractVertex(simpleGraph.getNamespace(), "v0"));
        simpleGraph.addVertices(new AbstractVertex(simpleGraph.getNamespace(), "v1"));
        assertEquals(2, eventsReceived.get());
    }

