    public SavedHistory(GraphContainer graphContainer, Collection<HistoryOperation> operations) {
        m_szl = graphContainer.getSemanticZoomLevel();
        m_boundBox = graphContainer.getMapViewManager().getCurrentBoundingBox();
        saveLocations(graphContainer.getGraph());

        HashSet<VertexRef> selectedVertices = new HashSet<VertexRef>();
        selectedVertices.addAll(graphContainer.getSelectionManager().getSelectedVertexRefs());
        m_selectedVertices = Collections.unmodifiableSet(selectedVertices);

        for (HistoryOperation operation : operations) {
            m_settings.putAll(operation.createHistory(graphContainer));
        }
        LoggerFactory.getLogger(this.getClass()).debug("Created " + toString());
    }

