	public static <T extends Criteria> T getSingleCriteriaForGraphContainer(GraphContainer graphContainer, Class<T> criteriaClass, boolean createIfAbsent) {
		Criteria[] criteria = graphContainer.getCriteria();
		if (criteria != null) {
			for (Criteria criterium : criteria) {
				try {
					T hopCriteria = criteriaClass.cast(criterium);
					return hopCriteria;
				} catch (ClassCastException e) {}
			}
		}

		if (createIfAbsent) {
			T hopCriteria;
			try {
				hopCriteria = criteriaClass.newInstance();
			} catch (InstantiationException e) {
				throw new IllegalArgumentException("Cannot create instance of " + criteriaClass.getName() + " with empty constructor", e);
			} catch (IllegalAccessException e) {
				throw new IllegalArgumentException("Cannot create instance of " + criteriaClass.getName() + " with empty constructor", e);
			}
			graphContainer.addCriteria(hopCriteria);
			return hopCriteria;
		} else {
			return null;
		}
	}

