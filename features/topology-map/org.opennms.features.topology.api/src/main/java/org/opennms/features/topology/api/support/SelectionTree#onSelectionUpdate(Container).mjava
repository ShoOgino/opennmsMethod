    @Override
    public void onSelectionUpdate(Container container) {
        m_itemClicked = false;
        Collection<?> itemIds = container.getItemIds();
        
        for(Object itemId : itemIds) {
            Item item = container.getItem(itemId);
            if((Boolean) item.getItemProperty("selected").getValue()) {
                select(itemId);
            } else {
                unselect(itemId);
            }
        }
    }

