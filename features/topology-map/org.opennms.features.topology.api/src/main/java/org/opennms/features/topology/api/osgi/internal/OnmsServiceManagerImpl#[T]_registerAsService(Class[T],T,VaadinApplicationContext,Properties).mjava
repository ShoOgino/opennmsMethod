    @Override
    public <T> void registerAsService(Class<T> clazz, T object, VaadinApplicationContext applicationContext, Properties additionalProperties) {
        if (object == null || clazz == null) return;
        ServiceRegistration serviceRegistration = bundleContext
                .registerService(clazz.getName(), object, (Dictionary) getProperties(applicationContext, additionalProperties));
        serviceRegistrations.put(object, serviceRegistration);
    }

