    @Override
    public Map<String, Object> getRequiredBeans() {
        JdbcDataCollection collection = new JdbcDataCollection();
        collection.setJdbcRrd(new JdbcRrd());
        JdbcDataCollectionConfigDao jdbcCollectionDao = mock(JdbcDataCollectionConfigDao.class, RETURNS_DEEP_STUBS);
        when(jdbcCollectionDao.getDataCollectionByName(COLLECTION)).thenReturn(collection);
        when(jdbcCollectionDao.getConfig().buildRrdRepository(COLLECTION)).thenReturn(new RrdRepository());

        ResourceTypesDao resourceTypesDao = mock(ResourceTypesDao.class);
        return new ImmutableMap.Builder<String, Object>()
                .put("jdbcDataCollectionConfigDao", jdbcCollectionDao)
                .put("resourceTypesDao", resourceTypesDao)
                .build();
    }

