    /**
     * Instantiates a new system definition form.
     *
     * @param dataCollectionConfigDao the OpenNMS Data Collection Configuration DAO
     * @param source the OpenNMS Data Collection Group object
     */
    public SystemDefForm(final DataCollectionConfigDao dataCollectionConfigDao, final DatacollectionGroup source) {
        setCaption("System Definition Detail");
        setWriteThrough(false);
        setVisible(false);

        // Adding all groups already defined on this source
        final List<String> groups = new ArrayList<String>();
        for (Group group : source.getGroupCollection()) {
            groups.add(group.getName());
        }
        // Adding all defined groups
        groups.addAll(dataCollectionConfigDao.getAvailableMibGroups());

        setFormFieldFactory(new SystemDefFieldFactory(groups));
        initToolbar();
    }

