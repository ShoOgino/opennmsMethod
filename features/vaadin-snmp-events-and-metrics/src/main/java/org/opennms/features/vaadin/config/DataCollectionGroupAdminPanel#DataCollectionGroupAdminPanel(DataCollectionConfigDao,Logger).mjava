    /**
     * Instantiates a new data collection group administration panel.
     *
     * @param dataCollectionDao the OpenNMS data collection configuration DAO
     * @param logger the logger
     */
    public DataCollectionGroupAdminPanel(final DataCollectionConfigDao dataCollectionDao, final Logger logger) {
        setCaption("Data Collection Groups");
        final File datacollectionDir = new File(ConfigFileConstants.getFilePathString(), "datacollection");

        final HorizontalLayout toolbar = new HorizontalLayout();
        toolbar.setMargin(true);

        final VerticalLayout self = this;

        final ComboBox dcGroupSource = new ComboBox();
        toolbar.addComponent(dcGroupSource);
        dcGroupSource.setImmediate(true);
        dcGroupSource.setNullSelectionAllowed(false);
        dcGroupSource.setContainerDataSource(new FilesystemContainer(datacollectionDir));
        dcGroupSource.setItemCaptionPropertyId(FilesystemContainer.PROPERTY_NAME);
        dcGroupSource.addListener(new ComboBox.ValueChangeListener() {
            @Override
            public void valueChange(ValueChangeEvent event) {
                final File file = (File) event.getProperty().getValue();
                LogUtils.infof(this, "Loading data collection data from %s", file);
                DatacollectionGroup dcGroup = JaxbUtils.unmarshal(DatacollectionGroup.class, file);
                self.removeComponent(getComponent(1));
                self.addComponent(createDataCollectionGroupPanel(dataCollectionDao, file, dcGroup));
            }
        });

        final Button add = new Button("Add File");
        toolbar.addComponent(add);
        add.addListener(new Button.ClickListener() {
            @Override
            public void buttonClick(ClickEvent event) {
                PromptWindow w = new PromptWindow("New Data Collection Group", "Group Name") {
                    @Override
                    public void textFieldChanged(String fieldValue) {
                        File file = new File(datacollectionDir, fieldValue.replaceAll(" ", "_") + ".xml");
                        LogUtils.infof(this, "Adding new data collection file %s", file);
                        DatacollectionGroup dcGroup = new DatacollectionGroup();
                        dcGroup.setName(fieldValue);
                        self.removeComponent(getComponent(1));
                        self.addComponent(createDataCollectionGroupPanel(dataCollectionDao, file, dcGroup));
                    }
                };
                getApplication().getMainWindow().addWindow(w);
            }
        });

        final Button remove = new Button("Remove File");
        toolbar.addComponent(remove);
        remove.addListener(new Button.ClickListener() {
            @Override
            public void buttonClick(ClickEvent event) {
                getApplication().getMainWindow().showNotification("Not impementet yet!");
            }
        });

        addComponent(toolbar);
        addComponent(new Label(""));
        setComponentAlignment(toolbar, Alignment.MIDDLE_RIGHT);
    }

