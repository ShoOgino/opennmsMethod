    /**
     * Instantiates a new collect field.
     *
     * @param groups the available groups
     */
    public CollectField(List<String> groups) {
        listField.setRows(10);

        for (String group : groups) {
            groupField.addItem(group);
        }

        add = new Button("Add Group", (Button.ClickListener) this);
        delete = new Button("Delete Selected", (Button.ClickListener) this);
        toolbar.addComponent(delete);
        toolbar.addComponent(groupField);
        toolbar.addComponent(add);
        toolbar.setVisible(listField.isReadOnly());

        HorizontalLayout layout = new HorizontalLayout();
        layout.addComponent(listField);
        layout.addComponent(toolbar);
        layout.setComponentAlignment(toolbar, Alignment.BOTTOM_RIGHT);

        setWriteThrough(false);
        setCompositionRoot(layout);
    }

