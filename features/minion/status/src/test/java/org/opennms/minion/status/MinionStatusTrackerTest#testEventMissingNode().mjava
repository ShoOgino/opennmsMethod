    @Test(expected=IllegalStateException.class)
    public void testEventMissingNode() throws Exception {
        final Event e = EventUtils.createNodeGainedServiceEvent(FOREIGN_SOURCE, 1, InetAddressUtils.addr("192.168.0.1"), MINION_HEARTBEAT, null, NodeLabelSource.UNKNOWN, null, null);
        when(m_nodeDao.get(anyInt())).thenReturn(null);
        m_tracker.onNodeGainedService(e);
    }

