    @Test
    public void testHeartBeat() throws Exception {
        JmsQueueNameFactory factory = new JmsQueueNameFactory("Minion", "Heartbeat");
        MockEndpoint heartBeatqueue = getMockEndpoint("mock:queuingservice:" + factory.getName(),
                                                      false);
        heartBeatqueue.setExpectedMessageCount(1);

        assertMockEndpointsSatisfied();
        String minionOutput = heartBeatqueue.getReceivedExchanges().get(0).getIn().getBody(String.class);
        MinionIdentityDTO minion = JaxbUtils.unmarshal(MinionIdentityDTO.class,
                                                       minionOutput);
        assertEquals(MINION_LOCATION, minion.getLocation());
        assertEquals(MINION_ID, minion.getId());
    }

