	public void setCredentials(CmPropertyPlaceholder credentials) throws IOException {
		final Configuration configuration = credentials.getConfigAdmin().getConfiguration(credentials.getPersistentId());
		final Dictionary<String, Object> properties = configuration.getProperties();
		final List<CredentialsDTO> credentialList = new CredentialsParser().parse(properties);
		if (!credentialList.isEmpty()) {
			final BasicCredentialsProvider customCredentialsProvider = new BasicCredentialsProvider();
			clientConfigBuilder.credentialsProvider(customCredentialsProvider);

			credentialList.stream().forEach(c -> customCredentialsProvider.setCredentials(c.getAuthScope(), c.getCredentials()));
		}
	}

