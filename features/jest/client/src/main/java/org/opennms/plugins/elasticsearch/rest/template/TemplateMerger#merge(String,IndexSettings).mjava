    public String merge(final String template, final IndexSettings indexSettings) {
        final JsonElement json = new JsonParser().parse(template);
        if (!json.isJsonObject()) {
            throw new IllegalArgumentException("Provided template is not a valid json object");
        }
        JsonObject object = merge(json.getAsJsonObject(), indexSettings);
        return new Gson().toJson(object);
    }

