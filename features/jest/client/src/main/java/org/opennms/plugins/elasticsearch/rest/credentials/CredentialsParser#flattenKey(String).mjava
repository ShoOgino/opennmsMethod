    // remove http:// or https:// if provided
    private static String flattenKey(String key) {
        if (key.startsWith("http://")) {
            key = key.substring("http://".length());
        }
        if (key.startsWith("https://")) {
            key = key.substring("https://".length());
        }
        return key;
    }

