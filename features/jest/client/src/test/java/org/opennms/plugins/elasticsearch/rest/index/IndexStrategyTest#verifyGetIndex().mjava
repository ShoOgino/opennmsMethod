    @Test
    public void verifyGetIndex() {
        final String[] expectedValues = new String[] { "2018", "2018-03", "2018-03-01", "2018-03-01-18" };

        // Ensure that we actually verify all strategies and don't miss one
        assertEquals(expectedValues.length, IndexStrategy.values().length);

        // Prepare test input
        final Calendar cal = Calendar.getInstance();
        cal.set(Calendar.YEAR, 2018);
        cal.set(Calendar.MONTH, Calendar.MARCH);
        cal.set(Calendar.DAY_OF_MONTH, 1);
        cal.set(Calendar.HOUR_OF_DAY, 18);
        cal.set(Calendar.MINUTE, 0);
        cal.set(Calendar.SECOND, 0);
        cal.set(Calendar.MILLISECOND, 0);
        cal.setTimeZone(TimeZone.getTimeZone("UTC"));

        // Verify each strategy
        final IndexStrategy[] strategies = IndexStrategy.values();
        for (int i=0; i<expectedValues.length; i++) {
            final String actualValue = strategies[i].getIndex("opennms", cal.toInstant());
            final String expectedValue = "opennms-" + expectedValues[i];
            assertEquals(expectedValue, actualValue);
        }
    }

