    @BeforeClass
    public static void setUpMonitor() {
        // Use a real impl for the blobstore and monitor instead of no-op so tests can retrieve results
        ThresholdingSession mockSession = MockSession.getSession();
        InMemoryMapBlobStore blobStore = InMemoryMapBlobStore.withDefaultTicks();
        when(mockSession.getBlobStore()).thenReturn(blobStore);
        ThresholdStateMonitor monitor = new BlobStoreAwareMonitor(mockSession.getBlobStore());
        when(mockSession.getThresholdStateMonitor()).thenReturn(monitor);
    }

