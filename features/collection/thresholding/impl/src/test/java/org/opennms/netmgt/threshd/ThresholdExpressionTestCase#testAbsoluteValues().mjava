    public void testAbsoluteValues() throws Exception {
        expression.setExpression("math.abs(variable + 5)");
        ExpressionConfigWrapper wrapper=new ExpressionConfigWrapper(expression);
        assertEquals(1, wrapper.getRequiredDatasources().size());
        for (String ds : new String[] { "variable" }) {
            assertTrue("Could not find expected variable: " + ds, wrapper.getRequiredDatasources().contains(ds));
        }
        
        Map<String,Double> values=new HashMap<String,Double>();
        values.put("variable", -25.0);
        
        double result = wrapper.interpolateAndEvaluate(values, scope).value;
        assertEquals("Conditional Expression result", Double.valueOf(20.0), result);
        
        values.clear();
        values.put("variable", 25.0);
        
        result = wrapper.interpolateAndEvaluate(values, scope).value;
        assertEquals("Conditional Expression result", Double.valueOf(30.0), result);
    }

