    /*
     * This test uses this files from src/test/resources:
     * It appears to have been added to test for an ERROR message when an invalid thresholding-group exists in threshd-config.
     * - threshd-configuration-bug3487.xml
     * - test-thresholds.xml
     */
    @Test
    public void testBug3487() throws Exception {
        initFactories("/threshd-configuration-bug3487.xml","/test-thresholds.xml");
        assertNotNull(createVisitor());
        // Expecting 1 ERROR message
        MockLogAppender.assertNoFatalOrGreater();
        LoggingEvent[] events = MockLogAppender.getEventsGreaterOrEqual(Level.ERROR);
        assertEquals("expecting 1 event", 1, events.length);
        assertEquals("initialize(nodeId=1,ipAddr=127.0.0.1,svc=SNMP): Can't process threshold group SMS_Dieta", events[0].getMessage());
        // clear before @After is run and logs are tested for error
        MockLogAppender.resetState();
    }

