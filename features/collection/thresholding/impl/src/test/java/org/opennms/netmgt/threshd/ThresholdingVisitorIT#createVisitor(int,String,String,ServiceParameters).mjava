    private ThresholdingVisitor createVisitor(int node, String location, String serviceName, ServiceParameters svcParams) throws ThresholdInitializationException {
        ThresholdingEventProxyImpl eventProxy = new ThresholdingEventProxyImpl();
        eventProxy.setEventMgr(eventMgr);
        ThresholdingSetImpl thresholdingSet = new ThresholdingSetImpl(node, location, serviceName, getRepository(), svcParams, m_resourceStorageDao, eventProxy, MockSession.getSession());
        ThresholdingVisitor visitor = new ThresholdingVisitorImpl(thresholdingSet, m_resourceStorageDao, eventProxy);
        assertNotNull(visitor);
        return visitor;
    }

