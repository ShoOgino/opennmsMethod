    /**
     * Run some arbitrary code while holding the lock to the state monitor. This is used to block reinitialization while
     * the given {@link Runnable code} is running.
     */
    void withReadLock(Runnable r);

