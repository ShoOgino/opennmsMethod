    private CollectionSet generateCollectionSet(CollectionAgent agent, Resource resource) {
        CollectionSetBuilder builder = new CollectionSetBuilder(agent);
        for (int groupId = 0; groupId < numberOfGroupsPerInterface; groupId++) {
            String groupName = "group" + groupId;
            // Number attributes
            for (int attributeId = 0; attributeId < numberOfNumericAttributesPerGroup; attributeId++) {
                // Generate a predictable, non-constant number
                int value = groupId * attributeId + seed++ % 100;
                builder.withNumericAttribute(resource, groupName, "metric" + attributeId, value, AttributeType.GAUGE);
                numericAttributesGenerated.mark();
            }

            // String attributes
            for (int stringAttributeId = 0; stringAttributeId < numberOfStringAttributesPerGroup; stringAttributeId++) {
                // Use constant values for the string attributes
                builder.withStringAttribute(resource, groupName, "tag" + stringAttributeId, "key" + stringAttributeId);
                stringAttributesGenerated.mark();
            }
        }
        return builder.build();
    }

