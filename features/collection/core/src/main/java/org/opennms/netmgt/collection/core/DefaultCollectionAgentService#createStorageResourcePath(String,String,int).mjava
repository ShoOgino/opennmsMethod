    private static ResourcePath createStorageResourcePath(String foreignSource, String foreignId, int nodeId) {
        final ResourcePath dir;
        if(isStoreByForeignSource() && foreignSource != null && foreignId != null) {
            dir = ResourcePath.get(ResourceTypeUtils.FOREIGN_SOURCE_DIRECTORY,
                    foreignSource,
                    foreignId);
        } else {
            dir = ResourcePath.get(String.valueOf(nodeId));
        }
        return dir;
    }

