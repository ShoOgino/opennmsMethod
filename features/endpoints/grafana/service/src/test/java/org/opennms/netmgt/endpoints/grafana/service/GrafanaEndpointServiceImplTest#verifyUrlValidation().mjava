    @Test
    public void verifyUrlValidation() {
        // Ensure null is working
        try {
            endpoint.setUrl(null);
            endpointService.validate(endpoint);
            fail("Expected exception was not thrown");
        } catch (GrafanaEndpointException ex) {
            assertEquals("url", ex.getContext());
            assertEquals(GrafanaEndpointServiceImpl.PROVIDE_A_VALUE_TEXT, ex.getRawMessage());
        }
        // Ensure empty is working
        try {
            endpoint.setUrl("");
            endpointService.validate(endpoint);
            fail("Expected exception was not thrown");
        } catch (GrafanaEndpointException ex) {
            assertEquals("url", ex.getContext());
            assertEquals(GrafanaEndpointServiceImpl.PROVIDE_A_VALUE_TEXT, ex.getRawMessage());
        }

        // Ensure invalid URL is working
        try {
            endpoint.setUrl("xxx");
            endpointService.validate(endpoint);
            fail("Expected exception was not thrown");
        } catch (GrafanaEndpointException ex) {
            assertEquals("url", ex.getContext());
            assertThat(ex.getMessage(), allOf(containsString("provided URL"), containsString("is not valid")));
        }
    }

