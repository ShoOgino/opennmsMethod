    @Test
    public void testGenerateJmxConfigModelUsingMbeanFilter() throws MBeanServerQueryException, IOException, JMException {
        List<String> mbeanIds = new ArrayList<>();
        mbeanIds.add("java.lang:type=GarbageCollector,name=PS MarkSweep");
        mbeanIds.add("java.lang:type=GarbageCollector,name=PS Scavenge");
        JmxDatacollectionConfig jmxConfigModel = jmxConfiggenerator.generateJmxConfigModel(mbeanIds, platformMBeanServer, "testService", true, true, dictionary);
        Assert.assertNotNull(jmxConfigModel);
        LOG.info(prettyPrint(jmxConfigModel));

        Assert.assertEquals(2, jmxConfigModel.getJmxCollection().get(0).getMbeans().getMbean().size());
        for (Mbean eachMbean : jmxConfigModel.getJmxCollection().get(0).getMbeans().getMbean()) {
            Assert.assertEquals(2, eachMbean.getAttrib().size());
            Assert.assertTrue("Objectname was not expected to be returned", mbeanIds.contains(eachMbean.getObjectname()));
        }
    }

