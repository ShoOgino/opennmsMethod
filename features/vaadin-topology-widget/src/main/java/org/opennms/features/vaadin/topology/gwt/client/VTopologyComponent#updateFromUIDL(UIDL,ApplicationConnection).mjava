    public void updateFromUIDL(UIDL uidl, ApplicationConnection client) {
        
        if(client.updateComponent(this, uidl, true)) {
            
            return;
        }
        
        m_client = client;
        m_paintableId = uidl.getId();
        
        setScale(uidl.getDoubleAttribute("scale"));
        UIDL graph = uidl.getChildByTagName("graph");
        Iterator<?> children = graph.getChildIterator();
        
        List<Vertex> vertices = new ArrayList<Vertex>();
        List<Edge> edges = new ArrayList<Edge>();
        Map<Integer, Vertex> idMap = new HashMap<Integer, Vertex>();
        while(children.hasNext()) {
        	UIDL child = (UIDL) children.next();
        	
        	if(child.getTag().equals("vertex")) {
        		
        		Vertex vertex = new Vertex(child.getIntAttribute("id"), child.getIntAttribute("x"), child.getIntAttribute("y"));
				vertices.add(vertex);
        		idMap.put(vertex.getId(), vertex);
        		
        	}else if(child.getTag().equals("edge")) {
        		edges.add(new Edge( idMap.get(child.getIntAttribute("source")), idMap.get( child.getIntAttribute("target")) ));
        	}
        	
        }
        
        Graph graphConverted = new Graph(vertices.toArray(new Vertex[0]), edges.toArray(new Edge[0]));
        setGraph(graphConverted);
        
    }

