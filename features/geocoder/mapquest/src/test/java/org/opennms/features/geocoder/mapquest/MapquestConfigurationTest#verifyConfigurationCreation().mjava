    @Test
    public void verifyConfigurationCreation() {
        final MapquestConfiguration configuration = new MapquestConfiguration();
        configuration.setUseSystemProxy(true);
        configuration.setUrlTemplate("http://mapquest.opennms.org");
        configuration.setApiKey("apiKey");

        final Map<String, Object> properties = configuration.asMap();
        Assert.assertEquals(true, properties.get(MapquestConfiguration.USE_SYSTEM_PROXY_KEY));
        Assert.assertEquals("http://mapquest.opennms.org", properties.get(MapquestConfiguration.URL_KEY));
        Assert.assertEquals("apiKey", properties.get(MapquestConfiguration.API_KEY_KEY));

        final MapquestConfiguration clonedConfiguration = MapquestConfiguration.fromMap(properties);
        Assert.assertEquals(configuration, clonedConfiguration);
    }

