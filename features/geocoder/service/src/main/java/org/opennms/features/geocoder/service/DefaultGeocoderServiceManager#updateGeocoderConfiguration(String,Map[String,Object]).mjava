    @Override
    public void updateGeocoderConfiguration(String geocoderId, Map<String, Object> newProperties) throws IOException, GeocoderConfigurationException {
        final GeocoderService geocoderService = getGeocoderService(geocoderId);
        final GeocoderConfiguration currentConfiguration = geocoderService.getConfiguration();

        // Only update if configuration has not yet changed
        if (!Objects.equals(currentConfiguration.asMap(), newProperties)) {
            geocoderService.validateConfiguration(newProperties);

            // Updating the configuration will result in a bundle reload to which the configuration belongs
            // Please keep in mind, that the config pid of the geocoder must be PID + geocoderId
            final String configPID = configPidFactory.apply(geocoderId);
            final Configuration configuration = configurationAdmin.getConfiguration(configPID, null);
            new ConfigurationWrapper(configuration).update(newProperties);
        }
    }

