    @Test
    public void verifyConfigurationCreation() {
        final NominatimConfiguration configuration = new NominatimConfiguration();
        configuration.setUseSystemProxy(true);
        configuration.setAcceptUsageTerms(true);
        configuration.setUrlTemplate("http://nominatim.opennms.org");
        configuration.setUserAgent("User Agent");
        configuration.setReferer("Referer");
        configuration.setEmailAddress("ulf@opennms.org");

        final Map<String, Object> properties = configuration.asMap();
        Assert.assertEquals(true, properties.get(NominatimConfiguration.USE_SYSTEM_PROXY_KEY));
        Assert.assertEquals(true, properties.get(NominatimConfiguration.ACCEPT_USAGE_TERMS_KEY));
        Assert.assertEquals("http://nominatim.opennms.org", properties.get(NominatimConfiguration.URL_KEY));
        Assert.assertEquals("User Agent", properties.get(NominatimConfiguration.USER_AGENT_KEY));
        Assert.assertEquals("Referer", properties.get(NominatimConfiguration.REFERER_KEY));
        Assert.assertEquals("ulf@opennms.org", properties.get(NominatimConfiguration.EMAIL_KEY));

        final NominatimConfiguration clonedConfiguration = NominatimConfiguration.fromMap(properties);
        Assert.assertEquals(configuration, clonedConfiguration);
    }

