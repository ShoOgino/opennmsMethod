    private void initializeLogging() throws Exception {
        String logFile;
        logFile = System.getProperty("poller.logfile", m_pollerHome + File.separator + "opennms-remote-poller.log");
        File logDirectory = new File(logFile).getParentFile();
        if (!logDirectory.exists()) {
            if (!logDirectory.mkdirs()) {
                throw new IllegalStateException("Could not create parent directory for log file '" + logFile + "'");
            }
        }
        if (Boolean.getBoolean("debug")) {
        	LogUtils.logToConsole();
        } else {
        	LogUtils.logToFile(logFile);
        }
    }

