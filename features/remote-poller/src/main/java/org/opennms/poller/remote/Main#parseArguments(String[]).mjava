    private void parseArguments(String[] args) throws ParseException {
        Options options = new Options();

        options.addOption("h", "help", false, "this help");

        options.addOption("d", "debug", false, "write debug messages to the log");
        options.addOption("g", "gui", false, "start a GUI (default: false)");
        options.addOption("i", "disable-icmp", false, "disable ICMP/ping (overrides -Dorg.opennms.netmgt.icmp.pingerClass=)");
        options.addOption("l", "location", true, "the location name of this remote poller");
        options.addOption("u", "url", true, "the URL for OpenNMS (example: https://server-name/opennms-remoting)");
        options.addOption("n", "name", true, "the name of the user to connect as");
        options.addOption("p", "password", true, "the password to use when connecting");

        CommandLineParser parser = new PosixParser();
        CommandLine cl = parser.parse(options, args);

        if (cl.hasOption("h")) {
            usage(options);
            System.exit(1);
        }

        if (cl.hasOption("d")) {
        }

        if (cl.hasOption("i")) {
            m_disableIcmp = true;
        }

        if (cl.hasOption("l")) {
            m_locationName = cl.getOptionValue("l");
        }
        if (cl.hasOption("u")) {
            String arg = cl.getOptionValue("u").toLowerCase();
            try {
                m_uri = new URI(arg);
            } catch (URISyntaxException e) {
                usage(options);
                e.printStackTrace();
                System.exit(2);
            }
        } else {
            usage(options);
            System.exit(3);
        }

        if (cl.hasOption("g")) {
            m_gui = true;
        }

        if (cl.hasOption("n")) {
            m_username = cl.getOptionValue("n");
            m_password = cl.getOptionValue("p");
            if (m_password == null) {
                m_password = "";
            }
        }

        // If we cannot obtain the username/password from the command line, attempt
        // to optionally get it from system properties
        if (m_username == null) {
            m_username = System.getProperty("opennms.poller.server.username");
            if (m_username != null) {
                m_password = System.getProperty("opennms.poller.server.password");
                if (m_password == null) {
                    m_password = "";
                }
            }
        }
    }

