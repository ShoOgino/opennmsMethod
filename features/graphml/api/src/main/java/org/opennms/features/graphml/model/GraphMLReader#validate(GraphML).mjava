    private static void validate(GraphML graphML) throws InvalidGraphException {
        Set<String> graphIds = new HashSet<>();

        for (GraphMLGraph eachGraph : graphML.getGraphs()) {
            if (graphIds.contains(eachGraph.getId())) {
                throw new InvalidGraphException("There already exists a graph with id " + eachGraph.getId());
            }
            graphIds.add(eachGraph.getId());

            Set<String> nodeIds = new HashSet<>();
            Set<String> edgeIds = new HashSet<>();

            for (GraphMLNode eachNode : eachGraph.getNodes()) {
                if (nodeIds.contains(eachNode.getId())) {
                    throw new InvalidGraphException("There already exists a node with id " + eachNode.getId()
                        + " in graph with id " + eachGraph.getId());
                }
                nodeIds.add(eachNode.getId());
            }
            for (GraphMLEdge eachEdge : eachGraph.getEdges()) {
                if (edgeIds.contains(eachEdge.getId())) {
                    throw new InvalidGraphException("There already exists an edge with id " + eachEdge.getId()
                        + " in graph with id " + eachGraph.getId());
                }
                edgeIds.add(eachEdge.getId());
            }
        }
    }

