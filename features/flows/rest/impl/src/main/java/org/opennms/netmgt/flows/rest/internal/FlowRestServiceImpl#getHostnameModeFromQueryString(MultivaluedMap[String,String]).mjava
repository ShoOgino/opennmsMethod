    private static HostnameMode getHostnameModeFromQueryString(final MultivaluedMap<String, String> queryParams) {
        final String hostname_mode = Strings.nullToEmpty(queryParams.getFirst("hostname_mode")).toLowerCase();
        switch (hostname_mode) {
            case "hide":
                return HostnameMode.HIDE;
            case "append":
                return HostnameMode.APPEND;
            case "replace":
            default:
                return HostnameMode.REPLACE;
        }
    }

