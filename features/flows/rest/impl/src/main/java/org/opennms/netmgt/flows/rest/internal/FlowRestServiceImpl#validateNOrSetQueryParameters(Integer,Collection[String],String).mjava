    private static void validateNOrSetQueryParameters(Integer N, Collection<String> collection, String collectionName) {
        if (N == null && isNullOrEmptyOrContainsNullOrEmpty(collection)) {
            // If neither the top N or the collection are set that is an error
            throw new WebApplicationException(Response.status(Response.Status.BAD_REQUEST).type(MediaType.TEXT_PLAIN)
                    .entity(String.format("One of 'N' or '%s' query parameters must be present", collectionName)).build());
        } else if (N != null && !isNullOrEmptyOrContainsNullOrEmpty(collection)) {
            // If both are set that is also an error
            throw new WebApplicationException(Response.status(Response.Status.BAD_REQUEST).type(MediaType.TEXT_PLAIN)
                    .entity(String.format("Only one of 'N' or '%s' query parameters should be set", collectionName)).build());
        }
    }

