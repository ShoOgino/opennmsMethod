    @Override
    public FlowSummaryResponse getConversationSummary(Integer N, Set<String> conversations, boolean includeOther,
                                                      UriInfo uriInfo) {
        return getSummary(N, conversations, uriInfo, "conversation",
                filters -> flowRepository.getTopNConversationSummaries(N, includeOther, filters),
                filters -> flowRepository.getConversationSummaries(conversations, includeOther, filters),
                response -> (label, summary) -> {
                    response.setHeaders(Lists.newArrayList("Location", "Protocol", "Source IP",
                            "Dest. IP", "Application", "Bytes In", "Bytes Out"));
                    response.setRows(summary.stream()
                            .map(sum -> {
                                final ConversationKey key = sum.getEntity();
                                return Lists.newArrayList((Object) key.getLocation(), key.getProtocol(),
                                        key.getLowerIp(), key.getUpperIp(), key.getApplication(), sum.getBytesIn(),
                                        sum.getBytesOut());
                            })
                            .collect(Collectors.toList()));
                });
    }

