    @Override
    public Direction getDirection() {
        if (flowDocument.getDirection() == null)
            return Direction.INGRESS;

        switch (flowDocument.getDirection()) {
            case INGRESS:
                return Direction.INGRESS;
            case EGRESS:
                return Direction.EGRESS;
            default:
                throw new IllegalArgumentException("Unknown direction: " + flowDocument.getDirection().name());
        }
    }

