    @Test(expected = IllegalArgumentException.class)
    @PrepareForTest(Flow.SamplingAlgorithm.class)
    public void willThrowExceptionOnIllegalValue() {
        Flow.SamplingAlgorithm illegalValue = PowerMockito.mock(Flow.SamplingAlgorithm.class);

        Whitebox.setInternalState(illegalValue, "name", "illegalValue");
        Whitebox.setInternalState(illegalValue, "ordinal", 8);

        PowerMockito.mockStatic(Flow.SamplingAlgorithm.class);
        PowerMockito.when(Flow.SamplingAlgorithm.values()).thenReturn(new Flow.SamplingAlgorithm[]{
                Flow.SamplingAlgorithm.Unassigned,
                Flow.SamplingAlgorithm.SystematicCountBasedSampling,
                Flow.SamplingAlgorithm.SystematicTimeBasedSampling,
                Flow.SamplingAlgorithm.RandomNoutOfNSampling,
                Flow.SamplingAlgorithm.UniformProbabilisticSampling,
                Flow.SamplingAlgorithm.PropertyMatchFiltering,
                Flow.SamplingAlgorithm.HashBasedFiltering,
                Flow.SamplingAlgorithm.FlowStateDependentIntermediateFlowSelectionProcess,
                illegalValue});

        SamplingAlgorithm.from(illegalValue);
    }

