    @Test
    public void verifyMergingFull() throws IOException {
        final IndexSettings IndexSettings = new IndexSettings();
        IndexSettings.setNumberOfReplicas(10);
        IndexSettings.setNumberOfShards(20);
        IndexSettings.setRefreshInterval("60s");
        IndexSettings.setRoutingPartitionSize(100);

        final String merged = new MergingTemplateLoader(new DefaultTemplateLoader(), IndexSettings).load(TEMPLATE_RESOURCE);
        final String expected = new DefaultTemplateLoader().load("/netflow-template-merged.json");
        assertEquals(toJson(merged), toJson(expected)); // Use gson to verify, otherwise strings may be formatted, etc.
    }

