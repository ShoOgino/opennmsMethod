    private void loadDefaultFlows() throws FlowException {
        final List<FlowDocument> flows = new FlowBuilder()
                // 192.168.1.100:43444 <-> 10.1.1.11:80
                .withFlow(new Date(0), "192.168.1.100", 43444, "10.1.1.11", 80, 10)
                .withFlow(new Date(0), "10.1.1.11", 80, "192.168.1.100", 43444, 100)
                // 192.168.1.100:43445 <-> 10.1.1.12:443
                .withFlow(new Date(10), "192.168.1.100", 43445, "10.1.1.12", 443, 100)
                .withFlow(new Date(10), "10.1.1.12", 443, "192.168.1.100", 43445, 1000)
                // 192.168.1.101:43442 <-> 10.1.1.12:443
                .withFlow(new Date(10), "192.168.1.101", 43442, "10.1.1.12", 443, 110)
                .withFlow(new Date(10), "10.1.1.12", 443, "192.168.1.101", 43442, 1100)
                .build();
        flowRepository.enrichAndPersistFlows(flows, new FlowSource("test", "127.0.0.1"));

        // Retrieve all the flows we just persisted
        await().atMost(30, TimeUnit.SECONDS).until(() -> flowRepository.getFlowCount(0, System.currentTimeMillis()).get(), equalTo(Long.valueOf(flows.size())));
    }

