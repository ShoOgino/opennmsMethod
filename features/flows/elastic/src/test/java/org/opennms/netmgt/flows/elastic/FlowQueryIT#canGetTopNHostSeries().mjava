    @Test
    public void canGetTopNHostSeries() throws ExecutionException, InterruptedException {
        // Top 10
        Table<Directional<String>, Long, Double> hostTraffic = flowRepository.getTopNHostSeries(10, 10, false,
                getFilters()).get();
        // 6 hosts in two directions should yield 12 rows
        assertThat(hostTraffic.rowKeySet(), hasSize(12));

        // Top 2 with others
        hostTraffic = flowRepository.getTopNHostSeries(2, 10, true, getFilters()).get();
        assertThat(hostTraffic.rowKeySet(), hasSize(6));

        // Top 1
        hostTraffic = flowRepository.getTopNHostSeries(1, 10, false, getFilters()).get();
        assertThat(hostTraffic.rowKeySet(), hasSize(2));
        assertThat(hostTraffic.rowKeySet(), containsInAnyOrder(new Directional<>("10.1.1.12", true),
                new Directional<>("10.1.1.12", false)));
        verifyHttpsSeries(hostTraffic, "10.1.1.12");
    }

