    private void parseBuckets(JsonArray bucketsSource) {
        for (JsonElement bucket : bucketsSource) {
            Long time = bucket.getAsJsonObject().get(String.valueOf(KEY)).getAsLong();
            String timeAsString = bucket.getAsJsonObject().get(String.valueOf(KEY_AS_STRING)).getAsString();
            Long count = bucket.getAsJsonObject().get(String.valueOf(DOC_COUNT)).getAsLong();
            Double value = bucket.getAsJsonObject().get(String.valueOf(AggregationField.VALUE)).getAsDouble();

            dateHistograms.add(new ProportionalSumAggregation.DateHistogram(bucket.getAsJsonObject(), time, timeAsString, value, count));
        }
    }

