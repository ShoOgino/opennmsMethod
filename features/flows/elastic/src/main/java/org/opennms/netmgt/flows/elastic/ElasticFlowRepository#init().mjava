    // Is invoked by the blueprint container and should take care of all initialization work, which may be
    // required in order to persist flows later on
    public void init() throws IOException {
        final InputStream inputStream = getClass().getResourceAsStream("/netflow-template.json");
        final byte[] bytes = new byte[inputStream.available()];
        ByteStreams.readFully(inputStream, bytes);

        final PutTemplate putTemplate = new PutTemplate.Builder(FLOW_TEMPLATE_NAME, new String(bytes)).build();
        final JestResult result = client.execute(putTemplate);
        if (!result.isSucceeded()) {
            // In case the template could not be created, we bail
            throw new IllegalStateException("Template '" + FLOW_TEMPLATE_NAME + "' could not be persisted. Reason: " + result.getErrorMessage());
        }
    }

