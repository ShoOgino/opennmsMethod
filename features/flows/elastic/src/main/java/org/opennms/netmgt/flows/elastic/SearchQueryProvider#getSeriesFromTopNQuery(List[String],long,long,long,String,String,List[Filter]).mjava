    public String getSeriesFromTopNQuery(List<String> topN, long step, long start, long end,
                                         String groupByTerm, String directionTerm,
                                         List<Filter> filters) {
        return render("series_for_terms.ftl", ImmutableMap.builder()
                .put("filters", getFilterQueries(filters))
                .put("topN", topN)
                .put("groupByTerm", groupByTerm)
                .put("directionTerm", directionTerm)
                .put("step", step)
                .put("start", start)
                .put("end", end)
                .build());
    }

