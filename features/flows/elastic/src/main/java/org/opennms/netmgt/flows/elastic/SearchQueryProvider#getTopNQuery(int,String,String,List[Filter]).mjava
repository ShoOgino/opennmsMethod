    public String getTopNQuery(int N, String groupByTerm, String keyForMissingTerm, List<Filter> filters) {
        return render("top_n_terms.ftl", ImmutableMap.builder()
                .put("filters", getFilterQueries(filters))
                .put("N", N)
                .put("groupByTerm", groupByTerm)
                .put("keyForMissingTerm", keyForMissingTerm != null ? keyForMissingTerm : "")
                .build());
    }

