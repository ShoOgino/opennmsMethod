    @Override
    public CompletableFuture<List<TrafficSummary<String>>> getTopNApplicationSummaries(int N, boolean includeOther,
                                                                                       List<Filter> filters) {
        if (aggFlowRepository.shouldUseAggregatedDocuments(filters)) {
            return aggFlowRepository.getTopNApplicationSummaries(N, includeOther, filters);
        }
        return getTotalBytesFromTopN(N, "netflow.application", UNKNOWN_APPLICATION_NAME, includeOther, filters);
    }

