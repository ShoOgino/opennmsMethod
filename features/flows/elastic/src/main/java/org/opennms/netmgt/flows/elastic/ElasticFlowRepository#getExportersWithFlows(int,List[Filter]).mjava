    @Override
    public CompletableFuture<Set<Integer>> getExportersWithFlows(int limit, List<Filter> filters) {
        final String query = searchQueryProvider.getUniqueNodeExporters(limit, filters);
        return searchAsync(query, extractTimeRangeFilter(filters))
                .thenApply(res -> res.getAggregations().getTermsAggregation("criterias")
                .getBuckets()
                .stream()
                .map(e -> Integer.parseInt(e.getKey()))
                .collect(Collectors.toSet()));
    }

