    @Test
    @Transactional
    public void verifyCRUD() {
        // Nothing created yet
        assertEquals(0, classificationDao.countAll());

        // Create dummy
        final Rule rule = new RuleBuilder()
                .withName("HTTP")
                .withIpAddress("127.0.0.1")
                .withPort("80,8080")
                .withProtocol("tcp").build();

        // create and verify creation
        classificationDao.saveOrUpdate(rule);
        assertEquals(1, classificationDao.countAll());

        // Update
        rule.setName("HTTP2");
        classificationDao.update(rule);
        assertEquals(1, classificationDao.countAll());
        assertEquals("HTTP2", classificationDao.get(rule.getId()).getName());

        // Delete
        classificationDao.delete(rule);
        assertEquals(0, classificationDao.countAll());
    }

