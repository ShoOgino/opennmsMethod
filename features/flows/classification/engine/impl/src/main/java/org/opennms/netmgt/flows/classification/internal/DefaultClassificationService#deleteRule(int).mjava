    @Override
    public void deleteRule(int ruleId) {
        runInTransaction(status -> {
            final Rule rule = classificationRuleDao.get(ruleId);
            if (rule == null) throw new NoSuchElementException();
            assertRuleIsNotInReadOnlyGroup(rule);
            return runInTransaction(transactionStatus -> {
                // Remove from group, as it would be saved later otherwise
                final Group group = rule.getGroup();
                group.removeRule(rule);
                classificationRuleDao.delete(rule);
                updateRulePositionsAndReloadEngine(RulePositionUtil.sortRulePositions(group.getRules()));
                return null;
            });
        });
    }

