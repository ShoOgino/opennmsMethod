    private void updateRulePositionsAndReloadEngine(Group group) {
        // Load all rules of group and sort by priority (highest first) in that group
        final List<Rule> rules = group.getRules();
        Collections.sort(rules, new RulePriorityComparator());

        // Update priority field
        for (int i=0; i<rules.size(); i++) {
            Rule rule = rules.get(i);
            rule.setPosition(i);
            classificationRuleDao.saveOrUpdate(rule);
        }

        // Reload engine
        classificationEngine.reload();
    }

