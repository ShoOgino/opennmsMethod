    @Test
    public void testReduce() {
        HighestSeverityAbove reduceFunction = new HighestSeverityAbove();
        reduceFunction.setThreshold(Status.CRITICAL);

        assertEquals(Optional.empty(), reduceFunction.reduce(Lists.newArrayList()));
        assertEquals(Optional.empty(), reduceFunction.reduce(Lists.newArrayList(
                Status.MINOR, Status.MAJOR, Status.WARNING)));

        assertEquals(Optional.of(Status.CRITICAL), reduceFunction.reduce(Lists.newArrayList(
                Status.MINOR, Status.MAJOR, Status.WARNING, Status.CRITICAL)));
    }

