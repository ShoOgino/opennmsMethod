    @Override
    public boolean addIpServiceEdge(BusinessService businessService, IpService ipService, MapFunction mapFunction) {
        // verify that exists
        final BusinessServiceEntity parentEntity = getBusinessServiceEntity(businessService);
        final OnmsMonitoredService monitoredService = getMonitoredService(ipService);

        // Create the edge
        IpServiceEdge edge = createEdge(IpServiceEdge.class, businessService, mapFunction);
        edge.setIpService(ipService);

        // if already exists, no update
        if (parentEntity.getIpServiceEdges().contains(((IpServiceEdgeImpl)edge).getEntity())) {
            return false;
        }
        parentEntity.addEdge(((IpServiceEdgeImpl)edge).getEntity());
        return true;
    }

