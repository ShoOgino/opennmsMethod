    private BusinessServiceDTO transform(BusinessService service) {
        BusinessServiceDTO dto = new BusinessServiceDTO();
        dto.setId(service.getId());
        dto.setName(service.getName());
        dto.setAttributes(new HashMap<>(service.getAttributes()));
        for (OnmsMonitoredService eachService : service.getIpServices()) {
            IpServiceDTO ipServiceDTO = transform(eachService);
            if (ipServiceDTO != null) {
                dto.addIpService(ipServiceDTO);
            }
        }
        for (BusinessService eachService : service.getChildServices()) {
            BusinessServiceDTO childServiceDTO = transform(eachService);
            if (childServiceDTO != null) {
                dto.addChildService(childServiceDTO);
            }
        }
        for (BusinessService eachService : service.getChildServices()) {
            BusinessServiceDTO parentServiceDTO = transform(eachService);
            if (parentServiceDTO != null) {
                dto.addParentService(parentServiceDTO);
            }
        }
        return dto;
    }

