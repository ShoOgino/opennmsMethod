    private BusinessServiceDTO transform(BusinessService service) {
        BusinessServiceDTO dto = new BusinessServiceDTO();
        dto.setId(service.getId());
        dto.setName(service.getName());
        if(service.getAttributes() != null) {
            dto.setAttributes(new HashMap<>(service.getAttributes()));
        } else {
            dto.setAttributes(new HashMap<>());
        }
        if(service.getReductionKeys() != null) {
            dto.setReductionKeys(new HashSet<>(service.getReductionKeys()));
        } else {
            dto.setReductionKeys(new HashSet<>());
        }
        for (OnmsMonitoredService eachService : service.getIpServices()) {
            IpServiceDTO ipServiceDTO = transform(eachService);
            if (ipServiceDTO != null) {
                dto.addIpService(ipServiceDTO);
            }
        }
        return dto;
    }

