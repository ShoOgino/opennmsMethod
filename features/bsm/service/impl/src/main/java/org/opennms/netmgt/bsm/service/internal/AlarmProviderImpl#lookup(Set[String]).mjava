    @Override
    public Map<String, AlarmWrapper> lookup(Set<String> reductionKeys) {
        if (reductionKeys == null || reductionKeys.isEmpty()) {
            return new HashMap<>();
        }
        if (reductionKeys.size() <= threshold) {
            List<OnmsAlarm> alarms = alarmDao.findMatching(new CriteriaBuilder(OnmsAlarm.class).in("reductionKey", reductionKeys).toCriteria());
            return alarms.stream().collect(Collectors.toMap(OnmsAlarm::getReductionKey, AlarmWrapperImpl::new));
        } else {
            return alarmDao.findAll().stream()
                    .filter(a -> reductionKeys.contains(a.getReductionKey()))
                    .collect(Collectors.toMap(OnmsAlarm::getReductionKey, AlarmWrapperImpl::new));
        }
    }

