    /**
     * Generates the set of all possible subsets from the
     * given elements.
     *
     * @param elements S
     * @return P(S)
     */
    public static <T> Set<Set<T>> generatePowerSet(Collection<T> elements) {
        Set<Set<T>> powerSet = Sets.newConcurrentHashSet(); // Allows us to modify while iterating
        powerSet.add(Sets.newHashSet());
        for (T element : elements) {
            Iterator<Set<T>> iterator = powerSet.iterator();
            while (iterator.hasNext()) {
                Set<T> existingSubset = iterator.next();
                Set<T> newSubset = Sets.newHashSet(existingSubset);
                newSubset.add(element);
                powerSet.add(newSubset);
            }
        }
        return powerSet;
    }

