    @Test
    @Transactional
    public void ensureNoDanglingReductionFunctions() {
        // Create a business service
        final BusinessService bs = this.createBusinessService("bs1");
        bs.save();

        // Ensure there is an associated reduction function
        assertEquals(1, reductionFunctionDao.countAll());

        bs.setReduceFunction(new HighestSeverity());
        bs.save();

        // Ensure there is still only one associated reduction function
        assertEquals(1, reductionFunctionDao.countAll());

        // Delete
        bs.delete();

        // There should be no reduction function left
        assertEquals(0, reductionFunctionDao.countAll());
    }

