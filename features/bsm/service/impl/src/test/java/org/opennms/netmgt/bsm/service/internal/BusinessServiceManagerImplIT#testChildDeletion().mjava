    @Test
    public void testChildDeletion() {
        BusinessServiceEntity service_p = createDummyBusinessService("Business Service #p");
        BusinessServiceEntity service_c_1 = createDummyBusinessService("Business Service #c1");
        BusinessServiceEntity service_c_2 = createDummyBusinessService("Business Service #c2");

        businessServiceDao.save(service_p);
        businessServiceDao.save(service_c_1);
        businessServiceDao.save(service_c_2);

        BusinessService parentBs = getBusinessService(service_p.getId());
        BusinessService child1Bs = getBusinessService(service_c_1.getId());
        BusinessService child2Bs = getBusinessService(service_c_2.getId());

        businessServiceManager.assignChildService(parentBs, child1Bs);
        businessServiceManager.assignChildService(parentBs, child2Bs);
        parentBs.save();
        child1Bs.save();
        child2Bs.save();

        child1Bs.delete();

        Assert.assertEquals(ImmutableSet.of(service_c_2),
                            service_p.getChildServices());
    }

