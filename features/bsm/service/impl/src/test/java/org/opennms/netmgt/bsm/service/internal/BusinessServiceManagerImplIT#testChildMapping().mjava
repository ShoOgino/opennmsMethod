    @Test
    public void testChildMapping() {
        BusinessService service_p_1 = createService("Business Service #p1");
        BusinessService service_p_2 = createService("Business Service #p2");
        BusinessService service_c_1 = createService("Business Service #c1");
        BusinessService service_c_2 = createService("Business Service #c2");

        businessServiceDao.save(service_p_1);
        businessServiceDao.save(service_p_2);
        businessServiceDao.save(service_c_1);
        businessServiceDao.save(service_c_2);

        businessServiceManager.assignChildService(service_p_1.getId(), service_c_1.getId());
        businessServiceManager.assignChildService(service_p_1.getId(), service_c_2.getId());

        businessServiceManager.assignChildService(service_p_2.getId(), service_c_1.getId());
        businessServiceManager.assignChildService(service_p_2.getId(), service_c_2.getId());

        Assert.assertEquals(ImmutableSet.of(service_p_1, service_p_2),
                            service_c_1.getParentServices());

        Assert.assertEquals(ImmutableSet.of(service_p_1, service_p_2),
                            service_c_2.getParentServices());
    }

