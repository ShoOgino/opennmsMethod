    @Test
    public void testChildMapping() {
        BusinessServiceEntity service_p_1 = createDummyBusinessService("Business Service #p1");
        BusinessServiceEntity service_p_2 = createDummyBusinessService("Business Service #p2");
        BusinessServiceEntity service_c_1 = createDummyBusinessService("Business Service #c1");
        BusinessServiceEntity service_c_2 = createDummyBusinessService("Business Service #c2");

        businessServiceDao.save(service_p_1);
        businessServiceDao.save(service_p_2);
        businessServiceDao.save(service_c_1);
        businessServiceDao.save(service_c_2);

        businessServiceManager.assignChildService(getBusinessService(service_p_1.getId()), getBusinessService(service_c_1.getId()));
        businessServiceManager.assignChildService(getBusinessService(service_p_1.getId()), getBusinessService(service_c_2.getId()));

        businessServiceManager.assignChildService(getBusinessService(service_p_2.getId()), getBusinessService(service_c_1.getId()));
        businessServiceManager.assignChildService(getBusinessService(service_p_2.getId()), getBusinessService(service_c_2.getId()));

        Assert.assertEquals(ImmutableSet.of(service_p_1, service_p_2),
                            service_c_1.getParentServices());

        Assert.assertEquals(ImmutableSet.of(service_p_1, service_p_2),
                            service_c_2.getParentServices());
    }

