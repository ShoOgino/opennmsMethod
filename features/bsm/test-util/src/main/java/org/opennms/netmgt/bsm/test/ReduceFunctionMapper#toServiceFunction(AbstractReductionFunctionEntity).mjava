    public ReductionFunction toServiceFunction(AbstractReductionFunctionEntity reductionFunctionEntity) {
        if (reductionFunctionEntity == null) {
            return null;
        }
        Function<AbstractReductionFunctionEntity, ReductionFunction> mapping = persistenceToServiceMapping.get(reductionFunctionEntity.getClass());
        if (mapping == null) {
            throw new IllegalArgumentException("No mapping found");
        }
        return mapping.apply(reductionFunctionEntity);
    }

