    @Test
    public void verifyRemoveIpService() throws Exception {
        BusinessService service = new BusinessService();
        service.setName("Dummy Service");
        service.addIpService(monitoredServiceDao.get(17));
        service.addIpService(monitoredServiceDao.get(18));
        service.addIpService(monitoredServiceDao.get(20));
        Long serviceId = m_businessServiceDao.save(service);
        m_businessServiceDao.flush();

        // verify removing not existing ip service not possible
        sendData(DELETE, MediaType.APPLICATION_XML, getIpServiceUrl(serviceId, -1), null, 404);

        // verify removing of existing ip service is possible
        sendData(DELETE, MediaType.APPLICATION_XML, getIpServiceUrl(serviceId, 17), null, 200);
        Assert.assertEquals(2, m_businessServiceDao.get(17L).getIpServices().size());

        // verify removing twice possible, but not modified
        sendData(DELETE, MediaType.APPLICATION_XML, getIpServiceUrl(serviceId, 17), null, 304);
        Assert.assertEquals(2, m_businessServiceDao.get(17L).getIpServices().size());

        // verify removing of existing ip service is possible
        sendData(DELETE, MediaType.APPLICATION_XML, getIpServiceUrl(serviceId, 18), null, 200);
        Assert.assertEquals(1, m_businessServiceDao.get(17L).getIpServices().size());
    }

