    @PUT
    @Path("{id}")
    public Response update(@PathParam("id") final Long id, final BusinessServiceRequestDTO request) {
        final BusinessService service = getManager().getBusinessServiceById(id);
        service.setName(request.getName());
        service.setAttributes(request.getAttributes());
        service.setReduceFunction(transform(request.getReduceFunction()));
        service.setReductionKeyEdges(Sets.newHashSet());
        request.getReductionKeys()
            .forEach(rkEdge ->
                    getManager().addReductionKeyEdge(
                            service,
                            rkEdge.getReductionKey(),
                            transform(rkEdge.getMapFunction()),
                            rkEdge.getWeight(),
                            rkEdge.getFriendlyName()));
        service.setIpServiceEdges(Sets.newHashSet());
        request.getIpServices()
                .forEach(ipEdge ->
                    getManager().addIpServiceEdge(
                            service,
                            getManager().getIpServiceById(ipEdge.getIpServiceId()),
                            transform(ipEdge.getMapFunction()),
                            ipEdge.getWeight(),
                            ipEdge.getFriendlyName()));
        service.setChildEdges(Sets.newHashSet());
        request.getChildServices()
                .forEach(childEdge ->
                    getManager().addChildEdge(
                            service,
                            getManager().getBusinessServiceById(childEdge.getChildId()),
                            transform(childEdge.getMapFunction()),
                            childEdge.getWeight()));
        getManager().saveBusinessService(service);

        return Response.noContent().build();
    }

