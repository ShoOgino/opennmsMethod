    @PUT
    @Path("{id}")
    public Response update(@PathParam("id") final Long id, final BusinessServiceRequestDTO request) {
        final BusinessService service = getManager().getBusinessServiceById(id);
        service.setName(request.getName());
        service.setAttributes(request.getAttributes());
        service.setReduceFunction(transform(request.getReduceFunction()));
        service.setReductionKeyEdges(
                request.getReductionKeys()
                    .stream()
                    .map(rkEdge -> {
                        // TODO MVR this code is already in BusinessServiceImpl and may be reused (move to business service manager?)
                        ReductionKeyEdge edge = getManager().createEdge(ReductionKeyEdge.class, service, transform(rkEdge.getMapFunction()));
                        edge.setReductionKey(rkEdge.getValue());
                        return edge;
                    })
                    .collect(Collectors.toSet()));
        service.setIpServiceEdges(
                request.getIpServices()
                        .stream()
                        .map(ipEdge -> {
                            // TODO MVR this code is already in BusinessServiceImpl and may be reused (move to business service manager?)
                            IpServiceEdge edge = getManager().createEdge(IpServiceEdge.class, service, transform(ipEdge.getMapFunction()));
                            edge.setIpService(getManager().getIpServiceById(ipEdge.getValue()));
                            return edge;
                        })
                        .collect(Collectors.toSet()));
        service.setChildEdges(
                request.getChildServices()
                        .stream()
                        // TODO MVR this code is already in BusinessServiceImpl and may be reused (move to business service manager?)
                        .map(childEdge -> {
                            ChildEdge edge = getManager().createEdge(ChildEdge.class, service, transform(childEdge.getMapFunction()));
                            edge.setChild(getManager().getBusinessServiceById(childEdge.getValue()));
                            return edge;
                        })
                        .collect(Collectors.toSet()));
        getManager().saveBusinessService(service);

        return Response.noContent().build();
    }

