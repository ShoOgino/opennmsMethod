    @Before
    public void setUp() throws Exception {
        BeanUtils.assertAutowiring(this);

        // We don't @Autowire this one since there are two implementations of the EventIpcManager in the Spring context
        m_bsmd = new Bsmd();
        m_bsmd.setBusinessServiceDao(m_businessServiceDao);
        m_bsmd.setAlarmDao(m_alarmDao);
        m_bsmd.setEventIpcManager(m_eventMgr);
        m_bsmd.setEventConfDao(m_eventConfDao);
        m_bsmd.setTransactionTemplate(m_template);
        // We don't have a full blown event configuration, so don't validate these during the integration tests
        m_bsmd.setVerifyReductionKeys(false);
        m_bsmd.setBusinessServiceStateMachine(new DefaultBusinessServiceStateMachine());
        m_bsmd.afterPropertiesSet();

        m_databasePopulator.populateDatabase();

        m_anticipator = new EventAnticipator();
        m_eventMgr.setEventAnticipator(m_anticipator);
    }

