    private void handleAlarmCreatedOrUpdated(Event e, int alarmId) {
        m_template.execute(new TransactionCallbackWithoutResult() {
            @Override
            protected void doInTransactionWithoutResult(TransactionStatus status) {
                final OnmsAlarm alarm = m_alarmDao.get(alarmId);
                if (alarm == null) {
                    LOG.error("Could not find alarm with id: {} for event with uei: {}. Ignoring.", alarmId, e.getUei());
                    return;
                }
                final AlarmWrapperImpl alarmWrapper = new AlarmWrapperImpl(alarm);
                LOG.debug("Handling alarm with id: {}, reduction key: {} and severity: {} and status: {}", alarm.getId(), alarm.getReductionKey(), alarm.getSeverity(), alarmWrapper.getStatus());
                m_stateMachine.handleNewOrUpdatedAlarm(alarmWrapper);
            }
        });
    }

