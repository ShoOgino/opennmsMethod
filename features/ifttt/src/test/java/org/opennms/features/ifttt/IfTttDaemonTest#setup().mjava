    @Before
    public void setup() {
        MockLogAppender.setupLogging();

        categoryMap = new HashMap<>();
        addCategory("Foo");
        addCategory("Bar");
        addCategory("Xyz");

        nodeMap = new HashMap<>();
        addNode(1, "Node1", "Foo");
        addNode(2, "Node2", "Foo", "Bar");
        addNode(3, "Node3", "Bar");
        addNode(4, "Node4", "Foo", "Bar");
        addNode(5, "Node5", "Bar");
        addNode(6, "Node6", "Xyz");

        // Foo: nodes 1,2,4 -> MINOR, 5 alarms
        // Bar: nodes 2,4,5 -> MINOR, 6 alarms
        // Foo|Bar: nodes 1,2,3,4,5 -> MINOR, 8 alarms

        alarmMap = new HashMap<>();
        addAlarm(1, 1, OnmsSeverity.NORMAL);        // foo
        addAlarm(2, 2, OnmsSeverity.INDETERMINATE); // foo, bar
        addAlarm(3, 3, OnmsSeverity.MINOR);         // bar

        addAlarm(4, 4, OnmsSeverity.WARNING);       // foo, bar
        addAlarm(5, 5, OnmsSeverity.CLEARED);       // bar
        addAlarm(6, 6, OnmsSeverity.CRITICAL);

        addAlarm(7, 1, OnmsSeverity.MINOR);         // foo
        addAlarm(8, 2, OnmsSeverity.WARNING);       // foo, bar
        addAlarm(9, 3, OnmsSeverity.MINOR);         // bar

        addAlarm(10, null, OnmsSeverity.CRITICAL);  // -

        addAlarm(11, 2, OnmsSeverity.CRITICAL, true);  // -
    }

