    public void init() throws InterruptedException {
        LOG.debug("OpenNMSConfiguration initializing.");
        new Thread(new Runnable() {
            @Override public void run() {
                // wait up to 2 minutes for Karaf's JAAS Configuration to become active so we can put a facade on top of it.
                final long giveUp = System.currentTimeMillis() + Long.getLong("org.opennms.web.springframework.security.jaas-timeout", 120000);
                do {
                    final Configuration c = Configuration.getConfiguration();
                    if (c != null) {
                        LOG.trace("OpenNMSConfiguration found existing configuration: " + c.getClass().getName());
                        if (c.getClass().getName().contains("OsgiConfiguration")) {
                            LOG.debug("Found Karaf OSGi JAAS configuration.  Inserting OpenNMS redirector.");
                            break;
                        }
                    }
                    LOG.trace("OpenNMSConfiguration still waiting for Karaf OsgiConfiguration to activate...");
                    try {
                        Thread.sleep(1000);
                    } catch (final InterruptedException e) {
                        LOG.warn("Interrupted while waiting for Karaf's OSGi Configuration to initialize.", e);
                    }
                } while (System.currentTimeMillis() < giveUp);

                m_parentConfiguration = Configuration.getConfiguration();
                Configuration.setConfiguration(OpenNMSConfiguration.this);
            }
        }).start();
    }

