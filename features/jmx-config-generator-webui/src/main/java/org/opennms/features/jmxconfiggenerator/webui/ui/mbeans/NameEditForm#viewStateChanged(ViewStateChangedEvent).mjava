	@Override
	public void viewStateChanged(ViewStateChangedEvent event) {
		switch (event.getNewState()) {
			case Init:
			case NonLeafSelected:
				modelChanged(null); // reset
			case Edit: // no reset, just hide
				setEnabled(event.getSource() == this);
				getFooter().setVisible(event.getSource() == this);
				break;
			// activate
			case LeafSelected:
				setReadOnly(true);
				setEnabled(true);
				getFooter().setVisible(true);
				break;
		}
	}

