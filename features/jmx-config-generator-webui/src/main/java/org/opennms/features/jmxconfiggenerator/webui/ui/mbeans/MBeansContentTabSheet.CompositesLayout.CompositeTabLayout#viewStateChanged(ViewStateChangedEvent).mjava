			@Override
			public void viewStateChanged(ViewStateChangedEvent event) {
				switch(event.getNewState()) {
					case Init:
					case LeafSelected:
						setEnabled(true);
						footer.setVisible(true);
						break;
					case NonLeafSelected:
					case Edit:
						setEnabled(event.getSource() == this);
						footer.setVisible(event.getSource() == this);
						break;
				}
			}

