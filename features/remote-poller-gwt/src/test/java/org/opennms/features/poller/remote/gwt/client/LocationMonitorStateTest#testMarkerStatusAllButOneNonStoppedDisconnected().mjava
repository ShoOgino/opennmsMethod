	@Test
	public void testMarkerStatusAllButOneNonStoppedDisconnected() {
		Collection<GWTLocationMonitor> monitors = new ArrayList<GWTLocationMonitor>();
		monitors.add(getMonitor("STARTED"));
		monitors.add(getMonitor("DISCONNECTED"));
		monitors.add(getMonitor("DISCONNECTED"));
		monitors.add(getMonitor("DISCONNECTED"));

		LocationMonitorState lms = new LocationMonitorState(monitors, null);
		assertEquals("status should be marginal if only one monitor started, and more than one disconnected", ServiceStatus.MARGINAL, lms.getStatus());
		
	}

