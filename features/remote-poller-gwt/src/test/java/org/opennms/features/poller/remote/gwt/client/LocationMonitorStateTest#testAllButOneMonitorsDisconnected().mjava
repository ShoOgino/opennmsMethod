	@Test
	public void testAllButOneMonitorsDisconnected() {
		Collection<GWTLocationMonitor> monitors = new ArrayList<GWTLocationMonitor>();
		for (int i = 0; i < 5; i++) {
			monitors.add(getMonitor("DISCONNECTED"));
		}
		LocationMonitorState lms = new LocationMonitorState(monitors, null);
		assertFalse("all monitors should be DISCONNECTED", lms.allButOneMonitorsDisconnected());
		
		monitors.add(getMonitor("STARTED"));
		lms = new LocationMonitorState(monitors, null);
		assertTrue("all but one monitors are DISCONNECTED", lms.allButOneMonitorsDisconnected());
		
		monitors.add(getMonitor("CONFIG_CHANGED"));
		lms = new LocationMonitorState(monitors, null);
		assertFalse("more than one monitor is STARTED or CONFIG_CHANGED", lms.allButOneMonitorsDisconnected());
	}

