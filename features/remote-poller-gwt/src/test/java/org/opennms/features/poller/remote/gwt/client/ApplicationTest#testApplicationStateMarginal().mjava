	@Test
	public void testApplicationStateMarginal() {
		Collection<ApplicationInfo> applications = new ArrayList<ApplicationInfo>();
		applications.add(getApplication("TestApp1"));
		applications.add(getApplication("TestApp2"));
		
		Map<String,List<GWTLocationSpecificStatus>> appStatuses = new HashMap<String,List<GWTLocationSpecificStatus>>();
		appStatuses.put("TestApp1", getMarginalStatusList());
		appStatuses.put("TestApp2", getUpStatusList());
		ApplicationState appState = new ApplicationState(m_from, m_to, applications, appStatuses);
		
		assertEquals(Status.MARGINAL, appState.getStatusDetails().getStatus());
	}

