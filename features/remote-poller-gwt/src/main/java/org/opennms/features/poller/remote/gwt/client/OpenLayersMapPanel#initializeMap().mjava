    public void initializeMap() {
        final MapOptions mo = new MapOptions();
        mo.setProjection("EPSG:4326");
        m_mapWidget = new MapWidget("100%", "100%", mo);
        m_mapHolder.add(m_mapWidget);

        m_map = m_mapWidget.getMap();
        m_map.addControl(new PanZoomBar());
        m_map.addControl(new MousePosition());
        m_map.zoomTo(2);

        WMSParams layerParams = null;
        WMSOptions layerOptions = null;

        layerOptions = new WMSOptions();
        layerOptions.setWrapDateLine(true);
        layerParams = new WMSParams();
        layerParams.setLayers(getLayerName());
        Layer layer = new WMS("BaseLayer", getLayerUrl(), layerParams, layerOptions);
        layer.setIsBaseLayer(true);
        m_map.addLayer(layer);

        /*
        layerOptions = new WMSOptions();
        layerOptions.setWrapDateLine(true);
        layerParams = new WMSParams();
        layerParams.setLayers("satellite");
        Layer layer = new WMS("Satellite", new String[] {"http://labs.metacarta.com/wms-c/Basic.py?", "http://t2.labs.metacarta.com/wms-c/Basic.py?", "http://t1.labs.metacarta.com/wms-c/Basic.py?" }, layerParams, layerOptions);
        layer.setIsBaseLayer(true);
        m_map.addLayer(layer);
        */

        /*
        layerOptions = new WMSOptions();
        layerOptions.setWrapDateLine(true);
        layerParams = new WMSParams();
        layerParams.setLayers("basic");
        layer = new WMS("VMap", new String[] {"http://labs.metacarta.com/wms-c/Basic.py?", "http://t2.labs.metacarta.com/wms-c/Basic.py?", "http://t1.labs.metacarta.com/wms-c/Basic.py?" }, layerParams, layerOptions);
        m_map.addLayer(layer);
        */

        /*
        layerOptions = new WMSOptions();
        layerOptions.setWrapDateLine(true);
        layerParams = new WMSParams();
        layerParams.setLayers("States_Generalized");
        layerParams.setFormat("image/png");
        layerParams.setIsTransparent(true);
        layer = new WMS("USGS Political Boundaries", "http://toposervices.cr.usgs.gov/wmsconnector/com.esri.wms.Esrimap/USGS_EDNA_geo?", layerParams, layerOptions);
        layer.setIsBaseLayer(false);
        */

        m_markersLayer = new Markers("default");
        m_map.addLayer(m_markersLayer);
        m_map.zoomToMaxExtent();

//        getMapHolder().setSize("100%", "100%");

        Window.addResizeHandler(new ResizeHandler() {
            public void onResize(ResizeEvent event) {
                syncMapSizeWithParent();
            }
        });
    }

