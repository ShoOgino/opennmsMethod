    @Test
    public void doesntFailWhenDsOnlyContainsNaNs() throws Exception {
        FilterDefinition filterDef = new FilterDefinition("OutlierFilter",
                "inputColumn", "X",
                "probability", "0.99");

        // Fill with NaNs
        RowSortedTable<Long, String, Double> table = TreeBasedTable.create();
        for (long i = 0; i < 100; i++) {
            table.put(i, "X", Double.NaN);
        }

        // Apply the filter
        getFilterEngine().filter(filterDef, table);

        // No exception should be thrown

        // Now add a single value
        table.put(42L, "X", 3.14);

        // Apply the filter
        getFilterEngine().filter(filterDef, table);

        // No exception should be thrown
    }

