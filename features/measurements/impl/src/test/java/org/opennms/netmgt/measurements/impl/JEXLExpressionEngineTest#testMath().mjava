    @Test
    public void testMath() throws Exception {
        final Map<String,Object> entries = Maps.newHashMap();

        entries.put("A", 1);
        double results[] = performExpression("math:sin(A)", entries);
        assertEquals(0.841470, results[0], DELTA);

        entries.put("A", 1);
        results = performExpression("math:cos(A)", entries);
        assertEquals(0.540302, results[0], DELTA);

        entries.put("A", Math.E);
        results = performExpression("math:log(A)", entries);
        assertEquals(1, results[0], DELTA);

        entries.put("A", 1);
        results = performExpression("math:exp(A)", entries);
        assertEquals(Math.E, results[0], DELTA);

        entries.put("A", 4);
        results = performExpression("math:sqrt(A)", entries);
        assertEquals(2, results[0], DELTA);

        entries.put("A", 1);
        results = performExpression("math:atan(A)", entries);
        assertEquals(0.7853981633974483, results[0], DELTA);

        entries.put("Y", 90);
        entries.put("X", 15);
        results = performExpression("math:atan2(Y,X)", entries);
        assertEquals(1.4056476493802699, results[0], DELTA);
    }

