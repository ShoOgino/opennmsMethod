    protected static String findRrdtool() {
        try {
            @SuppressWarnings("unchecked")
            final Map<String,String> env = new HashMap<String,String>(EnvironmentUtils.getProcEnvironment());
            if (env.get("PATH") != null) {
                final String pathVar = env.get("PATH");
                if (!OS.isFamilyWindows()) {
                    final List<String> paths = new ArrayList<>(Arrays.asList(pathVar.split(":")));
                    paths.add("/usr/local/bin");
                    paths.add("/usr/local/sbin");
                    for (final String path : paths) {
                        final String tryme = path + File.separator + "rrdtool";
                        if (new File(tryme).exists()) {
                            return tryme;
                        }
                    }
                }
            }
            return "rrdtool";
        } catch (final Exception e) {
            throw new RuntimeException(e);
        }
    }

