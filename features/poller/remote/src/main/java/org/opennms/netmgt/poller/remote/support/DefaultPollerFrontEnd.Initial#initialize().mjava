        @Override
        public void initialize() {
            try {
                final String monitorId = doInitialize();

                // If the monitor isn't registered yet...
                if (monitorId == null) {
                    // Change to the 'registering' state
                    setState(new Registering());
                } else if (doPollerStart()) {
                    // Change the state to running so we're ready to execute polls
                    setState(new Running());
                    // Load the configuration for the scheduler
                    doLoadConfig();
                } else {
                    // the poller has been deleted
                    doDelete();
                    setState(new Registering());
                }
            } catch (final Throwable e) {
                setState(new FatalExceptionOccurred(e));

                // rethrow the exception on initialize so we exit if we fail to initialize
                throw e;
            }
        }

