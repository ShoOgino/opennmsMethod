    protected static Map<String, Object> getParameterMap(final Service serviceConfig) {
        final Map<String, Object> paramMap = new HashMap<String, Object>();
        for (final Parameter serviceParm : serviceConfig.getParameters()) {
            String value = serviceParm.getValue();
            if (value == null) {
                final Object o = serviceParm.getAnyObject();
                if (o == null) {
                    value = "";
                } else if (o instanceof PageSequence) {
                    // The PageSequenceMonitor uses PageSequence type parameters in the service definition
                    // These need to be marshalled to XML before being sent to the PollerFrontEnd
                    value = JaxbUtils.marshal(o);
                } else {
                    value = o.toString();
                }
            }

            paramMap.put(serviceParm.getKey(), value);
        }
        return paramMap;
    }

