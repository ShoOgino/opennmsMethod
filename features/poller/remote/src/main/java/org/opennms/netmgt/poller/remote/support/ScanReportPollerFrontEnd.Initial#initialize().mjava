        @Override
        public void initialize() {
            try {
                assertNotNull(m_backEnd, "pollerBackEnd");
                assertNotNull(m_pollService, "pollService");
                assertNotNull(m_pollerSettings, "pollerSettings");

                final String monitorId = m_pollerSettings.getMonitoringSystemId();

                if (monitorId == null) {
                    setState(new Registering());
                } else { 
                    doLoadConfig();

                    // TODO: Check return value?
                    // TODO: Add metadata values to the details
                    m_backEnd.pollerStarting(getMonitoringSystemId(), getDetails());

                    setState(new Running());
                }
            } catch (final Throwable e) {
                setState(new FatalExceptionOccurred(e));

                // rethrow the exception on initialize so we exit if we fail to initialize
                throw e;
            }
        }

