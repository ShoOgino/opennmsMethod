    /**
     * Verifies that the parameter map generated for a given
     * service is serializable. 
     */
    @Test
    public void canConvertServiceParametersToSerializableMap() {
        Parameter paramWithStringValue = new Parameter();
        paramWithStringValue.setKey("a");
        paramWithStringValue.setValue("test");

        Parameter paramWithNullValue = new Parameter();
        paramWithNullValue.setKey("b");
        paramWithNullValue.setAnyObject(null);

        Parameter paramWithNonSerializableObject = new Parameter();
        paramWithNonSerializableObject.setKey("c");
        // This can be any object, provided that it does not implement the Serializable interface
        paramWithNonSerializableObject.setAnyObject(new DefaultPollerBackEndTest());

        Service svc = new Service();
        svc.setParameters(Lists.newArrayList(paramWithStringValue, paramWithNullValue, paramWithNonSerializableObject));

        // Expect no exception to be thrown
        SerializationUtils.serialize(DefaultPollerBackEnd.getParameterMap(svc));
    }

