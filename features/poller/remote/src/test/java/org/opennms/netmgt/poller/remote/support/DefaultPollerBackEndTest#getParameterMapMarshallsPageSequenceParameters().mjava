    /**
     * Verifies that {@link PageSequence} type parameters are marshalled to XML.
     */
    @Test
    public void getParameterMapMarshallsPageSequenceParameters() {
        final PageSequence ps = new PageSequence();

        Page page = new Page();
        page.setMethod("GET");
        page.setHttpVersion("1.1");
        page.setScheme("http");
        page.setHost("${ipaddr}");
        page.setDisableSslVerification("true");
        page.setPort(7080);
        page.setPath("/Login.do");
        page.setSuccessMatch("w00t");
        page.setResponseRange("100-399");
        ps.addPage(page);

        Parameter paramWithPageSequenceValue = new Parameter();
        paramWithPageSequenceValue.setKey("psm");
        paramWithPageSequenceValue.setAnyObject(ps);

        Service svc = new Service();
        svc.setParameters(Lists.newArrayList(paramWithPageSequenceValue));
        Map<String, Object> params = DefaultPollerBackEnd.getParameterMap(svc);

        PageSequence unmarshalledPs = JaxbUtils.unmarshal(PageSequence.class, (String)params.get("psm"));
        assertEquals(ps, unmarshalledPs);
    }

