    private void parseJavaMailProperties(final MailTransportParameters mailParms) {
        final ReadmailTest readTest = mailParms.getReadTest();

        List<JavamailProperty> propertyList = new ArrayList<JavamailProperty>();
        if (readTest != null) {
            propertyList = readTest.getJavamailProperties();
        }

        final SendmailTest sendTest = mailParms.getSendTest();
        if (sendTest != null) {
            final List<JavamailProperty> sendTestProperties = sendTest.getJavamailPropertyCollection();
            propertyList.addAll(sendTestProperties);
        }

        final Properties props = mailParms.getJavamailProperties();
        for (final JavamailProperty property : propertyList) {
            props.setProperty(property.getName(), property.getValue());
        }

        mailParms.setJavamailProperties(props);
    }

