    public static Map<String, Object> getSubstitutedParameters(final MonitoredService svc, Map<String, Object> parameters) {
        Map<String, Object> subbedParams = new HashMap<>();
        parameters.forEach((k, v) -> {
            Matcher m = substitutionPattern.matcher(v.toString());
            if (m.matches()) {
                subbedParams.put("subbed-" + k, parseString(v.toString(), m, svc));
            } else if (LOOKS_LIKE_SUBSTITUTION.matcher(v.toString()).matches()){
                LOG.error("unknown substitution found: {}. Possible substitutions: {}", v.toString(), substitutionPattern.toString());
            }
        });
        return subbedParams;
    }

