    // starts an echo server that waits for connections
    // -> can be started using maven by using the command below
    // -> the `exec.args` command parameter contains a space separated list of supported protocols
    //
    // mvn -pl features/poller/monitors/core -Dexec.args="TLSv1.1 TLSv1.2 TLSv1.3" -Dexec.mainClass=org.opennms.netmgt.poller.monitors.TlsTest -Dexec.classpathScope=test test-compile exec:java
    public static void main(String[] args) throws Exception {
        String[] supportedProtocols;
        if (args.length != 0) {
            supportedProtocols = args;
        } else {
            supportedProtocols = new String[]{"TLSv1.3"};
        }
        TestServerSocketFactory.SUPPORTED_PROTOCOLS = supportedProtocols;
        ServerSocket serverSocket = TEST_SERVER_SOCKET_FACTORY.createServerSocket(PORT);
        System.out.println("server started");
        System.out.println("supported protocols: " + String.join(", ", supportedProtocols));
        while (true) {
            try {
                acceptAndHandle(serverSocket, true);
            } catch (Exception e) {
                e.printStackTrace();
            }
        }
    }

