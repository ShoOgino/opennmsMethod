    public static List<InetSocketAddress> toSocketAddresses(String commaSeparatedAddressesWithPorts) {
        final String servers[] = commaSeparatedAddressesWithPorts.split(",");
        return Arrays.stream(servers)
                .map(s -> {
                    String parts[] = s.split(":");
                    if (parts.length > 1) {
                        return SocketUtils.socketAddress(parts[0].trim(), Integer.parseInt(parts[1].trim()));
                    } else {
                        return SocketUtils.socketAddress(parts[0].trim(),53);
                    }
                })
                .collect(Collectors.toList());
    }

