    public DnsServerAddressStreamProvider getNameServerProvider() {
        if (Strings.isNullOrEmpty(nameservers)) {
            // Use the platform default
            return DnsServerAddressStreamProviders.platformDefault();
        }
        final String servers[] = nameservers.split(",");
        return new SequentialDnsServerAddressStreamProvider(Arrays.stream(servers)
                .map(s -> {
                    String parts[] = s.split(":");
                    if (parts.length > 1) {
                        return SocketUtils.socketAddress(parts[0], Integer.parseInt(parts[1]));
                    } else {
                        return SocketUtils.socketAddress(parts[0],53);
                    }
                })
                .toArray(InetSocketAddress[]::new));
    }

