    private void testForNumericAttribute(String resourceId, String name, Double expectedValue) throws StorageException {

        List<Metric> metrics = timeseriesStorageManager.get().getMetrics(Arrays.asList(
                new ImmutableTag(CommonTagNames.resourceId, resourceId),
                new ImmutableTag(CommonTagNames.name, name)));
        assertEquals(1, metrics.size());

        TimeSeriesFetchRequest request = ImmutableTimeSeriesFetchRequest.builder()
                .aggregation(Aggregation.NONE)
                .start(Instant.ofEpochMilli(0))
                .end(Instant.now())
                .step(Duration.ofSeconds(1))
                .metric(metrics.get(0)).build();

        List<Sample> sample = timeseriesStorageManager.get().getTimeseries(request);
        assertEquals(1, sample.size());
        assertEquals(expectedValue, sample.get(0).getValue());

    }

