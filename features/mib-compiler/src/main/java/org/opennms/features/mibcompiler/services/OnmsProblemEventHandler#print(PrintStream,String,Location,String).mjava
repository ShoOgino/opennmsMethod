    /**
     * Prints the error message.
     *
     * @param stream the stream
     * @param severity the severity
     * @param location the location
     * @param localizedMessage the localized message
     */
    private void print(final PrintStream stream, final String severity, final Location location, final String localizedMessage) {
        LOG.debug("[{}] Location: {}, Message: {}", severity, location, localizedMessage);
        int n = localizedMessage.indexOf(getPrefix());
        if (n > 0) {
            final String source = localizedMessage.substring(n).replaceAll(getPrefix(), "");
            final String mibFromSource = getMibFromSource(source);

            final String message;

            if (mibFromSource == null) {
                message = localizedMessage;
            } else {
                message = localizedMessage.substring(0, n) + getMibFromSource(source);
            }

            processMessage(stream, severity, source, message);
        } else {
            if (location == null) {
                stream.println(severity + ": " + localizedMessage);
            } else {
                final String source = location.toString().replaceAll(getPrefix(), "");
                final String message = localizedMessage;
                processMessage(stream, severity, source, message);
            }
        }
    }

