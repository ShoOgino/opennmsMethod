    private <T> EnrichmentGraphBuilder property(final GenericElement element, final String name, final T value, Supplier<Map<String, Object>> enrichedPropertiesMapSupplier) {
        Objects.requireNonNull(element);
        Objects.requireNonNull(name);
        Objects.requireNonNull(value);
        if (element.getProperty(name) != null) {
            throw new IllegalArgumentException(
                    String.format("Cannot change existing property on '%s' graph element with id '%s'", element.getClass().getSimpleName(), element.getId()));
        }
        final Map<String, Object> enrichedProperties = enrichedPropertiesMapSupplier.get();
        if (enrichedProperties != null) {
            enrichedProperties.put(name, value);
        }
        return this;
    }

