    @Test
    public void shouldResolveVerticesWithNodeRef() {
        final NodeRef nodeRef = NodeRef.from("test:node1");
        final String namespace = "dummy";
        final GenericGraph graph = GenericGraph.builder().namespace(namespace)
                .addVertex(GenericVertex.builder().namespace(namespace).id("v1").nodeRef("test", "node1").build())
                .addVertex(GenericVertex.builder().namespace(namespace).id("v2").nodeRef("test", "node1").build())
                .addVertex(GenericVertex.builder().namespace(namespace).id("v3").build())
                .build();
        final List<GenericVertex> vertices = graph.resolveVertices(nodeRef);
        assertThat(vertices, Matchers.hasSize(2));
        assertThat(vertices, Matchers.hasItems(graph.getVertex("v1"), graph.getVertex("v2")));

        final GenericGraph emptyGraph = GenericGraph.builder().namespace(namespace).build();
        assertThat(emptyGraph.resolveVertices(nodeRef), Matchers.hasSize(0));
    }

