    private List<OnmsNode> loadNodes(final List<NodeRef> nodeRefs) {
        final List<Integer> nodeIds = nodeRefs.stream().map(n -> n.getNodeId()).filter(id -> id != null).collect(Collectors.toList());
        final List<String> foreignSources = nodeRefs.stream().map(n -> n.getForeignSource()).filter(fs -> fs != null).distinct().collect(Collectors.toList());
        final List<String> foreignIds = nodeRefs.stream().map(n -> n.getForeignId()).filter(fid -> fid != null).distinct().collect(Collectors.toList());
        final List<OnmsNode> nodes = new NodeQuery().execute(nodeIds, foreignSources, foreignIds);
        return nodes;
    }

