    @Override
    public void enrich(EnrichmentGraphBuilder graphBuilder) {
        final List<NodeRef> nodeRefs = graphBuilder.getVertices().stream().map(GenericVertex::getNodeRef).filter(Objects::nonNull).collect(Collectors.toList());
        final Map<NodeRef, StatusInfo> statusInfos = nodeService.resolveStatus(nodeRefs);
        for (Map.Entry<NodeRef, StatusInfo> eachEntry : statusInfos.entrySet()) {
            graphBuilder.resolveVertices(eachEntry.getKey())
                .forEach(vertex -> graphBuilder.property(vertex, EnrichedProperties.STATUS, eachEntry.getValue()));
        }
    }

