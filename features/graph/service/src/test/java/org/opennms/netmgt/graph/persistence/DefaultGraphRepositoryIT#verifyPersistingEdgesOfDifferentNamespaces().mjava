    @Test
    public void verifyPersistingEdgesOfDifferentNamespaces() {
        final String namespace = "test-namespace";
        final String containerId = "test-container-id";
        final SimpleDomainGraph graph = SimpleDomainGraph.builder()
                .namespace(namespace)
                .addVertex(SimpleDomainVertex.builder().namespace(namespace).id("v1").build())
                .addEdge(SimpleDomainEdge.builder()
                        .namespace(namespace)
                        .id("e1")
                        .source(namespace, "v1")
                        .target("other", "o1").build())
                .build();
        final SimpleDomainGraphContainer container = SimpleDomainGraphContainer.builder()
                .id(containerId)
                .addGraph(graph)
                .build();
        graphRepository.save(container);

        // Verify that only one of each was persisted
        assertThat(persistenceAccessor.findAll(GraphContainerEntity.class), Matchers.hasSize(1));
        assertThat(persistenceAccessor.findAll(VertexEntity.class), Matchers.hasSize(1));
        assertThat(persistenceAccessor.findAll(EdgeEntity.class), Matchers.hasSize(1));

        // Verify persisted properly
        final GenericGraphContainer genericGraphContainer = graphRepository.findContainerById(containerId);
        assertEquals(container, SimpleDomainGraphContainer.from(genericGraphContainer));
    }

