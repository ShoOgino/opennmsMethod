    public synchronized void addApplicationFactory(ApplicationFactory applicationFactory) {
        Objects.requireNonNull(applicationFactory);
        Objects.requireNonNull(applicationFactory.getUIClass());
        final Class<? extends UI> uiClass = applicationFactory.getUIClass();
        factories.put(uiClass.getCanonicalName(), applicationFactory);
    }

