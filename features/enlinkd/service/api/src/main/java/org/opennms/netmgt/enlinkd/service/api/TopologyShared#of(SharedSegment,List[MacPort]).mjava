    public static TopologyShared   of(SharedSegment shs, List<MacPort> macPortsOnSegment) throws BridgeTopologyException {
        TopologyShared tps = new TopologyShared(new ArrayList<BridgePort>(shs.getBridgePortsOnSegment()), 
                                                macPortsOnSegment, shs.getDesignatedPort());
        

        final Set<String>  noPortMacs = new HashSet<String>(shs.getMacsOnSegment());
        macPortsOnSegment.stream().forEach(mp -> noPortMacs.removeAll(mp.getMacPortMap().keySet()));
        
        if (noPortMacs.size() >0) {
            tps.setCloud(MacCloud.create(noPortMacs));
        }
        return tps;
    }

