    private void persistBMLink(OnmsNode bridge, Integer port, Integer vlanid, OnmsNode host, Integer hostPort, OnmsNode gateway) {
        String mac=macGenerator.next();
        InetAddress ip= inetGenerator.next();
        if (hostPort != null) {
            OnmsSnmpInterface snmpInterface = createSnmpInterface(hostPort, host);
            context.getTopologyPersister().persist(
                   createSnmpInterface(port, bridge),
                   snmpInterface
               );
            OnmsIpInterface ipInterface = createIpInterface(snmpInterface, ip);
            context.getTopologyPersister().persist(ipInterface);
        } else {
            context.getTopologyPersister().persist(createSnmpInterface(port, bridge));
            OnmsIpInterface ipInterface = createIpInterface(null,ip);
            ipInterface.setNode(host);
            context.getTopologyPersister().persist(ipInterface);
        }
        context.getTopologyPersister().persist(
                   createIpNetToMedia(host, hostPort, mac, ip, gateway)
                );
        context.getTopologyPersister().persist(
                   createBridgeMacLink(bridge, port, vlanid, mac)
               );
    }

