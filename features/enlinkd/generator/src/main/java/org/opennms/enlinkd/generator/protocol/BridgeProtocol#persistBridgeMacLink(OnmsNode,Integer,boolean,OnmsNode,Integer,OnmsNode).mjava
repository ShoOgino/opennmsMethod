    private void persistBridgeMacLink(OnmsNode bridge, Integer port, boolean createsnmpinterface, OnmsNode host, Integer hostPort, OnmsNode gateway) {
        String mac=macGenerator.next();
        InetAddress ip= inetGenerator.next();
        if (createsnmpinterface) {
            context.getTopologyPersister().persist(
                    createSnmpInterface(port, bridge)
            );
        }
        if (hostPort != null) {
            OnmsSnmpInterface snmpInterface = createSnmpInterface(hostPort, host);
            context.getTopologyPersister().persist(
                    snmpInterface
            );
            OnmsIpInterface ipInterface = createIpInterface(snmpInterface, ip);
            context.getTopologyPersister().persist(ipInterface);
        } else {
            OnmsIpInterface ipInterface = createIpInterface(null,ip);
            ipInterface.setNode(host);
            context.getTopologyPersister().persist(ipInterface);
        }
        context.getTopologyPersister().persist(
                createIpNetToMedia(host, hostPort, mac, ip, gateway)
        );
        context.getTopologyPersister().persist(
                createBridgeMacLink(bridge, port, mac)
        );
    }

