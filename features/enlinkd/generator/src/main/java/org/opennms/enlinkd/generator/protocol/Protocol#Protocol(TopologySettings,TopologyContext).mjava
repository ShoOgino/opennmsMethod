    public Protocol(TopologySettings topologySettings, TopologyContext context) {
        this.topologySettings = adoptAndVerifySettings(topologySettings);
        this.context = context;
    }

