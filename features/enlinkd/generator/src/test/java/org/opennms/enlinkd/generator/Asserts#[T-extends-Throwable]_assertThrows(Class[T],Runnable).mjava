    /**
     * Tests if the given Runnable threw the expected Throwable.
     */
    public static <T extends Throwable> void assertThrows(Class<T> expectedType, Runnable runnable) {
        try {
            runnable.run();
        } catch (Throwable t) {
            if (expectedType.isInstance(t)) {
                return; // thrown Exception is of expected type
            }
            fail("Expected Exception " + expectedType.getName());
        }
    }

