    @Override
    public void runDiscovery() {
        LOG.debug("run: start");
        OnmsTopology topo = getTopology();
        topo.getVertices().stream().forEach(vertex -> {
            try {
                m_linkd.getTopologyDao().update(this, OnmsTopologyMessage.update(vertex));
            } catch (OnmsTopologyException e) {
                LOG.error("update: cannot {}: {} {} {}", e.getMessageStatus(), e.getId(), e.getProtocol(),e.getMessage());
            }
        });
        topo.getEdges().stream().forEach(edge -> {
            try {
                m_linkd.getTopologyDao().update(this, OnmsTopologyMessage.update(edge));
            } catch (OnmsTopologyException e) {
                LOG.error("update: cannot {}: {} {} {}", e.getMessageStatus(), e.getId(), e.getProtocol(),e.getMessage());
            }
        });
        LOG.debug("run: end");
    }

