        public void checkBC(BroadcastDomain domain) throws BridgeTopologyException {
            assertEquals(5, domain.getBridgeNodesOnDomain().size());
            assertEquals(nodeBId, domain.getRootBridge().getNodeId().intValue());
            assertEquals(6, domain.getSharedSegments().size());
            assertEquals(4, domain.getSharedSegments(nodeBId).size());
            assertEquals(3, domain.getSharedSegments(nodeCId).size());
            for (Bridge bridge: domain.getBridges()) {
                if (bridge.isRootBridge()) {
                    assertEquals(nodeBId, bridge.getNodeId().intValue());
                    assertNull(bridge.getRootPort());
                } else {
                    switch (bridge.getNodeId().intValue()) {
                    case nodeCId:
                        assertNotNull(bridge.getRootPort());
                        break;
                    case nodeAId:
                        assertNull(bridge.getRootPort());
                        break;
                    case nodeDId:
                        assertNull(bridge.getRootPort());
                        break;
                    case nodeEId:
                        assertNull(bridge.getRootPort());
                        break;
                    default:
                        assertTrue(false);
                        break;

                    }
                }
            }
            for (SharedSegment segment: domain.getSharedSegments()) {
                assertNotNull(segment.getDesignatedBridge());
                assertNotNull(segment.getDesignatedPort());
                switch (segment.getDesignatedBridge().intValue()) {
                case nodeBId:
                    checkBcalcBC(segment);
                    break;
                case nodeCId:
                    checkCcalcBC(segment);
                    break;

                default:
                    assertTrue(false);
                    break;
                }
                for (BridgeMacLink bridgeMacLink : SharedSegment.getBridgeMacLinks(segment)) {
                    assertNotNull(bridgeMacLink.getBridgePort());
                    assertNotNull(bridgeMacLink.getBridgePortIfIndex());
                    assertNotNull(bridgeMacLink.getMacAddress());
                    assertEquals(BridgeMacLinkType.BRIDGE_LINK, bridgeMacLink.getLinkType());
               }
            }
        }

