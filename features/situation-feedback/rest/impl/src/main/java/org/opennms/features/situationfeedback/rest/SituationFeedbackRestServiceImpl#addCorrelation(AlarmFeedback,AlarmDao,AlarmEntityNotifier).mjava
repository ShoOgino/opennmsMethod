    protected static void addCorrelation(AlarmFeedback feedback, AlarmDao alarmDao, AlarmEntityNotifier alarmEntityNotifier) {
        OnmsAlarm situation = alarmDao.findByReductionKey(feedback.getSituationKey());
        OnmsAlarm alarm = alarmDao.findByReductionKey(feedback.getAlarmKey());
        if (situation == null || alarm == null) {
            return;
        }
        Set<OnmsAlarm> previousRelatedAlarms = situation.getRelatedAlarms();
        LOG.debug("adding alarm {} to situation {}.", alarm, situation);
        situation.addRelatedAlarm(alarm);
        alarmDao.saveOrUpdate(situation);
        LOG.debug("added alarm {} to situation {}.", alarm, situation);
        // Update AlarmChangeNotifier
        alarmEntityNotifier.didUpdateRelatedAlarms(situation, previousRelatedAlarms);
    }

