    @Before
    public void setup() {
        // Create first alarm
        linkDownAlarmOnR1 = new OnmsAlarm();
        linkDownAlarmOnR1.setDistPoller(distPollerDao.whoami());
        linkDownAlarmOnR1.setCounter(1);
        linkDownAlarmOnR1.setUei("linkDown");
        linkDownAlarmOnR1.setReductionKey("linkDownAlarmOnR1");

        // Create second alarm
        linkDownAlarmOnR2 = new OnmsAlarm();
        linkDownAlarmOnR2.setDistPoller(distPollerDao.whoami());
        linkDownAlarmOnR2.setCounter(1);
        linkDownAlarmOnR2.setUei("linkDown");
        linkDownAlarmOnR2.setReductionKey("linkDownAlarmOnR2");

        alarmDao.save(linkDownAlarmOnR1);
        alarmDao.save(linkDownAlarmOnR2);

        // create a situation relating multiple alarms
        situation = new OnmsAlarm();
        situation.setDistPoller(distPollerDao.whoami());
        situation.setCounter(1);
        situation.setUei("cardDown");
        situation.setRelatedAlarms(new HashSet<>(Arrays.asList(linkDownAlarmOnR1, linkDownAlarmOnR2)));
        situation.setReductionKey("situation/reduction/key");

        alarmDao.saveOrUpdate(situation);
    }

