    public void parseMessage(String msg, int expectedCount, String status, String content, String encoding) {
        //Pattern MSG_PATTERN = Pattern.compile("(?s)^\\+CUSD:\\s+(\\d),\"(.*)(\"(,(\\d+))?\r)?$");
        Pattern MSG_PATTERN = Pattern.compile("(?s)^\\+CUSD:\\s+(\\d)(?:,\\s*\"([^\"]*))?(?:\",\\s*(\\d+))?(?:\"\r|\r)$");
        int STATUS_INDEX = 1;
        int CONTENT_INDEX = 2;
        int ENCODING_INDEX = 3;
        
        Matcher matcher = MSG_PATTERN.matcher(msg);
        assertTrue(matcher.matches());
        //assertEquals(expectedCount, matcher.groupCount());
        
        assertEquals(status, group(matcher, STATUS_INDEX));
        assertEquals(content, group(matcher, CONTENT_INDEX));
        assertEquals(encoding, group(matcher, ENCODING_INDEX));

    }

