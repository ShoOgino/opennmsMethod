    /**
     * <p>_configureSmsService</p>
     *
     * @param intp a {@link org.eclipse.osgi.framework.console.CommandInterpreter} object.
     * @return a {@link java.lang.Object} object.
     */
    public Object _configureSmsService(CommandInterpreter intp) {

        try {

            String id = intp.nextArgument();
            String port = intp.nextArgument();
            String baudRate = intp.nextArgument();
            String manufacturer = intp.nextArgument();
            String model = intp.nextArgument();
            String usage = intp.nextArgument();

            GatewayGroupImpl gatewayGroup = new GatewayGroupImpl();
            List<AGateway> gateways = new ArrayList<AGateway>();

            SerialModemGateway gateway = new SerialModemGateway("modem." + id, port, new Integer(baudRate), manufacturer, model);
            gateway.setProtocol(Protocols.PDU);
            gateway.setInbound(true);
            gateway.setOutbound(true);
            gateway.setSimPin("0000");

            gateways.add(gateway);

            gatewayGroup.setGateways(gateways.toArray(new AGateway[0]));

            Properties properties = new Properties();
            properties.put("gatewayUsageType", usage);

            getBundleContext().registerService(GatewayGroup.class.getName(), gatewayGroup, properties);
        }
        catch(Throwable e) {
            intp.printStackTrace(e);
        }

        return null;
    }

