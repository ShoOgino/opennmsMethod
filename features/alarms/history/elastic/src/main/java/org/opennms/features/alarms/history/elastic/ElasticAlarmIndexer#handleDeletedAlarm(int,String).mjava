    @Override
    public synchronized void handleDeletedAlarm(int alarmId, String reductionKey) {
        LOG.debug("Got delete callback for alarm with id: {} and reduction key: {}",
                alarmId, reductionKey);
        final AlarmDocumentDTO alarmDocument = documentFactory.createAlarmDocumentForDelete(alarmId, reductionKey);
        alarmDocumentsToIndex.add(alarmDocument);
        if (alarmDocumentsToIndex.size() >= batchSize) {
            flushDocumentsToIndexToTaskQueue();
        }
        stateTracker.trackDeletedAlarm(alarmId, reductionKey);
    }

