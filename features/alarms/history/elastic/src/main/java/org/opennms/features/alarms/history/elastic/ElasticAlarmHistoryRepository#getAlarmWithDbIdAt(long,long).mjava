    @Override
    public Optional<AlarmState> getAlarmWithDbIdAt(long id, long time) {
        final TimeRange timeRange = getTimeRange(time);
        return findAlarms(queryProvider.getAlarmByDbIdAt(id, timeRange), timeRange)
                .stream().findFirst().map(a -> a);
    }

