    @Override
    public Optional<AlarmState> getAlarmWithReductionKeyIdAt(String reductionKey, long time) {
        final TimeRange timeRange = getTimeRange(time);
        return findAlarms(queryProvider.getAlarmByReductionKeyAt(reductionKey, timeRange), timeRange)
                .stream().findFirst().map(a -> a);
    }

