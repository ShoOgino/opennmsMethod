    @Override
    public AlarmState getAlarm(String alarmId, String matchType, Long time) {
        long timestampInMillis = time == null ? System.currentTimeMillis() : time;
        if ("alarm-id".equals(matchType)) {
            return alarmHistoryRepository.getAlarmWithDbIdAt(Integer.valueOf(alarmId), timestampInMillis);
        }
        return alarmHistoryRepository.getAlarmWithReductionKeyIdAt(alarmId, timestampInMillis);
    }

