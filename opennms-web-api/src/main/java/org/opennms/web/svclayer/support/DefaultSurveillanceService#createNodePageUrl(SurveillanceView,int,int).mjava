    /*
     * This creates a relative url to the node list page and sets the category
     * parameters to show the categories for this cell.
     * FIXME: this code should move to the jsp after the status table is
     * enhanced to support this requirement.
     */
    private String createNodePageUrl(final SurveillanceView view, final int colIndex, final int rowIndex) {
    	Set<OnmsCategory> columns = Collections.emptySet();
    	Set<OnmsCategory> rows    = Collections.emptySet();

    	try {
    		columns = view.getCategoriesForColumn(colIndex); 
    	} catch (final ObjectRetrievalFailureException e) {
    		LOG.warn("An error occurred while getting categories for view {}, column {}", view, colIndex);
    	}

    	try {
    		rows = view.getCategoriesForRow(rowIndex);
    	} catch (final ObjectRetrievalFailureException e) {
    		LOG.warn("An error occurred while getting categories for view {}, row {}", view, rowIndex);
    	}

    	final List<String> params = new ArrayList<String>(columns.size() + rows.size());
        for (final OnmsCategory category : columns) {
            params.add("category1=" + Util.encode(category.getName()));
        }
        for (final OnmsCategory category : rows) {
            params.add("category2=" + Util.encode(category.getName()));
        }
        params.add("nodesWithDownAggregateStatus=true");
        return "element/nodeList.htm?" + StringUtils.collectionToDelimitedString(params, "&");
    }

