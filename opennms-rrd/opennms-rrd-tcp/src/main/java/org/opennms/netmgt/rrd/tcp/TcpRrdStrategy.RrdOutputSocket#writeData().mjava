        public void writeData() throws Exception {
            Socket socket = null;
            try {
                socket = new Socket(InetAddress.getByName(m_host), m_port);
                OutputStream out = socket.getOutputStream();
                m_messages.build().writeTo(out);
                // out = new FileOutputStream(new File("/tmp/testdata.protobuf"));
                // m_messages.build().writeTo(out);
                out.flush();
            } catch (Throwable e) {
                ThreadCategory.getInstance(this.getClass()).warn("Error when trying to open connection to " + m_host + ":" + m_port + ", dropping " + m_messages.getMessageCount() + " performance messages: " + e.getMessage());
            } finally {
                if (socket != null) {
                    socket.close();
                }
            }
        }
