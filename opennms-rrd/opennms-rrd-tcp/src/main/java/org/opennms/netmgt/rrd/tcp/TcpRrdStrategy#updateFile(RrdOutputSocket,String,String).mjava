    public void updateFile(RrdOutputSocket rrd, String owner, String data) throws Exception {
        Socket s = null;
        String statusResponse = null;
        OutputStream out = null;
        try {
            RrdOutputSocket output = ((RrdOutputSocket)rrd);
            RrdMessageProtos.RrdMessage.Builder record = RrdMessageProtos.RrdMessage.newBuilder();
            record.setPath(output.getPath());
            record.setOwner(owner);
            record.setData(data);
            
            RrdMessageProtos.RrdMessages.Builder records = RrdMessageProtos.RrdMessages.newBuilder();
            records.addMessage(record.build());
            
            out = output.getOutputStream();
            records.build().writeTo(out);
            out.flush();
        } catch (Throwable e) {
            System.out.println(e.getMessage());
        } finally {
            if (out != null) {
                out.close();
            }
        }
    }

