    /**
     * The 'closes' the rrd file. This is where the actual work of writing the
     * RRD files takes place. The passed in rrd is actually an rrd command
     * string containing updates. This method executes this command.
     */
    public void closeFile(StringBuffer rrd) throws Exception {
        checkState("closeFile");
        log().debug("Executing: rrdtool "+rrd.toString());
        String[] results = Interface.launch(rrd.toString());
        if (results[0] != null) {
            throw new Exception(results[0]);
        }
    }

