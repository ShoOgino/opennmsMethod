    public void save(OnmsNode node) {
        if (node.getId() != null)
            throw new IllegalArgumentException("Cannot save a node that already has a nodeid");
        
        node.setId(allocateId());
        getNodeSaver().doInsert(node);
        cascadeSaveAssociations(node);
    }

