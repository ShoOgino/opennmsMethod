    /*
     * Send Ackd Notification Event for the ALARM
     * AckAction is CLEAR
     * this will led clear the alarm
     * and ack the notif 
     */
    @Test
    public void testHandleEventClear() throws InterruptedException {
        
        VerificationObject vo = createAckStructure();
        assertEquals(OnmsSeverity.MAJOR.getId(), vo.m_alarmSeverity);
        EventBuilder bldr = new EventBuilder(EventConstants.ACKNOWLEDGE_EVENT_UEI, "AckdTest");
        bldr.addParam("ackType", String.valueOf(AckType.ALARM));
        bldr.addParam("ackAction", String.valueOf(AckAction.CLEAR));
        bldr.addParam("refId", vo.m_alarmId);
        final String user = "ackd-test-user";
        bldr.addParam("ackUser", user);

        m_daemon.handleAckEvent(ImmutableMapper.fromMutableEvent(bldr.getEvent()));
        
        OnmsNotification notif = m_notificationDao.get(vo.m_notifId);
        Assert.assertEquals(notif.getAckUser(), user);
//        Assert.assertEquals(notif.getAckTime(), bldr.getEvent().getTime());
        
        OnmsAlarm alarm = m_alarmDao.get(vo.m_alarmId);
        Assert.assertEquals(alarm.getAckUser(), null);
        Assert.assertEquals(OnmsSeverity.CLEARED.getId(), alarm.getSeverityId().intValue());
//        Assert.assertEquals(alarm.getAckTime(), bldr.getEvent().getTime());
    }

