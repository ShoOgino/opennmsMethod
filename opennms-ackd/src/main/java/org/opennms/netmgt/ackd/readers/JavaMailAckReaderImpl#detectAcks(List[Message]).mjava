    protected Collection<OnmsAcknowledgment> detectAcks(List<Message> msgs) {
        Collection<OnmsAcknowledgment> acks = null;
        
        if (msgs != null) {
            acks = new ArrayList<OnmsAcknowledgment>();
            for (Message msg : msgs) {
                try {
                    Integer id = detectId(msg.getSubject(), m_daemonConfigDao.getConfig().getNotifyidMatchExpression());
                    
                    if (id.intValue() > 0) {
                        final OnmsAcknowledgment ack = createAcknowledgment(msg, id);
                        ack.setAckType(AckType.NOTIFICATION);
                        acks.add(ack);
                        continue;
                    }
                    
                    id = detectId(msg.getSubject(), m_daemonConfigDao.getConfig().getAlarmidMatchExpression());
                    
                    if (id.intValue() > 0) {
                        final OnmsAcknowledgment ack = createAcknowledgment(msg, id);
                        ack.setAckType(AckType.ALARM);
                        acks.add(ack);
                        continue;
                    }
                    
                } catch (MessagingException e) {
                    //FIXME: do something audit like here
                    continue;
                } catch (IOException e) {
                    // FIXME: ditto
                    continue;
                }
            }
        }
        return acks;
    }

