    /**
     * Stops the current receiver. If the receiver was never started then an
     * exception is thrown.
     *
     * @throws java.lang.IllegalStateException
     *             Thrown if the receiver was never started.
     */
    public final synchronized void stop() {
        if (m_worker == null) {
            throw new IllegalStateException("The Fiber has not been started");
        }

        if (m_worker.isAlive()) {
            if (m_status != STOPPED) {
                m_status = STOP_PENDING;
            }
            m_worker.interrupt();
        } else {
            m_status = STOPPED;
        }
    }

