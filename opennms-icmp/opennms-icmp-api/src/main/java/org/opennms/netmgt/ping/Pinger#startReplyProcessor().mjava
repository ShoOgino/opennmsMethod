    private void startReplyProcessor() throws IOException {
        synchronized (Pinger.class) {
			if (worker == null) {
			    final FifoQueueImpl<Reply> queue = new FifoQueueImpl<Reply>();
				icmpSocket = new IcmpSocket();
                receiver = new ReplyReceiver(icmpSocket, queue, PingRequest.FILTER_ID);
                requestTracker = new RequestTracker(queue);
                receiver.start();
				
                worker = new Thread(new Runnable() {
                    public void run() {
                        for (;;) {
                            try {
                                Reply pong = requestTracker.getNextReply();
                                if (pong != null) {
                                    processReply(pong);
                                }
                                processTimeouts();
                            } catch (InterruptedException e) {
                                break;
                            }
                        }
                            
                            
                    }
                });
                worker.setDaemon(true);
                worker.start();
			}
			
		}
    }

