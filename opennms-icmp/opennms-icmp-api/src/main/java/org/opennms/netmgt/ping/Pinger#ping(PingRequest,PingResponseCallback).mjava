    public void ping(PingRequest request, PingResponseCallback cb) {
        synchronized(waiting) {
            waiting.put(request.getTid(), request);
            request.sendRequest(icmpSocket);
        }
    }

