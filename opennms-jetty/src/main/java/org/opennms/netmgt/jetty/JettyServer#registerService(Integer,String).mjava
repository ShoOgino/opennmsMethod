    /**
     * <p>registerService</p>
     *
     * @param port a {@link java.lang.Integer} object.
     * @param contextPath a {@link java.lang.String} object.
     */
    protected void registerService(Integer port, String contextPath) {
        String contextName = contextPath.replace("/", "");

        try {
            ServiceRegistrationStrategy srs = ServiceRegistrationFactory.getStrategy();
            String host = InetAddress.getLocalHost().getHostName().replace(".local", "").replace(".", "-");
            Map<String, String> properties = new ConcurrentHashMap<String, String>();
            properties.put("path", contextPath);
            
            srs.initialize("HTTP", contextName + "-" + host, port, properties);
            services.put(contextName, srs);
        } catch (Throwable e) {
            log().warn("unable to get a DNS-SD object for context '" + contextPath + "'", e);
        }
    }

