    @Transient
    @XmlTransient
    public Integer getAffectedNodeCount() {
        if (m_relatedAlarms == null || m_relatedAlarms.isEmpty()) {
            return m_node == null ? 0 : 1;
        }
        Set<Integer> nodes = m_relatedAlarms.stream().map(OnmsAlarm::getNode).filter(Objects::nonNull).map(OnmsNode::getId).collect(Collectors.toSet());
        // count the Situtation's node if it is different
        if (m_node != null) {
            nodes.add(m_node.getId());
        }
        return nodes.size();
    }

