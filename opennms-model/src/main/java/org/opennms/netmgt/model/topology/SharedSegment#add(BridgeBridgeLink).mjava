    public void add(BridgeBridgeLink dlink) {
        if (m_portsOnSegment.isEmpty()) {
            m_portsOnSegment.add(dlink);
            return;
        } 
        BridgeBridgeLink first= m_portsOnSegment.iterator().next();
        if (first.getDesignatedNode().getId().intValue() == dlink.getDesignatedNode().getId().intValue()) {
            m_portsOnSegment.add(dlink);
            return;
        }
        if (first.getDesignatedNode().getId().intValue() == dlink.getNode().getId().intValue()) {
            m_portsOnSegment.add(dlink.getReverseBridgeBridgeLink());
            return;
        }
        
        BridgeBridgeLink x = new BridgeBridgeLink();

        x.setNode(dlink.getNode());
        x.setBridgePort(dlink.getBridgePort());
        x.setBridgePortIfIndex(dlink.getBridgePortIfIndex());
        x.setBridgePortIfName(dlink.getBridgePortIfName());
        x.setVlan(dlink.getVlan());

        x.setDesignatedNode(first.getDesignatedNode());
        x.setDesignatedPort(first.getDesignatedPort());
        x.setDesignatedPortIfIndex(first.getDesignatedPortIfIndex());
        x.setDesignatedPortIfName(first.getDesignatedPortIfName());
        x.setVlan(first.getDesignatedVlan());
        
        m_portsOnSegment.add(x);
        
        BridgeBridgeLink y = new BridgeBridgeLink();
        x.setNode(dlink.getDesignatedNode());
        x.setBridgePort(dlink.getDesignatedPort());
        x.setBridgePortIfIndex(dlink.getDesignatedPortIfIndex());
        x.setBridgePortIfName(dlink.getDesignatedPortIfName());
        x.setVlan(dlink.getDesignatedVlan());
            
        y.setDesignatedNode(first.getDesignatedNode());
        y.setDesignatedPort(first.getDesignatedPort());
        y.setDesignatedPortIfIndex(first.getDesignatedPortIfIndex());
        y.setDesignatedPortIfName(first.getDesignatedPortIfName());
        y.setVlan(first.getDesignatedVlan());
        m_portsOnSegment.add(y);
    }

