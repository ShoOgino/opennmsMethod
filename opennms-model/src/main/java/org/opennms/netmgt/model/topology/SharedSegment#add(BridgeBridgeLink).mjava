    public void add(BridgeBridgeLink dlink) {
        if (m_bridgeportsOnLink.isEmpty()) {
            m_bridgeportsOnLink.add(dlink);
            return;
        } 
        BridgeBridgeLink first= m_bridgeportsOnLink.iterator().next();
        if (first.getNode().getId().intValue() == dlink.getNode().getId().intValue()) {
            m_bridgeportsOnLink.add(dlink);
            return;
        }

        BridgeBridgeLink x = new BridgeBridgeLink();
        x.setNode(first.getNode());
        x.setBridgePort(first.getBridgePort());
        x.setBridgePortIfIndex(first.getBridgePortIfIndex());
        x.setBridgePortIfName(first.getBridgePortIfName());
        x.setVlan(first.getVlan());
        
        x.setDesignatedNode(dlink.getNode());
        x.setDesignatedPort(dlink.getBridgePort());
        x.setDesignatedPortIfIndex(dlink.getBridgePortIfIndex());
        x.setDesignatedPortIfName(dlink.getBridgePortIfName());
        x.setDesignatedVlan(dlink.getVlan());
        m_bridgeportsOnLink.add(x);
        
        if (first.getNode().getId().intValue() != dlink.getDesignatedNode().getId().intValue()) {
            BridgeBridgeLink y = new BridgeBridgeLink();
            y.setNode(first.getNode());
            y.setBridgePort(first.getBridgePort());
            y.setBridgePortIfIndex(first.getBridgePortIfIndex());
            y.setBridgePortIfName(first.getBridgePortIfName());
            y.setVlan(first.getVlan());
            
            y.setDesignatedNode(dlink.getDesignatedNode());
            y.setDesignatedPort(dlink.getDesignatedPort());
            y.setDesignatedPortIfIndex(dlink.getDesignatedPortIfIndex());
            y.setDesignatedPortIfName(dlink.getDesignatedPortIfName());
            y.setDesignatedVlan(dlink.getDesignatedVlan());
            m_bridgeportsOnLink.add(y);
        }
    }

