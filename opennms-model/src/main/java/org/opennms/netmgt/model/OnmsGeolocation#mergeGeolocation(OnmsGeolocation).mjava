    public void mergeGeolocation(final OnmsGeolocation mergeWith) {
        if (mergeWith == null) {
            return;
        }

        // The address has changed, we must reset long/lat to have
        // the GeolocationProvisioningAdapter resolve it.
        boolean addressEqual = isAddressEqual(mergeWith);
        if (!addressEqual) {
            setLatitude(null);
            setLongitude(null);
        }

        // Update address
        setCity(mergeWith.getCity());
        setAddress1(mergeWith.getAddress1());
        setAddress2(mergeWith.getAddress2());
        setZip(mergeWith.getZip());
        setCountry(mergeWith.getCountry());
        setState(mergeWith.getState());

        // If there is long/lat defined, we use it no matter what.
        // This prevents resetting already resolved long/lat information
        // by the GeolocationProvisioningAdapter
        if (mergeWith.getLongitude() != null) {
            setLongitude(mergeWith.getLongitude());
        }
        if (mergeWith.getLatitude() != null) {
            setLatitude(mergeWith.getLatitude());
        }
    }

