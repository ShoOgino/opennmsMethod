    private void convertSegmentToLink() {
        Set<Integer> parsed = new HashSet<Integer>();
        BridgeMacLink first = m_bridgeportsOnSegment.iterator().next();
        parsed.add(first.getNode().getId());
        for (BridgeMacLink linkB: m_bridgeportsOnSegment) {
            if (parsed.contains(linkB.getNode().getId()))
                    continue;
            parsed.add(linkB.getNode().getId());

            BridgeBridgeLink dlink = new BridgeBridgeLink();
            dlink.setNode(first.getNode());
            dlink.setBridgePort(first.getBridgePort());
            dlink.setBridgePortIfIndex(first.getBridgePortIfIndex());
            dlink.setBridgePortIfName(first.getBridgePortIfName());
            dlink.setVlan(first.getVlan());
            
            dlink.setDesignatedNode(linkB.getNode());
            dlink.setDesignatedPort(linkB.getBridgePort());
            dlink.setDesignatedPortIfIndex(linkB.getBridgePortIfIndex());
            dlink.setDesignatedPortIfName(linkB.getBridgePortIfName());
            dlink.setDesignatedVlan(linkB.getVlan());
            
            m_bridgeportsOnLink.add(dlink);            
        }
        m_bridgeportsOnSegment.clear();
    }

