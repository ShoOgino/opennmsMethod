    private void convertSegmentToLink() {
        Set<Integer> parsed = new HashSet<Integer>();
        for (BridgeMacLink linkA: m_bridgeportsOnSegment) {
            if (parsed.contains(linkA.getNode().getId()))
                    continue;
            parsed.add(linkA.getNode().getId());
            for (BridgeMacLink linkB: m_bridgeportsOnSegment) {
                if (parsed.contains(linkB.getNode().getId()))
                        continue;
                parsed.add(linkB.getNode().getId());

                BridgeBridgeLink dlink = new BridgeBridgeLink();
                dlink.setNode(linkA.getNode());
                dlink.setBridgePort(linkA.getBridgePort());
                dlink.setBridgePortIfIndex(linkA.getBridgePortIfIndex());
                dlink.setBridgePortIfName(linkA.getBridgePortIfName());
                dlink.setVlan(linkA.getVlan());
                
                dlink.setDesignatedNode(linkB.getNode());
                dlink.setDesignatedPort(linkB.getBridgePort());
                dlink.setDesignatedPortIfIndex(linkB.getBridgePortIfIndex());
                dlink.setDesignatedPortIfName(linkB.getBridgePortIfName());
                dlink.setDesignatedVlan(linkB.getVlan());
                
                m_bridgeportsOnLink.add(dlink);
            }
            
        }
    }

