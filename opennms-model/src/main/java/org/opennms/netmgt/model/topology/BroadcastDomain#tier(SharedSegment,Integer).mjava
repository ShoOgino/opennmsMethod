    private void tier(SharedSegment segment, Integer rootid) {
        LOG.debug("tier: bridge: {}, port: {}",rootid,segment.getDesignatedPort());
        for (Integer bridgeid: segment.getBridgeIdsOnSegment()) {
            if (bridgeid.intValue() == rootid.intValue())
                continue;
            LOG.debug("tier: found bridge: {}",bridgeid);
            for (SharedSegment s2: getSharedSegmentOnTopologyForBridge(bridgeid)) {
                if (s2.getDesignatedBridge().intValue() == rootid.intValue())
                    continue;
                s2.setDesignatedBridge(bridgeid);
                tier(s2,bridgeid);
            }
        }
    }

