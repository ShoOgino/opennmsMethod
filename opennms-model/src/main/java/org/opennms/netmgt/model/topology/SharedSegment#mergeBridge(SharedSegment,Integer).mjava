    //   this=topSegment {tmac...} {(tbridge,tport)....}U{bridgeId, bridgeIdPortId} 
    //        |
    //     bridge Id
    //        |
    //      shared {smac....} {(sbridge,sport).....}U{bridgeId,bridgePort)
    //       | | |
    //       A B C
    //    move all the macs and port on shared
    //  ------> topSegment {tmac...}U{smac....} {(tbridge,tport)}U{(sbridge,sport).....}
    public void mergeBridge(SharedSegment shared, Integer bridgeId) {
        if (bridgeId == null)
            return;
    	Set<BridgePort> portsOnSegment = new HashSet<>();
        for (BridgePort bp: m_portsOnSegment) {
            //FIXME port should never be null
        	if ( bp == null || bp.getNode() == null ||
        	     bp.getNode().getId() == null ||  
        	        bp.getNode().getId().intValue() == bridgeId.intValue())
        		continue;
        	portsOnSegment.add(bp);
        }
        for (BridgePort port: shared.getBridgePortsOnSegment()) {
            //FIXME port should never be null
            if (port == null || port.getNode() == null ||
                    port.getNode().getId() == null
                    || port.getNode().getId().intValue() == bridgeId.intValue()) {
                continue;
            }
            portsOnSegment.add(port);
        }
        m_portsOnSegment = portsOnSegment;
    	m_macsOnSegment.addAll(shared.getMacsOnSegment());    	
    }

