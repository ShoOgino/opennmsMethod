    @Test
    public void testMarshalJson() throws IOException {
        final OnmsOutage outage = createOutage();
        final String outageString = JsonTest.marshalToJson(outage);

        JsonTest.assertJsonEquals(
                "{\"id\" : 1,\n" +
                "  \"monitoredService\" : {\n" +
                "    \"applications\" : [ {\n" +
                "      \"name\" : \"Dummy\",\n" +
                "      \"id\" : 100\n" +
                "    }, {\n" +
                "      \"name\" : \"Another Dummy\",\n" +
                "      \"id\" : 102\n" +
                "    } ],\n" +
                "    \"serviceType\" : {\n" +
                "      \"name\" : \"Webservices\",\n" +
                "      \"id\" : 1\n" +
                "    },\n" +
                "    \"lastGood\" : null,\n" +
                "    \"lastFail\" : null,\n" +
                "    \"qualifier\" : null,\n" +
                "    \"status\" : null,\n" +
                "    \"statusLong\" : null,\n" +
                "    \"source\" : null,\n" +
                "    \"notify\" : null,\n" +
                "    \"down\" : false,\n" +
                "    \"ipInterfaceId\" : 1,\n" +
                "    \"id\" : 1\n" +
                "  },\n" +
                "  \"ifLostService\" : null,\n" +
                "  \"serviceLostEvent\" : null,\n" +
                "  \"ifRegainedService\" : null,\n" +
                "  \"serviceRegainedEvent\" : null,\n" +
                "  \"suppressTime\" : null,\n" +
                "  \"suppressedBy\" : null,\n" +
                "  \"locationName\" : \"Default\",\n" +
                "  \"nodeId\" : 1,\n" +
                "  \"nodeLabel\" : \"Dummy Node 1\",\n" +
                "  \"ipAddress\" : \"127.0.0.1\",\n" +
                "  \"serviceId\" : 1\n" +
                "}\n", outageString);
    }

