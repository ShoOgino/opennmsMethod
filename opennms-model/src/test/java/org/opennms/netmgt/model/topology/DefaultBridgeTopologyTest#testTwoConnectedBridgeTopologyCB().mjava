	@Test
	public void testTwoConnectedBridgeTopologyCB() {
		ABCTopology topology = new ABCTopology();

        BridgeTopology bridgeTopology = new BridgeTopology();
        
        bridgeTopology.parseBFT(topology.nodeC,topology.bftC);
        bridgeTopology.parseBFT(topology.nodeB,topology.bftB);

        List<BridgeTopologyLink> links = bridgeTopology.getTopology();
        printBridgeTopologyLinks(links);
        assertEquals(4, links.size());
        for (BridgeTopologyLink link: links) {
        	if (link.getMacs().isEmpty()) {
        		assertEquals(topology.nodeC, link.getBridgeTopologyPort().getNodeid());
        		assertEquals(topology.portCB,link.getBridgeTopologyPort().getBridgePort());
        		assertEquals(topology.nodeB, link.getDesignateBridgePort().getNodeid());
        		assertEquals(topology.portBC,link.getDesignateBridgePort().getBridgePort());
    		} else if (link.getMacs().contains(topology.mac1)) {
        		assertEquals(1, link.getMacs().size());
        		assertEquals(topology.nodeB, link.getBridgeTopologyPort().getNodeid());
        		assertEquals(topology.portBA,link.getBridgeTopologyPort().getBridgePort());
        		assertEquals(null, link.getDesignateBridgePort());
       		} else if (link.getMacs().contains(topology.mac2)) {
        		assertEquals(1, link.getMacs().size());
        		assertEquals(topology.nodeB, link.getBridgeTopologyPort().getNodeid());
        		assertEquals(topology.portB,link.getBridgeTopologyPort().getBridgePort());
        		assertEquals(null, link.getDesignateBridgePort());
       		} else if (link.getMacs().contains(topology.mac3)) {
        		assertEquals(1, link.getMacs().size());
        		assertEquals(topology.nodeC, link.getBridgeTopologyPort().getNodeid());
        		assertEquals(topology.portC,link.getBridgeTopologyPort().getBridgePort());
        		assertEquals(null, link.getDesignateBridgePort());
    		} else {
    			assertEquals(false, true);
    		}
        }
	}

