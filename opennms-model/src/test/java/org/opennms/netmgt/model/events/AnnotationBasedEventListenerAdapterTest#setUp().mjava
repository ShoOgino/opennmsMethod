    /* (non-Javadoc)
     * @see junit.framework.TestCase#setUp()
     */
    @Before
    public void setUp() throws Exception {
        
        m_mockUtils = new EasyMockUtils();
        
        m_eventIpcMgr = m_mockUtils.createMock(EventSubscriptionService.class);

        m_annotatedListener = new AnnotatedListener();
        m_adapter = new AnnotationBasedEventListenerAdapter();
        m_adapter.setAnnotatedListener(m_annotatedListener);
        m_adapter.setEventSubscriptionService(m_eventIpcMgr);
        
        m_subscriptions = new HashSet<String>();
        
        Collections.addAll(m_subscriptions, 
                EventConstants.NODE_DOWN_EVENT_UEI, 
                EventConstants.ADD_NODE_EVENT_UEI,
                EventConstants.NODE_LOST_SERVICE_EVENT_UEI
                );
        
        m_eventIpcMgr.addEventListener(m_adapter, m_subscriptions);
    }

