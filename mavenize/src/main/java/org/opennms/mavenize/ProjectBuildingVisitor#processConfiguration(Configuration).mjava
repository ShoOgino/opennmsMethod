    private Xpp3Dom processConfiguration(Configuration configuration) {
        try {

            if (configuration == null) return null;
            if (configuration.getAnyObject() == null) return null;

            Xpp3Dom configDom = new Xpp3Dom("configuration");
            Xpp3Dom configContents = Xpp3DomBuilder.build(new StringReader(configuration.getAnyObject().toString()));
            configDom.addChild(configContents);
            return configDom;
            
        } catch (Exception e) {
            throw new RuntimeException("Unable to process plugin config. ", e);
        }
        
        
    }

