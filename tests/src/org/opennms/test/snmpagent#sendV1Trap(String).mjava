    /**
     * Sends a formatted message as SNMP V1 trap.
     *
     * @param genericType the generic type of the trap
     * @param specificType the specific type of the trap
     * @param message the formatted text to send
     * @exception Exception if an error occurs during the sending of the trap
     */
    public void sendV1Trap(String message)
            throws Exception {

        try {
            // Set SNMP version as V1
            SnmpPeer peer = m_session.getPeer();
            SnmpParameters parameters = peer.getParameters();
            parameters.setVersion(SnmpSMI.SNMPV1);

            // Create trap
            SnmpPduTrap trapPdu = new SnmpPduTrap();
            trapPdu.setAgentAddress(new SnmpIPAddress(InetAddress.getLocalHost().getAddress()));
            trapPdu.setGeneric(PARAM_GENERIC_TYPE);
            trapPdu.setSpecific(PARAM_SPECIFIC_TYPE);
            trapPdu.addVarBind(new SnmpVarBind(new SnmpObjectId(m_trapOid),
                    new SnmpOctetString(message.getBytes())));
			
            // Send trap
            m_session.send(trapPdu);

        } catch (Exception e) {
            System.out.println("SNMP send error");
        }
    }

