	/**
	 * The main routine. Basically a watchdog thread which is responsible
	 * for verifying that none of the server/client sockets are hung.
	 */
	public void run()
	{
		int count = 0;
		
		for (;;)
		{
			try
			{
				sleep(2000);
			}
			catch(InterruptedException ie)
			{
				throw new UndeclaredThrowableException(ie);
			}
						
			// Go through client list and verify that
			// none are hung by checking their read counts.
			boolean hungClient = false;
			synchronized(m_clients)
			{
				Iterator iter = m_clients.iterator();
				while (iter.hasNext())
				{
					Client clnt = (Client)iter.next();
					if (!clnt.statusOk())
					{
						System.out.println("SocketTest: client '" + clnt.getName() + "' appears to be hung!");
						hungClient = true;
						break;
					}
				}
			}
			
			count++;
			
			if ((count % 10 == 0) && !hungClient)
			{
				System.out.println("SocketTest: " + m_clients.size() + "  clients...status: ok.");
			}
		}
	}

