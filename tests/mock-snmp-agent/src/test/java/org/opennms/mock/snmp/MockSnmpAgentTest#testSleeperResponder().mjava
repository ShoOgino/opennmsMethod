    @Test
    public void testSleeperResponder() throws Exception {
        final String myOid = "1.3.5.1.1.11.0";

        // Verify that the sleeper responds correctly
        Sleeper.getInstance().setVariable(new Integer32(1));
        request(myOid).andExpect(myOid, SMIConstants.SYNTAX_INTEGER, new Integer32(1));
        doGet();

        // Set the timeout
        Sleeper.getInstance().setSleepTime(DEFAULT_TIMEOUT + 1000);

        // Make another request
        PDU pdu = createPDU(m_version);
        OID oid = new OID(myOid);
        pdu.add(new VariableBinding(oid));
        pdu.setType(PDU.GET);

        PDU response = sendRequest(pdu,m_version);
        // Verify that the request does in fact timeout
        assertNull("request timed out", response);

        // Clear the timeout
        Sleeper.getInstance().setSleepTime(0);

        // Update the variable
        Sleeper.getInstance().setVariable(new OctetString("Bingo!"));
        request(myOid).andExpect(myOid, SMIConstants.SYNTAX_OCTET_STRING, new OctetString("Bingo!"));
        doGet();
    }

