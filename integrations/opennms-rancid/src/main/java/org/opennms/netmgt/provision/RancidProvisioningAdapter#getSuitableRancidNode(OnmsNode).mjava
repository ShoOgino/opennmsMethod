    private RancidNode getSuitableRancidNode(OnmsNode node) {
        

        //The group should be the foreign source of the node

        String group = node.getForeignSource();

        if (group == null) return null;
        RancidNode r_node = new RancidNode(group, node.getLabel());

        String ipaddress = getSuitableIpForRancid(node.getId().intValue());
        if (m_rancidAdapterConfig.useCategories(ipaddress)) {
           r_node.setDeviceType(getTypeFromCategories(node)); 
        } else {
            r_node.setDeviceType(getTypeFromSysObjectId(node.getSysObjectId()));
        }
        r_node.setStateUp(false);
        r_node.setComment(RANCID_COMMENT);
        return r_node;

    }

