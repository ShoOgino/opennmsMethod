    public void doAdd(int nodeId, ConnectionProperties cp, boolean retry) throws ProvisioningAdapterException {
        log().debug("RANCID PROVISIONING ADAPTER CALLED addNode: nodeid: " + nodeId);
        try {
            OnmsNode node = m_nodeDao.get(nodeId);                                                                                                                                                                                            
            Assert.notNull(node, "Rancid Provisioning Adapter addNode method failed to return node for given nodeId:"+nodeId);
            
            RancidNode rNode = getSuitableRancidNode(node);
            
            if (m_onmsNodeRancidNodeMap.containsValue(rNode)) {
                log().warn("Rancid Provisioning Adapter: Error Duplicate node: " + node);
                ProvisioningAdapterException e = new ProvisioningAdapterException("Duplicate node has been provided: "+node); 
                sendAndThrow(nodeId, e);
                return;
            }

            rNode.setStateUp(true);

            RWSClientApi.createRWSRancidNode(cp, rNode);
            RWSClientApi.createOrUpdateRWSAuthNode(cp, rNode.getAuth());
            
            m_onmsNodeRancidNodeMap.put(Integer.valueOf(nodeId), rNode);
            
        } catch (ProvisioningAdapterException ae) {
                sendAndThrow(nodeId, ae);
        } catch (Exception e) {
            cp = getStandByRWSConnection();
            if (retry && cp != null) {
                log().info("Rancid Provisioning Adapter: retry Add on standByConn: " + cp.getUrl());
                doAdd(nodeId, cp, false);
            } else {
                sendAndThrow(nodeId, e);            
            }
        }
    }

