    public void addPrimaryServiceToNode(final int nodeId, final String serviceName){
        m_transactionTemplate.execute(new TransactionCallback<Object>() {
            
            @Override
            public Object doInTransaction(TransactionStatus status) {
                OnmsServiceType svcType = m_serviceTypeDao.findByName(serviceName);
                if(svcType == null){
                    svcType = new OnmsServiceType(serviceName);
                    m_serviceTypeDao.save(svcType);
                    m_serviceTypeDao.flush();
                }
                
                OnmsNode node = m_nodeDao.get(nodeId);
                
                OnmsIpInterface ipInterface = node.getPrimaryInterface();
                 
                OnmsMonitoredService svc = new OnmsMonitoredService();
                svc.setIpInterface(ipInterface);
                svc.setServiceType(svcType);
                m_monitoredServiceDao.save(svc);
                m_monitoredServiceDao.flush();
                
                return null;
            }
        });
        
        
        
    }

