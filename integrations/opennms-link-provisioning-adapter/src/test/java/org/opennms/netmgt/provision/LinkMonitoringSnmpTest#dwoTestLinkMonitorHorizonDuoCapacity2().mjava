    @Test
    public void dwoTestLinkMonitorHorizonDuoCapacity2() throws UnknownHostException {
        ClassPathResource resource = new ClassPathResource("/horizon_duo_walk.properties");
        m_snmpAgent.updateValuesFromResource(resource);
        
        m_snmpAgent.updateCounter32Value(HORIZON_DUO_MODEM_LOSS_OF_SIGNAL, 1);
        m_snmpAgent.updateCounter32Value(HORIZON_DUO_SYSTEM_CAPACITY, 2);
        
        ComplexEndPointStatusValidator complexValidator = new ComplexEndPointStatusValidator();
        complexValidator.checkAndStoreValue(HORIZON_DUO_SYSTEM_CAPACITY);
        complexValidator.verifyStatus(".1.3.6.1.4.1.7262.2.3.7.4.1.1.1.2.<storedValue>", matchValue("^1$"));
        
        LinkMonitor monitor = new LinkMonitor();
        monitor.addValidation(new EndPointServiceStatusValidator(HORIZON_DUO_MODEM_LOSS_OF_SIGNAL, matchValue("^1$")));
        monitor.addValidation(complexValidator);
        assertTrue("Status should up, but its not", monitor.isStatusUp(m_config));
        
        m_snmpAgent.updateCounter32Value(HORIZON_DUO_MODEM_LOSS_OF_SIGNAL, 2);
        assertFalse("Status should be down", monitor.isStatusUp(m_config));
    }

