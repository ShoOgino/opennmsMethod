    @Test
    public void dwoTestLinkMonitorHorizonDuoCapacity3() throws UnknownHostException {
        ClassPathResource resource = new ClassPathResource("/horizon_duo_walk.properties");
        m_snmpAgent.updateValuesFromResource(resource);
        
        m_snmpAgent.updateCounter32Value(HORIZON_DUO_MODEM_LOSS_OF_SIGNAL, 1);
        m_snmpAgent.updateCounter32Value(HORIZON_DUO_SYSTEM_CAPACITY, 3);
        
        EndPointStatusValidator complexValidator = horizonDuoComplexValidator();
        
        LinkStatusMonitor monitor = new LinkStatusMonitor();
        monitor.setEndPointValidator( and( match( m_agentConfig, HORIZON_DUO_MODEM_LOSS_OF_SIGNAL, "^1$" ), complexValidator));
        
        assertEquals(PollStatus.up(), monitor.poll(null, null));
        
        m_snmpAgent.updateCounter32Value(HORIZON_DUO_MODEM_LOSS_OF_SIGNAL, 2);
        assertEquals(PollStatus.down(), monitor.poll(null, null));
    }

