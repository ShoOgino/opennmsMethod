    @Test
    public void dwoDataLinkFailEventEndPoint2(){
        
        expect(m_nodeLinkService.getNodeId(END_POINT_1)).andStubReturn(1);
        expect(m_nodeLinkService.getNodeId(END_POINT_2)).andStubReturn(2);
        
        m_nodeLinkService.updateLinkStatus(1, 2, FAILED_STATUS);
        
        replay();
        
        EventBuilder eventBuilder = new EventBuilder("uei.opennms.org/internal/linkd/dataLinkFailed", null);
        eventBuilder.setParam("endPoint1", END_POINT_2);
        eventBuilder.setParam("endPoint2", END_POINT_1);
        eventBuilder.setCreationTime(new Date());
        eventBuilder.setDescription("nodeLinkFailed");
        
        m_adapter.setLinkMatchResolver(m_matchResolver);
        m_adapter.setNodeLinkService(m_nodeLinkService);
        m_adapter.dataLinkFailed(eventBuilder.getEvent());
        
        verify();
    }

