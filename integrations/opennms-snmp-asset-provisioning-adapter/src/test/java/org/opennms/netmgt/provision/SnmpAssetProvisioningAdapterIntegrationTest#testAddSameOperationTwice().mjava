	@Test
	@JUnitSnmpAgent(resource = "snmpAssetTestData.properties")
	public void testAddSameOperationTwice() throws InterruptedException {
		AdapterOperationChecker verifyOperations = new AdapterOperationChecker(2);
		m_adapter.getOperationQueue().addListener(verifyOperations);
		OnmsNode node = m_nodeDao.get(NODE_ID);
		assertNotNull(node);
		int firstNodeId = node.getId();

		m_adapter.addNode(firstNodeId);
		m_adapter.addNode(firstNodeId); // should get deduplicated
		m_adapter.updateNode(firstNodeId);

		assertTrue(verifyOperations.enqueueLatch.await(4, TimeUnit.SECONDS));
		assertTrue(verifyOperations.dequeueLatch.await(4, TimeUnit.SECONDS));
		assertTrue(verifyOperations.executeLatch.await(4, TimeUnit.SECONDS));
		assertEquals(0, m_adapter.getOperationQueue().getOperationQueueForNode(firstNodeId).size());

		node = m_nodeDao.get(firstNodeId);
		assertNotNull(node);
		System.out.println("ID: " + node.getAssetRecord().getId());
		System.out.println("Comment: " + node.getAssetRecord().getComment());
		assertNotNull("AssetRecord comment is null", node.getAssetRecord().getComment());
		assertEquals(EXPECTED_COMMENT_FIELD, node.getAssetRecord().getComment());
	}

