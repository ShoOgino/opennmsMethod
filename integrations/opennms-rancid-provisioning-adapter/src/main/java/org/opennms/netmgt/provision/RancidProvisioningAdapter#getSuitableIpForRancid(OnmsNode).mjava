    private String getSuitableIpForRancid(OnmsNode node){
        log().debug("getSuitableIpForRancid: node: " + node.getNodeId() + " Foreign Source: " + node.getForeignSource());
        OnmsIpInterface primaryInterface = node.getPrimaryInterface();
        String ipaddr = "127.0.0.1";
        if (primaryInterface == null) {
            log().debug("getSuitableIpForRancid: found null SNMP Primary Interface, getting interfaces");
            Set<OnmsIpInterface> ipInterfaces = node.getIpInterfaces();
            for (OnmsIpInterface onmsIpInterface : ipInterfaces) {
                log().debug("getSuitableIpForRancid: trying Interface with id: " + onmsIpInterface.getId());
                if (onmsIpInterface.getIpAddress() != null) {
                    ipaddr = str(onmsIpInterface.getIpAddress());
                } else { 
                    log().debug("getSuitableIpForRancid: found null ip address on Interface with id: " + onmsIpInterface.getId());
                }
            }
        } else {        
            log().debug("getSuitableIpForRancid: found SNMP Primary Interface");
            if (primaryInterface.getIpAddress() != null ) {
                ipaddr = str(primaryInterface.getIpAddress());
            } else {
                log().debug("getSuitableIpForRancid: found null ip address on Primary Interface");
            }
        }
        return ipaddr;
    }

