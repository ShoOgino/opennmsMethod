    private void saveVMwareGraphProperties() {
        final StringBuilder buffer = new StringBuilder();
        final StringBuilder include = new StringBuilder();
        HashMap<String, Boolean> generatedGraphs = new HashMap<String, Boolean>();

        for (String collectionName : collections.keySet()) {
            Map<String, TreeSet<VMwareConfigMetric>> collection = collections.get(collectionName);
            for (String groupName : collection.keySet()) {
                TreeSet<VMwareConfigMetric> metrics = collection.get(groupName);
                for (VMwareConfigMetric vmwarePerformanceMetric : metrics) {
                    Boolean generated = (generatedGraphs.get(vmwarePerformanceMetric.getAliasName()) == null ? false : generatedGraphs.get(vmwarePerformanceMetric.getAliasName()));

                    if (!generated) {
                        generatedGraphs.put(vmwarePerformanceMetric.getAliasName(), Boolean.TRUE);
                        buffer.append(vmwarePerformanceMetric.getGraphDefinition(apiVersion));
                        include.append(vmwarePerformanceMetric.getInclude(apiVersion));
                    }
                }
            }
        }
        final String content = include.toString();

        saveFile("vmware" + apiVersion + "-graph-simple.properties", "reports=" + content.subSequence(0, content.length() - 4) + "\n\n" + buffer.toString());
    }

