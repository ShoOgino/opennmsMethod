    @Test
    public void testVmwareCollectorDefaultWithCutomTimeout() throws Exception {
        final VmwareServer vmwareServer = new VmwareServer();
        vmwareServer.setHostname("hostname");
        vmwareServer.setUsername("username");
        vmwareServer.setPassword("password");

        final VmwareCollection vmwareCollection = new VmwareCollection();
        vmwareCollection.addVmwareGroup(new VmwareGroup());
        final HashMap<String, Object> parameters = new HashMap<>();
        parameters.put("vmwareServer", vmwareServer);
        parameters.put("vmwareCollection", vmwareCollection);
        parameters.put("timeout", new Integer(1500));

        try {
            new VmwareCollector().collect(collectionAgent, parameters);
        } catch (NullPointerException e) {
            // ignore NPE
        }

        Assert.assertEquals(1500, dummyServiceInstance.dummyReadTimeout);
        Assert.assertEquals(1500, dummyServiceInstance.dummyConnectTimeout);
    }

