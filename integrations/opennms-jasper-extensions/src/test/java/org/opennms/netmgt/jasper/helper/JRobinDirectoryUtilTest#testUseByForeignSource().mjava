    @Test
    public void testUseByForeignSource() throws FileNotFoundException, IOException {
        System.setProperty("org.opennms.rrd.fileExtension", ".jrb");
        System.setProperty("org.opennms.rrd.storeByForeignSource", "false");

        assertEquals("src/test/resources/share/rrd/snmp/9", JRobinDirectoryUtil.getNodeLevelResourceDirectory(JRB_DIRECTORY, NODE_ID, FOREIGN_SOURCE, FOREIGN_ID));
        assertEquals("ifInOctets", JRobinDirectoryUtil.getIfInOctetsDataSource(JRB_DIRECTORY, NODE_ID, FOREIGN_SOURCE, FOREIGN_ID, INTERFACE));
        assertEquals("ifOutOctets", JRobinDirectoryUtil.getIfOutOctetsDataSource(JRB_DIRECTORY, NODE_ID, FOREIGN_SOURCE, FOREIGN_ID, INTERFACE));
        assertEquals("src/test/resources/share/rrd/snmp/9/me1-0002baaacffe/mib2-interfaces.jrb", JRobinDirectoryUtil.getIfInOctetsJrb(JRB_DIRECTORY, NODE_ID, FOREIGN_SOURCE, FOREIGN_ID, INTERFACE));
        assertEquals("src/test/resources/share/rrd/snmp/9/me1-0002baaacffe/mib2-interfaces.jrb", JRobinDirectoryUtil.getIfOutOctetsJrb(JRB_DIRECTORY, NODE_ID, FOREIGN_SOURCE, FOREIGN_ID, INTERFACE));

        System.setProperty("org.opennms.rrd.storeByForeignSource", "true");
        assertEquals("src/test/resources/share/rrd/snmp/fs/Servers/S001", JRobinDirectoryUtil.getNodeLevelResourceDirectory(JRB_DIRECTORY, NODE_ID, FOREIGN_SOURCE, FOREIGN_ID));
        assertEquals("ifHCInOctets", JRobinDirectoryUtil.getIfInOctetsDataSource(JRB_DIRECTORY, NODE_ID, FOREIGN_SOURCE, FOREIGN_ID, INTERFACE));
        assertEquals("ifHCOutOctets", JRobinDirectoryUtil.getIfOutOctetsDataSource(JRB_DIRECTORY, NODE_ID, FOREIGN_SOURCE, FOREIGN_ID, INTERFACE));
        assertEquals("src/test/resources/share/rrd/snmp/fs/Servers/S001/me1-0002baaacffe/mib2-X-interfaces.jrb", JRobinDirectoryUtil.getIfInOctetsJrb(JRB_DIRECTORY, NODE_ID, FOREIGN_SOURCE, FOREIGN_ID, INTERFACE));
        assertEquals("src/test/resources/share/rrd/snmp/fs/Servers/S001/me1-0002baaacffe/mib2-X-interfaces.jrb", JRobinDirectoryUtil.getIfOutOctetsJrb(JRB_DIRECTORY, NODE_ID, FOREIGN_SOURCE, FOREIGN_ID, INTERFACE));

        System.setProperty("org.opennms.rrd.storeByGroup", "false");
        assertEquals("src/test/resources/share/rrd/snmp/fs/Servers/S001/me1-0002baaacffe/ifHCInOctets.jrb", JRobinDirectoryUtil.getIfInOctetsJrb(JRB_DIRECTORY, NODE_ID, FOREIGN_SOURCE, FOREIGN_ID, INTERFACE));
        assertEquals("src/test/resources/share/rrd/snmp/fs/Servers/S001/me1-0002baaacffe/ifHCOutOctets.jrb", JRobinDirectoryUtil.getIfOutOctetsJrb(JRB_DIRECTORY, NODE_ID, FOREIGN_SOURCE, FOREIGN_ID, INTERFACE));
    }

