    @After
    public void after() {
        try {
            LoggingEvent[] errorEvents = MockLogAppender.getEventsAtLevel(Level.ERROR);
            for (LoggingEvent eachEvent : errorEvents) {
                if ("net.sf.jasperreports.extensions.DefaultExtensionsRegistry".equals(eachEvent.getLoggerName())
                        && eachEvent.getMessage().contains("Error instantiating extensions registry")) {
                    Assert.fail("Jasper Report extensions not setup correctly. " +
                            "See http://jasperreports.sourceforge.net/api/net/sf/jasperreports/extensions/DefaultExtensionsRegistry.html for more details.");
                }
            }
        } finally {
            MockLogAppender.resetState();
        }
    }

