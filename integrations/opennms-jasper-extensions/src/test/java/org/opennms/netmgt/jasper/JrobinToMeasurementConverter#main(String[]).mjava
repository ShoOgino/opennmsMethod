    public static void main(String[] args) throws RrdException, IOException, ParseException {
        final DateFormat formatter = new SimpleDateFormat("EEE MMM dd HH:mm:ss z yyyy");

        // All Charts Report jrobin query
        long now = System.currentTimeMillis();
        long end = now/MILLIS_PER_DAY*MILLIS_PER_DAY + (MILLIS_PER_HOUR * 4);
        long start = end - (MILLIS_PER_DAY*7);
        initAllChartsReport(new Date(start), new Date(end));
        transformResult("all-charts-1", "xport --start $P{startDate} --end $P{endDate} --step 3600\n" +
                "        DEF:mo=$P{rrdDir}/mo_calls.jrb:mo_call_attempts:AVERAGE\n" +
                "        DEF:mt=$P{rrdDir}/mt_calls.jrb:mt_call_attempts:AVERAGE\n" +
                "        CDEF:moTotal=mo,3600,*\n" +
                "        CDEF:mtTotal=mt,3600,*\n" +
                "        XPORT:moTotal:moCallAttempts\n" +
                "        XPORT:mtTotal:mtCallAttempts", "target/rrd", new Date(start), new Date(end));

        transformResult("all-charts-2", "xport --start $P{startDate} --end $P{endDate} --step 3600\n" +
                "        DEF:moAttempts=$P{rrdDir}/mo_calls.jrb:mo_call_attempts:AVERAGE\n" +
                "        DEF:moCompletes=$P{rrdDir}/mo_calls.jrb:mo_call_completes:AVERAGE\n" +
                "        DEF:mtAttempts=$P{rrdDir}/mt_calls.jrb:mt_call_attempts:AVERAGE\n" +
                "        DEF:mtCompletes=$P{rrdDir}/mt_calls.jrb:mt_call_completes:AVERAGE\n" +
                "        CDEF:moSuccessRate=moCompletes,100,*,moAttempts,/\n" +
                "        CDEF:mtSuccessRate=mtCompletes,100,*,mtAttempts,/\n" +
                "        XPORT:moSuccessRate:moSuccessRate\n" +
                "        XPORT:mtSuccessRate:mtSuccessRate", "target/rrd", new Date(start), new Date(end));

        //RrdGraph jrobin query
        transformResult("rrd-graph", "xport --start $P{startDate} --end $P{endDate}\n" +
                        "        DEF:xx=$P{rrdDir}/http-8980.jrb:http-8980:AVERAGE\n" +
                        "        DEF:zz=$P{rrdDir}/ssh.jrb:ssh:AVERAGE\n" +
                        "        XPORT:xx:HttpLatency\n" +
                        "        XPORT:zz:SshLatency", "src/test/resources",
                formatter.parse("Wed Oct 13 17:25:00 EDT 2010"), formatter.parse("Wed Oct 13 21:16:30 EDT 2010"));

    }

