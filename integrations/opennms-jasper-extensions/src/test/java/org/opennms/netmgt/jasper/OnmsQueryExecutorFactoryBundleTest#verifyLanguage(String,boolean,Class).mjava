    private static void verifyLanguage(String language, boolean supported, Class expectedFactoryClass) throws JRException {
        final OnmsQueryExecutorFactoryBundle executorBundle = new OnmsQueryExecutorFactoryBundle();
        Assert.assertEquals(supported, executorBundle.isSupported(language));
        try {
            QueryExecuterFactory factory = executorBundle.getQueryExecuterFactory(language);
            if (supported) {
                Assert.assertEquals(expectedFactoryClass, factory.getClass());
            }
            if (!supported) {
                Assert.fail("JRException expected, but was not thrown.");
            }
        } catch (JRException jre) {
            if (supported) {
                throw jre; // this should not have happended
            }
        }
    }

