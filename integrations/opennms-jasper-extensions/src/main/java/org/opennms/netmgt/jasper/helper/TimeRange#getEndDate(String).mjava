    /**
     * <p>
     * getEndDate
     * </p>
     * 
     * @param range
     *            a {@link java.lang.String} object
     * @return a {@link java.sql.Timestamp} object
     */
    public Timestamp getEndDate(String range) {
        Timestamp ts = null;

        if (TIME_RANGE.LAST_YEAR.name().equalsIgnoreCase(range)) {
            this.m_endDate = new GregorianCalendar(
                                                   this.m_now.get(Calendar.YEAR) - 1,
                                                   12, 0, 23, 59, 59);
            ts = new Timestamp(this.m_endDate.getTimeInMillis());
        } else if (TIME_RANGE.LAST_MONTH.name().equalsIgnoreCase(range)) {
            this.m_endDate = new GregorianCalendar(
                                                   this.m_now.get(Calendar.YEAR),
                                                   this.m_now.get(Calendar.MONTH),
                                                   0, 23, 59, 59);
            ts = new Timestamp(this.m_endDate.getTimeInMillis());
        } else if (TIME_RANGE.THIS_YEAR.name().equalsIgnoreCase(range)) {
            this.m_endDate = this.m_now;
            ts = new Timestamp(this.m_endDate.getTimeInMillis());
        } else if (TIME_RANGE.THIS_MONTH.name().equalsIgnoreCase(range)) {
            this.m_endDate = this.m_now;
            ts = new Timestamp(this.m_endDate.getTimeInMillis());
        }

        return ts;
    }

