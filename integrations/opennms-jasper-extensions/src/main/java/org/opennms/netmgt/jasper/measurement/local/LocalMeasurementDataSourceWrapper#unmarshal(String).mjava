    private QueryRequest unmarshal(String query) throws JRException {
        try (ByteArrayInputStream input = new ByteArrayInputStream(query.getBytes())) {
            QueryRequest request = JAXB.unmarshal(input, QueryRequest.class);
            return request;
        } catch (IOException e) {
            LOG.error("An error occurred while unmarshalling the query string", e);
            throw new JRException(e);
        }
    }

