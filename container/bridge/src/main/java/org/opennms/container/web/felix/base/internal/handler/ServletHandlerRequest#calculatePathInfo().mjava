    private String calculatePathInfo() {
        /*
         * The pathInfo from the servlet container is servletAlias + pathInfo
         * where pathInfo is either an empty string (in which case the client
         * directly requested the servlet) or starts with a slash (in which
         * case the client requested a child of the servlet). Note, the
         * servlet container pathInfo may also be null if the servlet is
         * registered as the root servlet
         */

        String pathInfo = super.getPathInfo() == null ? super.getServletPath() : super.getPathInfo();

        if (pathInfo != null) {
            // cut off alias of this servlet (if not the root servlet)
            if (!"/".equals(alias)) {
                pathInfo = pathInfo.substring(alias.length());
            }

            // ensure empty string is coerced to null
            if (pathInfo.length() == 0) {
                pathInfo = null;
            }
        }

        return pathInfo;
    }

