    public void dispatch(HttpServletRequest req, HttpServletResponse res, FilterChain proceedingChain)
        throws ServletException, IOException
    {
        FilterChain chain = new InvocationFilterChain(this.handlers, this.servletPipeline, proceedingChain);

        if (this.servletPipeline.hasServletsMapped()) {
            req = new RequestWrapper(req);
        }

        chain.doFilter(req, res);
    }

