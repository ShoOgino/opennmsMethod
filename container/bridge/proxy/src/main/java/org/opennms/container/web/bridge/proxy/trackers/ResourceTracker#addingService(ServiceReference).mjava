    @Override
    public Object addingService(ServiceReference reference) {
        final Object resource = super.addingService(reference);
        final ResourceInfo resourceInfo = new ResourceInfo(reference);
        if (!resourceInfo.isValid()) { // if invalid, we bail
            servletContext.log(String.format("Resource is not valid. Property '%s' and '%s' must be defined", "osgi.http.whiteboard.resource.pattern", "osgi.http.whiteboard.resource.prefix"));
            return resource;
        }
        final RequestHandler resourceRequestHandler = new ResourceRequestHandler(resourceInfo);
        requestHandlerMap.put(reference, resourceRequestHandler);
        proxyFilter.addRequestHandler(resourceRequestHandler);
        return resource;
    }

