    /**
     * Stops the currently running service. If the service is not running then
     * the command is silently discarded.
     */
    @Override
    final public synchronized void stop() {
        final String prefix = ThreadCategory.getPrefix();
        try {
            ThreadCategory.setPrefix(getName());
            log().info(getName()+" stopping.");

            setStatus(STOP_PENDING);
            onStop();
            setStatus(STOPPED);

            log().info(getName()+" stopped.");
        } finally {
            ThreadCategory.setPrefix(prefix);
        }
    }

