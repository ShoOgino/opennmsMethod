    @Before
    public void setUp() throws InterruptedException {
        if(m_detector == null) {
            m_detector = new SnmpDetector();
            m_detector.setRetries(2);
            m_detector.setTimeout(500);
            m_detector.setPort(TEST_PORT);
            m_detector.setAgentConfigFactory(new AnAgentConfigFactory());
        }
        
        if(m_snmpAgent == null) {
            m_snmpAgent = MockSnmpAgent.createAgentAndRun(new ClassPathResource("org/opennms/netmgt/provision/detector/snmpTestData1.properties"), String.format("%s/%s", TEST_IP_ADDRESS, TEST_PORT));
        }
        
    }

