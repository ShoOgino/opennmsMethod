    private boolean isServiceDetected(MatchType matchType, List<String> retrievedValues, String expectedValue) {
        matchType = matchType == null ? MatchType.Exist : matchType;
        // If matchType is NOT Exist, than we need an expectedValue
        if (matchType != MatchType.Exist && expectedValue == null) {
            throw new IllegalArgumentException(getServiceName() + ": expectedValue was not defined using matchType=" + matchType + " but is required. Otherwise set matchType to " + MatchType.Exist);
        }
        boolean isServiceDetected = matchType.isServiceDetected(retrievedValues, expectedValue);
        LOG.debug(getServiceName() + ": services detected {} using matchType={}, expectedValue={}, retrievedValues={}", isServiceDetected, matchType, expectedValue, retrievedValues);
        return isServiceDetected;
    }

