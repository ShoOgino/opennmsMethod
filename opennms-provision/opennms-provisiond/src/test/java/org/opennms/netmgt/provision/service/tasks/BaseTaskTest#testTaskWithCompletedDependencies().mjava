    @Test
    public void testTaskWithCompletedDependencies() throws Exception {
        
        final List<String> sequence = new Vector<String>();
        
        BaseTask task1 = testTask(m_coordinator, "task1", sequence);
        BaseTask task2 = testTask(m_coordinator, "task2", sequence);
        BaseTask task3 = testTask(m_coordinator, "task3", sequence);

        task1.schedule();
        
        task1.waitFor();

        task2.addPrerequisite(task1);
        
        task2.schedule();

        task2.waitFor();
        
        task3.addPrerequisite(task2);

        task3.schedule();
        
        
        task3.waitFor(3500, TimeUnit.MILLISECONDS);
        
        assertArrayEquals(new String[] { "task1", "task2", "task3" }, sequence.toArray(new String[0]));
        
    }

