    @Test(timeout=300000)
    public void testSendEventsOnImport() throws Exception {

        final int nextNodeId = m_nodeDao.getNextNodeId();
        final String nodeLabel = "node1";

        final MockNetwork network = new MockNetwork();
        final MockNode node = network.addNode(nextNodeId, nodeLabel);
        network.addInterface("192.0.2.204");
        network.addService("ICMP");
        network.addService("HTTP");
        network.addInterface("192.0.2.201");
        network.addService("ICMP");
        network.addService("SNMP");

        anticipateCreationEvents(node);
        m_eventAnticipator.anticipateEvent(getNodeCategoryEvent(nextNodeId, nodeLabel));

        for (final Event e : m_eventAnticipator.getAnticipatedEvents()) {
            System.err.println("anticipated: " + e);
        }

        importFromResource("classpath:/tec_dump.xml", Boolean.TRUE.toString());

        for (final Event e : m_eventAnticipator.getAnticipatedEventsRecieved()) {
            System.err.println("received anticipated: " + e);
        }
        for (final Event e : m_eventAnticipator.unanticipatedEvents()) {
            System.err.println("received unanticipated: " + e);
        }

        m_eventAnticipator.verifyAnticipated();

    }

