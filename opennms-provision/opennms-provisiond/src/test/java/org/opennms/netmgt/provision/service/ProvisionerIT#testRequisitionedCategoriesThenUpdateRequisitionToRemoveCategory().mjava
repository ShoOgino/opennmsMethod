    @Test(timeout=300000)
    public void testRequisitionedCategoriesThenUpdateRequisitionToRemoveCategory() throws Exception {
        final int nextNodeId = m_nodeDao.getNextNodeId();

        importFromResource("classpath:/provisioner-testCategories-oneCategory.xml", Boolean.TRUE.toString());

        runPendingScans();

        // make sure we have the 1 category we expect
        OnmsNode n = getNodeDao().get(nextNodeId);
        assertEquals(1, n.getCategories().size());
        assertTrue(n.hasCategory("TotallyMadeUpCategoryName"));

        importFromResource("classpath:/provisioner-testCategories-noCategories.xml", Boolean.TRUE.toString());

        runPendingScans();

        // when the scan has completed, the category should be removed
        n = getNodeDao().get(nextNodeId);

        assertEquals(0, n.getCategories().size());
    }

