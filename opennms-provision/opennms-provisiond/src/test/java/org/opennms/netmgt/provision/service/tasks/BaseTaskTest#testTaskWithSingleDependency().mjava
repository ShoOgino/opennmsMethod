    @Test
    public void testTaskWithSingleDependency() throws Exception {
        
        final List<String> sequence = new Vector<String>();
        
        BaseTask task1 = createTask(appender(sequence, "task1"));
        BaseTask task2 = createTask(appender(sequence, "task2"));
        BaseTask task3 = createTask(appender(sequence, "task3"));

        task2.addPrerequisite(task1);
        task3.addPrerequisite(task2);

        task3.schedule();
        
        task2.schedule();
        
        task1.schedule();
        
        task3.waitFor(3500, TimeUnit.MILLISECONDS);
        
        assertArrayEquals(new String[] { "task1", "task2", "task3" }, sequence.toArray(new String[0]));
        
    }

