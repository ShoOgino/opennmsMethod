    @Test(timeout=300000)
    @JUnitTemporaryDatabase // Relies on records created in @Before so we need a fresh database
    public void testProvisionerRescanWorkingWithDiscoveredNodesDiscoveryEnabled() throws Exception{
    	System.setProperty("org.opennms.provisiond.enableDiscovery", "true");
        // populator creates 4 provisioned nodes and 2 discovered nodes
        m_populator.populateDatabase();

        m_provisioner.scheduleRescanForExistingNodes();
        
        // make sure all the nodes are scheduled (even the discovered ones)
        assertEquals(6, m_provisioner.getScheduleLength());
    }

