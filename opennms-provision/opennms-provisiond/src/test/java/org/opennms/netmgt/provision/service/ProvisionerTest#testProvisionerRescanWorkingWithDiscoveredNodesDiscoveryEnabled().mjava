    @Test(timeout=300000)
    @Transactional
    public void testProvisionerRescanWorkingWithDiscoveredNodesDiscoveryEnabled() throws Exception{
        System.setProperty("org.opennms.provisiond.enableDiscovery", "true");
        // populator creates 4 provisioned nodes and 2 discovered nodes
        m_dbPopulator.populateDatabase();

        importFromResource("classpath:/tec_dump.xml.smalltest");
        
        m_provisioner.scheduleRescanForExistingNodes();
        assertEquals(16, m_provisioner.getScheduleLength());
    }

