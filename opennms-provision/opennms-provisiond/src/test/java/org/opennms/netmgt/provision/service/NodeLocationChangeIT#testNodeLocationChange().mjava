    @Test(timeout=30000)
    @JUnitSnmpAgents({
            @JUnitSnmpAgent(host="192.0.2.201", port=161, resource="classpath:/testNoRescanOnImport-part1.properties"),
    })
    public void testNodeLocationChange() throws Exception {

        m_provisioner.importModelFromResource(m_resourceLoader.getResource("classpath:/testLocationChange-location1.xml"), Boolean.TRUE.toString());

        final List<OnmsNode> nodes = getNodeDao().findAll();
        assertEquals(1, nodes.size());
        // Verify node and it's location.
        OnmsNode node = nodes.get(0);
        assertEquals("Hyderabad", node.getLocation().getLocationName());
        assertEquals(1, node.getIpInterfaces().size());
        assertEquals(1, node.getSnmpInterfaces().size());
        // Verify that persisted Ip interface will have resolved hostname.
        assertEquals("opennms-com", node.getIpInterfaces().iterator().next().getIpHostName());
        m_eventAnticipator.reset();
        // Anticipate node location change and node updated events
        anticipateNodeLocationChangeEvent();
        m_provisioner.importModelFromResource(m_resourceLoader.getResource("classpath:/testLocationChange-location2.xml"), "dbonly");
        m_eventAnticipator.verifyAnticipated();
        node = nodes.get(0);
        // verify  node location change.
        assertEquals("Bangalore", node.getLocation().getLocationName());
        assertEquals(1, node.getIpInterfaces().size());

    }

