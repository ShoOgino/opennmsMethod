    private boolean peformScanWithMatchingProfile(SnmpAgentConfig currentConfig, InetAddress primaryAddress) throws InterruptedException {

        if (isConfigValid(currentConfig, primaryAddress)) {
            return false;
        }
        try {
            Optional<SnmpAgentConfig> validConfig = m_provisionService.getSnmpProfileMapper()
                                                        .getAgentConfigFromProfiles(primaryAddress, getLocationName())
                                                        .get();
            if (validConfig.isPresent()) {
                SnmpAgentConfig agentConfig = validConfig.get();
                getAgentConfigFactory().saveAgentConfigAsDefinition(agentConfig, getLocationName(), "Provisiond");
                LOG.info("IP address {} is fitted with profile {}", primaryAddress.getHostAddress(), agentConfig.getProfileLabel());
                SystemGroup systemGroup = new SystemGroup(primaryAddress);
                try {
                    m_provisionService.getLocationAwareSnmpClient().walk(agentConfig, systemGroup)
                            .withDescription("systemGroup")
                            .withLocation(getLocationName())
                            .execute()
                            .get();
                    systemGroup.updateSnmpDataForNode(getNode());
                    return true;
                } catch (ExecutionException e) {
                    LOG.error("Exception while doing SNMP walk with config from SNMP profile {}.", agentConfig.getProfileLabel(), e);
                }
            }
        } catch (ExecutionException e) {
            LOG.error("Exception while trying to get SNMP profiles.", e);
        }

        return false;
    }

