    public boolean isRequisitioned(final OnmsMonitoredService monSvc) {
        final String foreignSource = monSvc.getIpInterface().getNode().getForeignSource();
        final String foreignId = monSvc.getIpInterface().getNode().getForeignId();

        // is this a discovered node
        if (foreignSource == null) return false;

        final OnmsNode reqNode = getRequisitionedNode(foreignSource, foreignId);
        if (reqNode == null) { 
            // this is no requisition node?
            LOG.error("No requistion exists for node with foreignSource {} and foreignId {}.  Treating node as unrequistioned", foreignSource, foreignId);
            return false;
        }

        final OnmsIpInterface reqIp = reqNode.getIpInterfaceByIpAddress(monSvc.getIpAddress());
        if (reqIp == null) {
            // there is no matching requisition IP so the interface was discovered
            return false;
        }

        final OnmsMonitoredService reqSvc =  reqIp.getMonitoredServiceByServiceType(monSvc.getServiceName());

        // if we found the service then its a requisition service
        return reqSvc != null;
    }

