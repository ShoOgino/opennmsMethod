    private boolean scanWithSnmpProfiles(InetAddress address) {
        // Marked as primary but SNMP service not found. Try to match agent config from profiles.
        try {
            Optional<SnmpAgentConfig> validConfig = m_provisionService.getSnmpProfileMapper()
                    .getAgentConfigFromProfiles(address, getLocationName())
                    .get();
            if (validConfig.isPresent()) {
                SnmpAgentConfig agentConfig = validConfig.get();
                m_agentConfigFactory.saveAgentConfigAsDefinition(agentConfig, getLocationName(), "Provisiond");
                LOG.info("IP address {} is fitted with profile {}", address.getHostAddress(), agentConfig.getProfileLabel());
                return true;
            }
        } catch (ExecutionException | InterruptedException e) {
            LOG.error("Exception while trying to get SNMP profiles.", e);
        }

        return false;
    }

