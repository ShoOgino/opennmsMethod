    @Activity( lifecycle = "agentScan", phase = "detectPhysicalInterfaces" )
    public void detectPhysicalInterfaces(final Integer nodeId, final InetAddress primaryAddress, final Phase currentPhase) throws InterruptedException {
        SnmpAgentConfig agentConfig = m_agentConfigFactory.getAgentConfig(primaryAddress);
        Assert.notNull(m_agentConfigFactory, "agentConfigFactory was not injected");
        
        final PhysInterfaceTableTracker physIfTracker = new PhysInterfaceTableTracker() {
            @Override
            public void processPhysicalInterfaceRow(PhysicalInterfaceRow row) {
                System.out.println("Processing row for ifIndex "+row.getIfIndex());
                final OnmsSnmpInterface snmpIface = row.createInterfaceFromRow();
                Runnable r = new Runnable() {
                    public void run() {
                        System.out.println("Saving OnmsSnmpInterface "+snmpIface);
                        m_provisionService.updateSnmpInterfaceAttributes(
                                              nodeId,
                                              snmpIface);
                    }
                };
                currentPhase.add(r, "write");
            }
        };
        
        SnmpWalker walker = SnmpUtils.createWalker(agentConfig, "ifTable/ifXTable", physIfTracker);
        walker.start();
        walker.waitFor();
        
        System.err.println("detectPhysicalInterfaces");
    }

