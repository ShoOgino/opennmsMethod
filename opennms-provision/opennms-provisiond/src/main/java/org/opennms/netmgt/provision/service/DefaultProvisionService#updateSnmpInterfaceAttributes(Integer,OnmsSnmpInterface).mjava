    /** {@inheritDoc} */
    @Transactional
    public OnmsSnmpInterface updateSnmpInterfaceAttributes(final Integer nodeId, final OnmsSnmpInterface snmpInterface) {
    	final OnmsSnmpInterface dbSnmpIface = m_snmpInterfaceDao.findByNodeIdAndIfIndex(nodeId, snmpInterface.getIfIndex());
    	debugf(this, "nodeId = %d, ifIndex = %d, dbSnmpIface = %s", nodeId, snmpInterface.getIfIndex(), dbSnmpIface);
        if (dbSnmpIface != null) {
            // update the interface that was found
            dbSnmpIface.mergeSnmpInterfaceAttributes(snmpInterface);
            infof(this, "Updating SnmpInterface %s", dbSnmpIface);
            m_snmpInterfaceDao.update(dbSnmpIface);
            m_snmpInterfaceDao.flush();
            return dbSnmpIface;
        } else {
            // add the interface to the node, if it wasn't found
        	final OnmsNode dbNode = m_nodeDao.load(nodeId);
            assertNotNull(dbNode, "no node found with nodeId %d", nodeId);
            // for performance reasons we don't add the snmp interface to the node so we avoid loading all the interfaces
            // setNode only sets the node in the interface
            snmpInterface.setNode(dbNode);
            infof(this, "Saving SnmpInterface %s", snmpInterface);
            m_snmpInterfaceDao.save(snmpInterface);
            m_snmpInterfaceDao.flush();
            return snmpInterface;
        }
    }

