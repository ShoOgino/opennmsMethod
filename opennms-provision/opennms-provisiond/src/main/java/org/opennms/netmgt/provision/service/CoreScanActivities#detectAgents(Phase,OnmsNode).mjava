    @Activity( lifecycle = "nodeScan", phase = "detectAgents" )
    public void detectAgents(Phase currentPhase, OnmsNode node) {
        // someday I'll change this to use agentDetectors
        OnmsIpInterface primaryIface = node.getPrimaryInterface();
        if (primaryIface.getMonitoredServiceByServiceType("SNMP") != null) {
            LifeCycleInstance nested = currentPhase.createNestedLifeCycle("agentScan");
            nested.setAttribute("agentType", "SNMP");
            nested.setAttribute("node", node);
            nested.setAttribute("primaryAddress", primaryIface.getInetAddress());
            nested.trigger();
        }
        
    }

