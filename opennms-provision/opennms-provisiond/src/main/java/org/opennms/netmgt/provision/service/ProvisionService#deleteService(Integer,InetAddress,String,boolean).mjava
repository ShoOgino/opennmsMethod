    /**
     * Delete the indicated service from the database.
     * 
     * If the service is the last service on the interface, delete the interface as well.
     * If the interface is the last interface on the node, delete the node as well.
     * 
     * @param nodeId the node containing the service
     * @param addr the IP address containing the service
     * @param service the service to delete
     * @param ignoreUnmanaged if true, cascade delete the containing interface if only unmanaged services remain
     */
    @Transactional
    void deleteService(Integer nodeId, InetAddress addr, String service, boolean ignoreUnmanaged);

