        @Override
        public void run(final ContainerTask<?> parent) {
            //NoAgentScan
            Span noAgentScanSpan = m_provisionService.buildAndStartSpan("NoAgentScan", m_span.context());
            this.setSpan(noAgentScanSpan);
            parent.getBuilder().addSequence(
                                            new RunInBatch() {
                                                @Override
                                                public void run(final BatchTask phase) {
                                                    Span span = m_provisionService.buildAndStartSpan("ApplyNodePolicies", noAgentScanSpan.context());
                                                    applyNodePolicies(phase);
                                                    span.finish();
                                                }
                                            },
                                            new RunInBatch() {
                                                @Override
                                                public void run(final BatchTask phase) {
                                                    Span span = m_provisionService.buildAndStartSpan("StampProvisionedInterfaces", noAgentScanSpan.context());
                                                    stampProvisionedInterfaces(phase);
                                                    span.finish();
                                                }
                                            },
                                            new RunInBatch() {
                                                @Override
                                                public void run(final BatchTask phase) {
                                                    Span span = m_provisionService.buildAndStartSpan("DeleteObsoleteResources", noAgentScanSpan.context());
                                                    deleteObsoleteResources(phase);
                                                    span.finish();
                                                }
                                            },
                                            new RunInBatch() {
                                                @Override
                                                public void run(final BatchTask phase) {
                                                    Span span = m_provisionService.buildAndStartSpan("DoPersistNodeInfo", noAgentScanSpan.context());
                                                    doPersistNodeInfo(phase);
                                                    span.finish();
                                                }
                                            }
                    );
            noAgentScanSpan.finish();
        }

