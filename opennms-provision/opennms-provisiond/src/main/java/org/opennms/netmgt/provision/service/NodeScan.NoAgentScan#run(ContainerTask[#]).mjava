        @Override
        public void run(final ContainerTask<?> parent) {
            parent.getBuilder().addSequence(
                                            new RunInBatch() {
                                                @Override
                                                public void run(final BatchTask phase) {
                                                    applyNodePolicies(phase);
                                                }
                                            },
                                            new RunInBatch() {
                                                @Override
                                                public void run(final BatchTask phase) {
                                                    stampProvisionedInterfaces(phase);
                                                }
                                            },
                                            new RunInBatch() {
                                                @Override
                                                public void run(final BatchTask phase) {
                                                    deleteObsoleteResources(phase);
                                                }
                                            },
                                            new RunInBatch() {
                                                @Override
                                                public void run(final BatchTask phase) {
                                                    doPersistNodeInfo(phase);
                                                }
                                            }
                    );
        }

