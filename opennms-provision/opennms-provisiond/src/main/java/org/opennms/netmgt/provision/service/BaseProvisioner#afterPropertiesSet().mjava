    public void afterPropertiesSet() throws Exception {
        Assert.notNull(getProvisionService(), "provisionService property must be set");
        
        Executor m_scanExecutor = Executors.newFixedThreadPool(m_scanThreads);
        Executor m_writeExecutor = Executors.newFixedThreadPool(m_writeThreads);
        
        DefaultTaskCoordinator coordinator = new DefaultTaskCoordinator();
        coordinator.setDefaultExecutor("scan");
        coordinator.addExecutor("scan", m_scanExecutor);
        coordinator.addExecutor("write", m_writeExecutor);
        coordinator.afterPropertiesSet();
        
        DefaultLifeCycleRepository lifeCycleRepository = new DefaultLifeCycleRepository(coordinator);
        
        LifeCycle importLifeCycle = new LifeCycle("import")
            .addPhase("validate")
            .addPhase("audit")
            .addPhase("scan")
            .addPhase("delete")
            .addPhase("update")
            .addPhase("insert")
            .addPhase("relate");
            
            
        lifeCycleRepository.addLifeCycle(importLifeCycle);
        
        LifeCycle nodeScanLifeCycle = new LifeCycle("nodeScan")
            .addPhase("scan")
            .addPhase("persist");
        

        lifeCycleRepository.addLifeCycle(nodeScanLifeCycle);
        
        m_lifeCycleRepository = lifeCycleRepository;
        
        
        m_provider = new CoreImportActivities(getProvisionService());
        
        
    }

