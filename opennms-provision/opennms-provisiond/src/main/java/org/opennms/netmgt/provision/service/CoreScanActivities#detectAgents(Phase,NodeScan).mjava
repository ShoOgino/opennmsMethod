    @Activity( lifecycle = "nodeScan", phase = "detectAgents" )
    public void detectAgents(Phase currentPhase, NodeScan nodeScan) {
        
        boolean foundAgent = false;
        
        // someday I'll change this to use agentDetectors
        OnmsIpInterface primaryIface = nodeScan.getNode().getPrimaryInterface();
        if (primaryIface.getMonitoredServiceByServiceType("SNMP") != null) {
            nodeScan.doAgentScan(currentPhase, primaryIface.getInetAddress(), "SNMP");
            foundAgent = true;
        }
        
        if (!foundAgent) {
            nodeScan.doNoAgentScan(currentPhase);
        }
        
    }

