    void updateSnmpDataforInterface(OnmsIpInterface ipIf) {
    
        OnmsNode node = ipIf.getNode();
        if (getCollector() == null || !getCollector().hasIpAddrTable() || !getCollector().hasIfTable()) return;
    
    	String ipAddr = ipIf.getIpAddress();
    	log().debug("Creating SNMP info for interface "+ipAddr);
    
    	InetAddress inetAddr = ipIf.getInetAddress();
    
    	int ifIndex = getCollector().getIfIndex(inetAddr);
    	if (ifIndex == -1) return;
    
        // first look to see if an snmpIf was created already
        OnmsSnmpInterface snmpIf = node.getSnmpInterfaceWithIfIndex(ifIndex);
        
        if (snmpIf == null) {
            // if not then create one
            snmpIf = new OnmsSnmpInterface(ipAddr, new Integer(ifIndex), node);
            snmpIf.setIfAlias(getCollector().getIfAlias(ifIndex));
            snmpIf.setIfName(getCollector().getIfName(ifIndex));
            snmpIf.setIfType(getIfType(ifIndex));
            snmpIf.setNetMask(getNetMask(ifIndex));
            snmpIf.setIfAdminStatus(getAdminStatus(ifIndex));
            snmpIf.setIfDescr(getCollector().getIfDescr(ifIndex));
            snmpIf.setIfSpeed(getCollector().getIfSpeed(ifIndex));
            snmpIf.setPhysAddr(getCollector().getPhysAddr(ifIndex));
        }
        
        if (ipIf.getIsSnmpPrimary() == CollectionType.PRIMARY) {
            // make sure the snmpIf has the ipAddr of the primary interface
            snmpIf.setIpAddress(ipAddr);
        }
    	
    	ipIf.setSnmpInterface(snmpIf);
    
    	//FIXME: Improve OpenNMS to provide these values
    	// ifOperStatus
    }

