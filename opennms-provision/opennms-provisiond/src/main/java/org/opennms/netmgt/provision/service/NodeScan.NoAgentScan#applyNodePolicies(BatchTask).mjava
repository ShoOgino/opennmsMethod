        private void applyNodePolicies(BatchTask phase) {

            List<NodePolicy> nodePolicies = getProvisionService().getNodePoliciesForForeignSource(getForeignSource() == null ? "default" : getForeignSource());
            
            OnmsNode node = getNode();
            for(NodePolicy policy : nodePolicies) {
                if (node != null) {
                    node = policy.apply(node);
                }
            }
            
            if (node == null) {
                String reason = "Aborted scan of node due to configured policy";
                abort(reason);
            } else {
                setNode(node);
            }
            
        }

