    public LocationDef createLocationIfNecessary(LocationDef scannedLocation) {

        final LocationDef location;
        if (scannedLocation == null) {
            location = new LocationDef();
            location.setLocationName("localhost");
        } else {
            location = scannedLocation;
        }

        /**
         * TODO: Divide {@link LocationMonitorDao} into two classes and use MonitoringLocationDao here
         */
        /*
        return new CreateIfNecessaryTemplate<LocationDef, LocationMonitorDao>(m_transactionManager, m_locationMonitorDao) {

            @Override
            protected LocationDef query() {
                return m_locationMonitorDao.findMonitoringLocationDefinition(location.getLocationName());
            }

            @Override
            public LocationDef doInsert() {
                m_locationMonitorDao.saveMonitoringLocationDefinition(location);
                m_locationMonitorDao.flush();
                return location;
            }
        }.execute();
        */

        m_locationMonitorDao.saveMonitoringLocationDefinition(location);
        m_locationMonitorDao.flush();
        return location;
    }

