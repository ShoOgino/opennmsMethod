    @Transactional
    public void updateNode(OnmsNode node, boolean snmpDataForNodeUpToDate, boolean snmpDataForInterfacesUpToDate) {
        
        OnmsNode db = getNodeDao().getHierarchy(node.getId());
    
    	updateNodeData(node, db, snmpDataForNodeUpToDate);
    
        if (snmpDataForInterfacesUpToDate) {
            new SnmpInterfaceUpdater(db, node).execute();
        }
    
    
        new InterfaceUpdater(this, db, node, snmpDataForInterfacesUpToDate).execute();
        
    	if (!db.getCategories().equals(node.getCategories())) {
            db.setCategories(node.getCategories());
        }
    
        getNodeDao().update(db);
        
        //TODO: update the node in the scheduledList of Nodes
        
    }

