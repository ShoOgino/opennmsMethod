    @Transactional
    public void updateNode(OnmsNode scannedNode, boolean snmpDataForNodeUpToDate, boolean snmpDataForInterfacesUpToDate) {
        
        OnmsNode dbNode = getNodeDao().getHierarchy(scannedNode.getId());
    
    	dbNode.mergeNodeAttributes(scannedNode);
    
        if (snmpDataForInterfacesUpToDate) {
            dbNode.mergeSnmpInterfaces(scannedNode);
        }
        
        dbNode.mergeIpInterfaces(scannedNode, getEventForwarder());
        
    	if (!dbNode.getCategories().equals(scannedNode.getCategories())) {
            dbNode.setCategories(scannedNode.getCategories());
        }
    
        getNodeDao().update(dbNode);
        
        //TODO: update the node in the scheduledList of Nodes
        
    }

