    /** {@inheritDoc} */
    @Transactional
    @Override
    public void deleteInterface(final Integer nodeId, final String ipAddr) {
        final OnmsIpInterface iface = m_ipInterfaceDao.findByNodeIdAndIpAddress(nodeId, ipAddr);
        if (iface != null) {

            final OnmsNode node = iface.getNode();

            final boolean lastInterface = (node.getIpInterfaces().size() == 1);

            m_ipInterfaceDao.delete(iface);
            m_ipInterfaceDao.flush();
            m_eventForwarder.sendNow(EventUtils.createInterfaceDeletedEvent("Provisiond", iface.getNode().getId(), iface.getIpAddress()));

            if (lastInterface) {
                m_nodeDao.delete(node);
                m_nodeDao.flush();
                m_eventForwarder.sendNow(EventUtils.createNodeDeletedEvent("Provisiond", node.getId(), node.getLabel(), node.getLabel()));
            }
        }
    }

