    @Transactional
    public OnmsIpInterface setInterfaceIsPrimaryFlag(OnmsMonitoredService detachedSvc) {
        
        OnmsMonitoredService svc = m_monitoredServiceDao.get(detachedSvc.getId());
        OnmsIpInterface svcIface = svc.getIpInterface();
        OnmsIpInterface primaryIface = null;
        if (svcIface.isPrimary()) {
            primaryIface = svcIface;
        } 
        else if (svcIface.getNode().getPrimaryInterface() == null) {
            svcIface.setIsSnmpPrimary(PrimaryType.PRIMARY);
            m_ipInterfaceDao.saveOrUpdate(svcIface);
            primaryIface= svcIface;
        } else {
            svcIface.setIsSnmpPrimary(PrimaryType.SECONDARY);
            m_ipInterfaceDao.saveOrUpdate(svcIface);
        }
        
        m_ipInterfaceDao.initialize(primaryIface);
        return primaryIface;
    }

