    @Activity( lifecycle = "nodeScan", phase = "collectNodeInfo" )
    public OnmsNode collectNodeInfo(@Attribute("foreignSource") String foreignSource, @Attribute("foreignId") String foreignId) throws InterruptedException {
        OnmsNode node = m_provisionService.getRequisitionedNode(foreignSource, foreignId);
        Assert.notNull(node, "node is null");
        OnmsIpInterface primaryInterface = node.getPrimaryInterface();
        Assert.notNull(primaryInterface, "primaryInterface is null");
        InetAddress agentAddress = primaryInterface.getInetAddress();
        
        SnmpAgentConfig agentConfig = m_agentConfigFactory.getAgentConfig(agentAddress);
        Assert.notNull(m_agentConfigFactory, "agentConfigFactory was not injected");
        
        SystemGroup systemGroup = new SystemGroup(agentAddress);
        
        SnmpWalker walker = SnmpUtils.createWalker(agentConfig, "systemGroup", systemGroup);
        walker.start();
        
        walker.waitFor();
        
        systemGroup.updateSnmpDataForNode(node);
        
        return node;
        
    }

