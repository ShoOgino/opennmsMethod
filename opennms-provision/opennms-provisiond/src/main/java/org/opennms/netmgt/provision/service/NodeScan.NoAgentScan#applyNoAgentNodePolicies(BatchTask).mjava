        private void applyNoAgentNodePolicies(BatchTask phase) {

            List<NoAgentNodePolicy> noAgentNodePolicies = getProvisionService().getNoAgentNodePoliciesForForeignSource(getForeignSource() == null ? "default" : getForeignSource());
            
            OnmsNode node = getNode();
            for(NoAgentNodePolicy policy : noAgentNodePolicies) {
                if (node != null) {
                    node = policy.apply(node);
                }
            }
            
            if (node == null) {
                String reason = "Aborted scan of node due to configured policy";
                abort(reason);
            } else {
                setNode(node);
            }
            
        }

