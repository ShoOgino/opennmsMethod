    private void add(ConcurrentMap<BaseTask, Set<BaseTask>> map, BaseTask key, BaseTask addedValue) {
        Set<BaseTask> newSet = new HashSet<BaseTask>();
        Set<BaseTask> set = map.putIfAbsent(key, newSet);
        if (set == null) {
            set = newSet;
        }
        set.add(addedValue);
    }

