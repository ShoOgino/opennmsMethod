    public OnmsDistPoller createDistPollerIfNecessary(OnmsDistPoller scannedDistPoller) {

        final OnmsDistPoller distPoller;
        if (scannedDistPoller == null) {
            distPoller = new OnmsDistPoller("localhost");
        } else {
            distPoller = scannedDistPoller;
        }

        return new CreateIfNecessaryTemplate<OnmsDistPoller, DistPollerDao>(m_transactionManager, m_distPollerDao) {

            @Override
            protected OnmsDistPoller query() {
                return m_distPollerDao.get(distPoller.getId());
            }

            @Override
            public OnmsDistPoller doInsert() {
                m_distPollerDao.save(distPoller);
                m_distPollerDao.flush();
                return distPoller;
            }
        }.execute();

    }

