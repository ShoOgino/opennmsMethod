    public OnmsDistPoller createDistPollerIfNecessary(OnmsDistPoller scannedDistPoller) {

        final OnmsDistPoller distPoller = scannedDistPoller == null ? new OnmsDistPoller("localhost") : scannedDistPoller;

        return new CreateIfNecessaryTemplate<OnmsDistPoller, DistPollerDao>(m_transactionManager, m_distPollerDao) {

            @Override
            protected OnmsDistPoller query() {
                return m_distPollerDao.get(distPoller.getId());
            }

            @Override
            public OnmsDistPoller doInsert() {
                m_distPollerDao.save(distPoller);
                m_distPollerDao.flush();
                return distPoller;
            }
        }.execute();

    }

