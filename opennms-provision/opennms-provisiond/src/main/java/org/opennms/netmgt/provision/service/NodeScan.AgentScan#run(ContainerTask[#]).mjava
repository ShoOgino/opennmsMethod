        public void run(final ContainerTask<?> parent) {
            parent.getBuilder().addSequence(
                    new NodeInfoScan(getNode(),getAgentAddress(), getForeignSource(), this, getAgentConfigFactory(), getProvisionService(), getNodeId()),
                    new RunInBatch() {
                        public void run(final BatchTask phase) {
                            detectIpInterfaceTable(phase);
                        }
                    },
                    new RunInBatch() {
                        public void run(final BatchTask phase) {
                            detectIpAddressTable(phase);
                        }
                    },
                    new RunInBatch() {
                        public void run(final BatchTask phase) {
                            detectPhysicalInterfaces(phase);
                        }
                    },
                    new RunInBatch() {
                        public void run(final BatchTask phase) {
                            deleteObsoleteResources();
                        }
                    },
                    new RunInBatch() {
                        public void run(final BatchTask phase) {
                            completed();
                        }
                    }
            );
        }

