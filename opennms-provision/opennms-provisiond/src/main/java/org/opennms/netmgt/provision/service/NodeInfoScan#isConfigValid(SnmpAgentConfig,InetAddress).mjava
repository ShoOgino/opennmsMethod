    private boolean isConfigValid(SnmpAgentConfig currentConfig, InetAddress address) {
        String profileLabel = currentConfig.getProfileLabel();
        // If this config is default, we should check if any of snmp profile matches.
        if(currentConfig.isDefault()) {
            return  false;
        }
        // Not a default config, but is this a definition without profile.
        if (Strings.isNullOrEmpty(profileLabel)) {
            return true;
        } else {
            // Is this definition with profile still valid
            Optional<SnmpProfile> matchingProfile = getAgentConfigFactory().getProfiles().stream()
                    .filter(profile -> profile.getLabel().equals(profileLabel))
                    .findFirst();
            if (matchingProfile.isPresent()) {
                SnmpAgentConfig configFromProfile = getAgentConfigFactory().getAgentConfigFromProfile(matchingProfile.get(), address);
                if (configFromProfile.equals(currentConfig)) {
                    return true;
                }
            }
            return false;
        }
    }

