    public final void testIsV3ProtocolSupported() throws ValidationException, IOException, IOException, MarshalException {
        setVersion(SnmpAgentConfig.VERSION3);
        Reader rdr = new StringReader(getSnmpConfig());
        SnmpPeerFactory.setInstance(new SnmpPeerFactory(rdr));
        
        m_detector.setAgentConfig(SnmpPeerFactory.getInstance().getAgentConfig(InetAddress.getByName(myLocalHost())));
        
        if (m_runAssertions) {
            assertTrue("protocol is not supported", m_detector.isServiceDetected(InetAddress.getByName(myLocalHost()), new NullDetectorMonitor()));
        }
    }

