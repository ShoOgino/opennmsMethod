    protected RequestHandler shutdownServer(final String response) {
        return new RequestHandler() {
            
            public void doRequest(OutputStream out) throws IOException {
                out.write(String.format("%s\r\n", response).getBytes());
                if(!m_socket.isClosed()) {
                    m_socket.close();
                }
            }
            
        };
    }

