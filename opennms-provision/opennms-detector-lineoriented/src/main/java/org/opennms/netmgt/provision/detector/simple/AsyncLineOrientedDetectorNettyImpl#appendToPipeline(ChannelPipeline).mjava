    @Override
    protected void appendToPipeline(ChannelPipeline retval) {
        // Upstream handlers
        retval.addLast("timestamp1", new SimpleChannelHandler() {
            @Override
            public void messageReceived(ChannelHandlerContext ctx, MessageEvent e) {
                System.err.println("HELLOOOOO1 " + System.currentTimeMillis());
                ctx.sendUpstream(e);
            }
        });
        retval.addLast("frameDecoder", new DelimiterBasedFrameDecoder(1024, Delimiters.lineDelimiter()));
        retval.addLast("timestamp2", new SimpleChannelHandler() {
            @Override
            public void messageReceived(ChannelHandlerContext ctx, MessageEvent e) {
                System.err.println("HELLOOOOO2 " + System.currentTimeMillis());
                ctx.sendUpstream(e);
            }
        });
        retval.addLast("stringDecoder", new StringDecoder(CharsetUtil.UTF_8));
        retval.addLast("timestamp3", new SimpleChannelHandler() {
            @Override
            public void messageReceived(ChannelHandlerContext ctx, MessageEvent e) {
                System.err.println("HELLOOOOO3 " + System.currentTimeMillis());
                ctx.sendUpstream(e);
            }
        });
        retval.addLast("lineDecoder", new LineOrientedResponseDecoder());
        
        // Downstream handlers
        retval.addLast("stringEncoder", new StringEncoder(CharsetUtil.UTF_8));
        retval.addLast("lineEncoder", new LineOrientedRequestEncoder());
    }

