    @Test
    public void testFailureClosedPort() throws Exception {
        
        m_server.setBanner("WRONG BANNER");
        m_detector.setPort(1000); //m_server.getLocalPort()
        m_detector.setIdleTime(10);
        
        DetectFuture df = m_detector.isServiceDetected(m_server.getInetAddress(), new NullDetectorMonitor());
        assertFalse("Test should fail because the server closes before detection takes place", doCheck(df));
    
    }

