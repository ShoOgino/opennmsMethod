    @Test
    public void testSucessServer() throws Exception {
        initializeDefaultDetector();
        
        m_server = new SimpleServer() {
            
            public void onInit() {
               setBanner("Hello");
            }
            
        };
        m_server.init();
        m_server.startServer();
        m_detector.setPort(m_server.getLocalPort());
        
        DetectFuture future = m_detector.isServiceDetected(m_server.getInetAddress());
        future.addListener(new DetectFutureListener<DetectFuture>() {

            public void operationComplete(DetectFuture future) {
                TcpDetector detector = m_detector;
                m_detector = null;
                detector.dispose();
            }
            
        });
        
        future.awaitForUninterruptibly();
        assertNotNull(future);
        assertTrue(future.isServiceDetected());
    }

