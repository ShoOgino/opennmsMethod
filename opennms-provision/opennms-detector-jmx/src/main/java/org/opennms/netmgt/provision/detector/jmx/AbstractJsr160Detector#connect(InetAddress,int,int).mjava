    /** {@inheritDoc} */
    @Override
    protected JmxServerConnectionWrapper connect(final InetAddress address, final int port, final int timeout) {
        if (m_jmxConfigDao == null) {
            m_jmxConfigDao = BeanUtils.getBean("daoContext", "jmxConfigDao", JmxConfigDao.class);
        }

        Map<String, Object> props = Maps.newHashMap();
        props.put("port", port);
        props.put("timeout", timeout);
        props.put("factory", getFactory());
        props.put("friendlyname", getFriendlyName());
        props.put("username", getUsername());
        props.put("password", getPassword());
        props.put("urlPath", getUrlPath());
        props.put("type", getType());
        props.put("protocol", getProtocol());

        final MBeanServer server = m_jmxConfigDao.getConfig().lookupMBeanServer(InetAddressUtils.str(address), port);
        if (server != null) {
            props.putAll(server.getParameterMap());
        }

        return Jsr160ConnectionFactory.getMBeanServerConnection(props, address);
    }

