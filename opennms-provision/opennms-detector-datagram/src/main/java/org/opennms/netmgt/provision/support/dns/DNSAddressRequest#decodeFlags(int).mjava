    /**
     * <P>
     * Decodes the integer to get the flags - refer header for more info on the
     * flags.
     * </P>
     */
    private void decodeFlags(final int flags) throws IOException {
        //
        // check the response flag
        //
        final boolean isResponse = ((flags >> SHIFT_QUERY) & 1) != 0;
        if (!isResponse) throw new IOException("Response flag not set");

        //
        // check if error free
        //
        final int code = (flags >> SHIFT_RESPONSE_CODE) & 15;

        if (code != 0) {
            if (code == 2) {
                // Throw exception if error code indicates 'Server Failure'
                throw new IOException(codeName(code) + " (" + code + ")");
            }
        }

        //
        // set the members of the instance.
        //
        m_authoritative = ((flags >> SHIFT_AUTHORITATIVE) & 1) != 0;
        m_truncated = ((flags >> SHIFT_TRUNCATED) & 1) != 0;
        m_recursive = ((flags >> SHIFT_RECURSE_AVAILABLE) & 1) != 0;

    }

