    /**
     * Converts an unsigned byte to a short. By default, Java assumes that a
     * byte is signed.
     *
     * @param b a byte.
     * @return a short.
     */
    public static short unsignedByteToShort(final byte b) {
        if ((b & 0x80) == 0x80) {
            return (short) (128 + (b & 0x7f));
        } else {
            return (short) b;
        }
    }

