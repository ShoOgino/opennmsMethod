    @Test
    public void simpleSnapshotTest() throws URISyntaxException {
        Requisition pendingReq = new Requisition("test");
        pendingReq.putNode(createNode("1"));
        m_pending.save(pendingReq);
        m_pending.flush();
        pendingReq = m_pending.getRequisition(pendingReq.getForeignSource());
        final File pendingSnapshot = RequisitionFileUtils.createSnapshot(m_pending, pendingReq.getForeignSource(), pendingReq.getDate());

        m_repository.importResourceRequisition(new FileSystemResource(pendingSnapshot));

        assertFalse(pendingSnapshot.exists());
        final URL pendingUrl = m_pending.getRequisitionURL(pendingReq.getForeignSource());
        final File pendingFile = new File(pendingUrl.toURI());
        assertFalse(pendingFile.exists());
    }

