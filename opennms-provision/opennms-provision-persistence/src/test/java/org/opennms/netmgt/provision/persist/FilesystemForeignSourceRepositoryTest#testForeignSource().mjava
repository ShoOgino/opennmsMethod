    @Test
    public void testForeignSource() throws Exception {
        createRequisition();
        ForeignSource foreignSource = createForeignSource(m_defaultForeignSourceName);
        Set<ForeignSource> foreignSources = m_foreignSourceRepository.getForeignSources();
        assertEquals("number of foreign sources must be 1", 1, foreignSources.size());
        assertEquals("getAll() foreign source name must match", m_defaultForeignSourceName, foreignSources.iterator().next().getName());
        
        // check that the foreign source matches
        final ForeignSource newForeignSource = m_foreignSourceRepository.getForeignSource(m_defaultForeignSourceName);
        
        final EqualsBuilder eb = new EqualsBuilder()
        	.append(foreignSource.getName(), newForeignSource.getName())
        	.append(foreignSource.getDateStampAsDate(), newForeignSource.getDateStampAsDate())
        	.append(foreignSource.getDetectorNames(), newForeignSource.getDetectorNames())
        	.append(foreignSource.getScanInterval(), newForeignSource.getScanInterval());
        assertTrue("get() must return the same foreign source", eb.isEquals());
    }

