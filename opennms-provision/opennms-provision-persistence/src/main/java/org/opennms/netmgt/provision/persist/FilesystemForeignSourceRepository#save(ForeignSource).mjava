    public synchronized void save(ForeignSource foreignSource) throws ForeignSourceRepositoryException {
        if (foreignSource == null) {
            throw new ForeignSourceRepositoryException("can't save a null foreign source!");
        }
        if (foreignSource.getName().equals("default")) {
            putDefaultForeignSource(foreignSource);
            return;
        }
        File outputFile = getOutputFileForForeignSource(foreignSource);
        FileWriter writer = null;
        try {
            if (m_updateDateStamps) {
                foreignSource.updateDateStamp();
            }
            writer = new FileWriter(outputFile);
            getMarshaller(ForeignSource.class).marshal(foreignSource, writer);
        } catch (Exception e) {
            throw new ForeignSourceRepositoryException("unable to write requisition to " + outputFile.getPath(), e);
        } finally {
            IOUtils.closeQuietly(writer);
        }
    }

