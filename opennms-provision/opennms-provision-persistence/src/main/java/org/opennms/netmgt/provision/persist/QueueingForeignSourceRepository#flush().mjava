    @Override
    public void flush() throws ForeignSourceRepositoryException {
        LOG.debug("flushing queue");
        // wait for everything currently in the queue to complete

        final CountDownLatch latch = new CountDownLatch(1);
        m_executor.execute(new Runnable() {
            @Override
            public void run() {
                latch.countDown();
            }
        });
        try {
            latch.await();
        } catch (final InterruptedException e) {
            LOG.debug("Interrupted while waiting for ForeignSourceRepository flush.  Returning.", e);
            return;
        }
        LOG.debug("finished flushing queue");
    }

