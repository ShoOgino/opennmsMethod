    /**
     * <p>stopServer</p>
     *
     * @throws java.io.IOException if any.
     */
    public void stopServer() throws IOException {
        if (!m_stopped) {
            m_stopped = true;
            Thread t = getServerThread();
            if(t != null && t.isAlive()) { 
                t.interrupt();
                try {
                    Thread.sleep(20);
                } catch (final InterruptedException e) {
                    Thread.currentThread().interrupt();
                }
                if(getSocket() != null && !getSocket().isClosed()) {
                   getSocket().close();  
                }
            }
            setServerThread(null);
            getServerSocket().close();
        }
    }

