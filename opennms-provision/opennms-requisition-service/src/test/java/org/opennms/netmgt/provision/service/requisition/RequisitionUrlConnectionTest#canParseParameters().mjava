    @Test
    public void canParseParameters() throws MalformedURLException {
        final URL url = new URL("requisition://user:pass@test:42/some/deep/path?location=abc&parm1=1");
        Map<String, String> params = RequisitionUrlConnection.getParameters(url);
        assertThat(params,
                Matchers.<Map<String, String>>equalTo(new ImmutableMap.Builder<String, String>()
                        .put("path", "/some/deep/path")
                        .put("location", "abc")
                        .put("parm1", "1")
                        .put("type", "test")
                        .put("username", "user")
                        .put("password", "pass")
                        .build()
                ));
    }

