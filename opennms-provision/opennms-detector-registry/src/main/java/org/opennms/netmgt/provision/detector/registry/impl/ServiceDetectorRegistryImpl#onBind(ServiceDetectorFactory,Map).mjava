    @SuppressWarnings({ "rawtypes", "unchecked" })
    public synchronized void onBind(ServiceDetectorFactory factory, Map properties) {
        LOG.debug("bind called with {}: {}", factory, properties);
        if (factory != null) {
            final String serviceName = getServiceName(factory);
            final String className = factory.getDetectorClass().getCanonicalName();
            m_factoriesByServiceName.put(serviceName, factory);
            m_factoriesByClassName.put(className, factory);
            m_classNameByServiceName.put(serviceName, className);
        }
    }

