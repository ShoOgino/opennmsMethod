    @Test(timeout = 20000)
    public void testDetectorSuccess() throws Exception {
        URI uri = new URI(DEFAULT_CLIENT_BROKERURL);
        m_detector.setBrokerURL(DEFAULT_CLIENT_BROKERURL);
        m_detector.setPort(uri.getPort());
        m_detector.onInit();
        assertTrue(m_detector.isServiceDetected(InetAddress.getLocalHost(), uri));
        m_detector.dispose();
    }

