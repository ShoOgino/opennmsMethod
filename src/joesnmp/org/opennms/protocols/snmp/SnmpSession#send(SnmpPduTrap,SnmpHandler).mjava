    /**
     * Send the SNMP PDU Trap to the remote agent. This is a non-blocking call.
     * 
     * @param pdu
     *            The pdu to encode and send
     * @param handler
     *            The handler object for this request
     * 
     * @return The request identifier for the newly sent PDU.
     * 
     * @exception SnmpHandlerNotDefinedException
     *                Thrown if the handler is null
     * @exception java.lang.IllegalStateException
     *                Thrown if the session has been closed.
     */
    public int send(SnmpPduTrap pdu, SnmpHandler handler) {
        if (handler == null)
            throw new SnmpHandlerNotDefinedException("No Handler Defined");

        //
        // check to ensure that the session is still open
        //
        synchronized (m_sync) {
            if (m_stopRun) // session has been closed!
                throw new IllegalStateException("illegal operation, the session has been closed");
        }

        SnmpRequest req = new SnmpRequest(this, pdu, handler);
        req.run();
        return 0;
    }

