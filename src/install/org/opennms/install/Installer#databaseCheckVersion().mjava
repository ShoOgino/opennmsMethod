    public void databaseCheckVersion() throws Exception {
	Statement st = m_dbconnection.createStatement();
	ResultSet rs = st.executeQuery("SELECT version()");
	if (!rs.next()) {
	    throw new Exception("Database didn't return any rows for " +
				"'SELECT version()'");
	}

	String versionString = rs.getString(1);

	rs.close();
	st.close();

	Matcher m = Pattern.compile("^PostgreSQL (\\d+\\.\\d+)").
	    matcher(versionString);

	if (!m.find()) {
	    throw new Exception("Could not parse version number out of " +
				"version string: " + versionString);
	}
	String version = m.group(1);
	m_pg_version = Float.parseFloat(version);

	if (m_pg_version < POSTGRES_MIN_VERSION) {
	   throw new Exception("Unsupported database version \"" +
		m_pg_version + "\" -- you need at least " +
		POSTGRES_MIN_VERSION);
	}

	if (m_pg_version >= 7.3) {
	    m_cascade = " CASCADE";
	}
    }

