	protected void setUp() throws Exception {
		if (!isDBTestEnabled()) {
			return;
		}

		m_testDatabase = "opennms_test_" + System.currentTimeMillis();

		m_installer = new Installer();
		// Create a ByteArrayOutputSteam to effectively throw away output.
		m_installer.m_out = new PrintStream(new ByteArrayOutputStream());
		m_installer.m_database = m_testDatabase;
		m_installer.m_pg_driver = "org.postgresql.Driver";
		m_installer.m_pg_url = "jdbc:postgresql://localhost:5432/";
		m_installer.m_pg_user = "postgres";
		m_installer.m_pg_pass = "";
		m_installer.m_create_sql = "etc/create.sql";
		m_installer.m_fix_constraint = true;
		m_installer.m_fix_constraint_name = m_constraint;

		// Create test database.
		m_installer.databaseConnect("template1");
		m_installer.databaseAddDB();
		m_installer.databaseDisconnect();

		// Connect to test database.
		m_installer.databaseConnect(m_testDatabase);

		// Read in the table definitions
		m_installer.readTables();
	}

