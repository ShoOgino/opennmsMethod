    public void updateIplike() throws Exception {
	Statement st = m_dbconnection.createStatement();
	ResultSet rs;

	if (!m_update_iplike) {
	    return;
	}

	System.out.print("- checking for stale iplike references... ");
	try {
	    st.execute("DROP FUNCTION iplike(text,text)");
	    System.out.println("REMOVED");
	} catch (SQLException e) {
	    if (e.toString().indexOf("does not exist") != -1) {
		System.out.println("CLEAN");
	    } else {
		throw new SQLException(e.toString());
	    }
	}

	// XXX This error is generated from Postgres if eventtime(text)
	//     does not exist:
	//        ERROR:  function eventtime(text) does not exist
	System.out.print("- checking for stale eventtime.so references... ");
	try {
	    st.execute("DROP FUNCTION eventtime(text)");
	    System.out.println("REMOVED");
	} catch (SQLException e) {
	    if (e.toString().indexOf("does not exist") != -1) {
		System.out.println("CLEAN");
	    } else {
		throw new SQLException(e.toString());
	    }
	}

	System.out.print("- adding iplike database function... ");
	st.execute("CREATE FUNCTION iplike(text,text) RETURNS bool " +
		   "AS '" + m_pg_iplike +
		   "' LANGUAGE 'c' WITH(isstrict)");
	System.out.println("OK");
    }

