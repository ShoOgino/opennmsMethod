    public void updateIplike() throws Exception {
	Statement st = m_dbconnection.createStatement();
	ResultSet rs;

	m_out.print("- checking for stale iplike references... ");
	try {
	    st.execute("DROP FUNCTION iplike(text,text)");
	    m_out.println("REMOVED");
	} catch (SQLException e) {
	    /*
	      SQL Status code:
	        42883: ERROR: function %s does not exist
	     */
	    if (e.getSQLState().equals("42883")) {
		m_out.println("CLEAN");
	    } else {
		throw e;
	    }
	}

	// XXX This error is generated from Postgres if eventtime(text)
	//     does not exist:
	//        ERROR:  function eventtime(text) does not exist
	m_out.print("- checking for stale eventtime.so references... ");
	try {
	    st.execute("DROP FUNCTION eventtime(text)");
	    m_out.println("REMOVED");
	} catch (SQLException e) {
	    /*
	      SQL Status code:
	        42883: ERROR: function %s does not exist
	     */
	    if (e.getSQLState().equals("42883")) {
		m_out.println("CLEAN");
	    } else {
		throw e;
	    }
	}

	m_out.print("- adding iplike database function... ");
	st.execute("CREATE FUNCTION iplike(text,text) RETURNS bool " +
		   "AS '" + m_pg_iplike +
		   "' LANGUAGE 'c' WITH(isstrict)");
	m_out.println("OK");
    }

