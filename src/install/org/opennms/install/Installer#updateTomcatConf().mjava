    public void updateTomcatConf() throws Exception {
	File f = new File(m_tomcat_conf);

	// XXX give the user the option to set the user to something else?
	//     if so, should we chown the appropriate OpenNMS files to the
	//     tomcat user?
	//
	// XXX should we have the option to automatically try to determine
	//     the tomcat user and chown the OpenNMS files to that user?

	System.out.print("- setting tomcat4 user to 'root'... ");

	BufferedReader r = new BufferedReader(new FileReader(f));
	StringBuffer b = new StringBuffer();
	String line;

	while ((line = r.readLine()) != null) {
	    if (line.startsWith("TOMCAT_USER=")) {
		b.append("TOMCAT_USER=\"root\"\n");
	    } else {
		b.append(line);
		b.append("\n");
	    }
	}
	r.close();

	f.renameTo(new File(m_tomcat_conf + ".before-opennms-" +
			    System.currentTimeMillis()));

	f = new File(m_tomcat_conf);
	PrintWriter w = new PrintWriter(new FileOutputStream(f));

	w.print(b.toString());
	w.close();

	System.out.println("done");
    }

