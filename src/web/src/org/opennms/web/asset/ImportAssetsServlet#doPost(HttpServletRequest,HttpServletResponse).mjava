    /**
     * Acknowledge the events specified in the POST and then redirect the 
     * client to an appropriate URL for display.
     */
    public void doPost( HttpServletRequest request, HttpServletResponse response ) throws ServletException, IOException {
        String assetsText = request.getParameter( "assetsText" );

        if( assetsText == null ) {
            throw new MissingParameterException( "assetsText" );
        }

        try {
	    List assets = this.decodeAssetsText( assetsText );
	    List nodesWithAssets = this.getCurrentAssetNodesList();
	
	    int assetCount = assets.size();

	    for( int i=0; i < assetCount; i++ ) {
		Asset asset = (Asset)assets.get(i);

		//update with the current information
		asset.setUserLastModified( request.getRemoteUser() );
		asset.setLastModifiedDate( new Date() );

		if( nodesWithAssets.contains( new Integer(asset.getNodeId()) )) {
		    this.model.modifyAsset( asset );
		}
		else {
		    this.model.createAsset( asset );
		}
	    } 	    	    

            response.sendRedirect( this.redirectSuccess );
        }
        catch( SQLException e ) {
            throw new ServletException( "Database exception", e );
        }
    }

