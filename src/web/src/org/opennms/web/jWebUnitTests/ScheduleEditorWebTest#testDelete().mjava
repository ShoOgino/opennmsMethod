    public void testDelete() throws Exception {
        beginAt("/admin/schedule/schedule-editor?file=" + m_outagesFile.getAbsolutePath());
        assertTitleEquals("Schedule Editor");
        BasicSchedule[] schedules = getCurrentSchedules();
        
        int deleteIndex = 1;
        String deleteForm = "schedule["+deleteIndex+"].deleteForm";
        
        // first test canceling the confirm dialog
        m_testResponder.anticipateConfirmation("Are you sure you wish to delete this schedule?", false);
        setWorkingForm(deleteForm);
        submit();
        
        // since we canceled everything should be the same
        BasicSchedule[] canceledSchedules = getCurrentSchedules();
        assertEquals(schedules.length, canceledSchedules.length);
        
        // noew test ok'ing the confirm dialog
        m_testResponder.anticipateConfirmation("Are you sure you wish to delete this schedule?", true);
        setWorkingForm(deleteForm);
        submit();
        
        // since we canceled everything should be the same
        BasicSchedule[] newSchedules = getCurrentSchedules();
        assertEquals(schedules.length-1, newSchedules.length);
        
        int newIndex = 0;
        for(int oldIndex = 0; oldIndex < schedules.length; oldIndex++) {
            if (oldIndex == deleteIndex) continue;
            assertEquals(schedules[oldIndex].getName(), newSchedules[newIndex].getName());
            newIndex++;
        }
        
    }

