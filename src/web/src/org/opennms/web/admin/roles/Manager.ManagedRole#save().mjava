        public void save() {
            try {
                Role role = (m_role == null ? new Role() : m_role);
                if (m_flags.get(DESCR))
                    role.setDescription(super.getDescription());
                if (m_flags.get(USER))
                    role.setSupervisor(super.getDefaultUser().getName());
                if (m_flags.get(GROUP))
                    role.setMembershipGroup(super.getMembershipGroup().getName());
                if (m_flags.get(NAME))
                    role.setName(super.getName());
                
                Collection newEntries = getNewEntries();
                for (Iterator it = newEntries.iterator(); it.hasNext();) {
                    WebSchedEntry entry = (WebSchedEntry) it.next();
                    entry.update(role);
                }
                
                if (m_role != null) {
                    m_groupManager.saveGroups();
                } else {
                    m_groupManager.saveRole(role);
                    m_role = role;
                }
            } catch (Exception e) {
                throw new WebRolesException("Unable to save role "+getName()+". "+e.getMessage(), e);
            }
            
        }

