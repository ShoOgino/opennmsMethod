    private List getAllInterfaces(HttpSession userSession) throws SQLException {
        Connection connection = null;
        List allInterfaces = new ArrayList();
        int lineCount = 0;

        try {
            connection = DatabaseConnectionFactory.getInstance().getConnection();
            int snmpServNum = 0;
            Statement servstmt = connection.createStatement();
            ResultSet snmpserv = servstmt.executeQuery(SNMP_SERVICE_QUERY);
            if (snmpserv != null) {
                while (snmpserv.next()) {
                    snmpServNum = snmpserv.getInt(1);
                }
            }

            PreparedStatement interfaceSelect = connection.prepareStatement(INTERFACE_QUERY);
            interfaceSelect.setInt(1, snmpServNum);

            ResultSet interfaceSet = interfaceSelect.executeQuery();

            if (interfaceSet != null) {
                while (interfaceSet.next()) {
                    lineCount++;
                    SnmpManagedInterface newInterface = new SnmpManagedInterface();
                    allInterfaces.add(newInterface);
                    newInterface.setNodeid(interfaceSet.getInt(1));
                    newInterface.setAddress(interfaceSet.getString(2));
                    newInterface.setIfIndex(interfaceSet.getInt(3));
                    newInterface.setIpHostname(interfaceSet.getString(4));
                    newInterface.setStatus(interfaceSet.getString(5));
                    newInterface.setIfDescr(interfaceSet.getString(6));
                    newInterface.setIfType(interfaceSet.getInt(7));
                    newInterface.setIfName(interfaceSet.getString(8));
                }
            }
            interfaceSelect.close();
            userSession.setAttribute("lineIntItems.snmpmanage.jsp", new Integer(lineCount));
        } finally {
            if (connection != null) {
                try {
                    connection.close();
                } catch (SQLException e) {
                }
            }
        }

        return allInterfaces;

    }

