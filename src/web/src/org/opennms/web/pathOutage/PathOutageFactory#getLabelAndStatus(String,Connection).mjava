    /**
     * This method is responsible for determining the 
     * node label of a node, and the up/down status
     * and status color 
     * 
     * @param String nodeID
     *            the nodeID of the node being checked
     */
    public static String[] getLabelAndStatus(String nodeID, Connection conn) throws SQLException {

	//TODO: replace critical service with config file critical service
	int critSvcId=1; // ICMP
        int count = 0;
        String result[] = new String[3];
        result[1] = "lightblue";
        result[2] = "Unmanaged";

        PreparedStatement stmt = conn.prepareStatement(GET_NODELABEL_BY_NODEID);
        stmt.setString(1, nodeID);
        ResultSet rs = stmt.executeQuery();
        while (rs.next()) {
            result[0] = rs.getString(1);
        }
        rs.close();
        stmt.close();

        stmt = conn.prepareStatement(COUNT_MANAGED_SVCS);
        stmt.setString(1, nodeID);
        rs = stmt.executeQuery();
        while (rs.next()) {
            count = rs.getInt(1);
        }
        rs.close();
        stmt.close();

        if(count > 0) {
            stmt = conn.prepareStatement(SQL_CRITICAL_SVC_OUTAGE);
            stmt.setString(1, nodeID);
	    stmt.setInt(2, critSvcId);
            rs = stmt.executeQuery();
            while (rs.next()) {
                count = rs.getInt(1);
            }
            rs.close();
            stmt.close();
            if(count > 0) {
                result[1] = "red";
                result[2] = "Down";
            } else {
                result[1] = "green";
                result[2] = "Up";
            }
        }
        return result;
    }

