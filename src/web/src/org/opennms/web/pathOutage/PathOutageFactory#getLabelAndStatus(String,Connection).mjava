    /**
     * This method is responsible for determining the 
     * node label of a node, and the up/down status
     * and status color 
     * 
     * @param String nodeID
     *            the nodeID of the node being checked
     */
    public static String[] getLabelAndStatus(String nodeID, Connection conn) throws SQLException {

        int countManagedSvcs = 0;
        int countOutages = 0;
        String result[] = new String[3];
        result[1] = "lightblue";
        result[2] = "Unmanaged";

        PreparedStatement stmt = conn.prepareStatement(GET_NODELABEL_BY_NODEID);
        stmt.setString(1, nodeID);
        ResultSet rs = stmt.executeQuery();
        while (rs.next()) {
            result[0] = rs.getString(1);
        }
        rs.close();
        stmt.close();

        stmt = conn.prepareStatement(COUNT_MANAGED_SVCS);
        stmt.setString(1, nodeID);
        rs = stmt.executeQuery();
        while (rs.next()) {
            countManagedSvcs = rs.getInt(1);
        }
        rs.close();
        stmt.close();

        if(countManagedSvcs > 0) {
            stmt = conn.prepareStatement(COUNT_OUTAGES);
            stmt.setString(1, nodeID);
            rs = stmt.executeQuery();
            while (rs.next()) {
                countOutages = rs.getInt(1);
            }
            rs.close();
            stmt.close();
            if(countManagedSvcs == countOutages) {
                result[1] = "red";
                result[2] = "All Services Down";
            } else if(countOutages == 0) {
                result[1] = "green";
                result[2] = "All Services Up";
            } else {
                result[1] = "orange";
                result[2] = "Some Services Down";
            }
        }
        return result;
    }

