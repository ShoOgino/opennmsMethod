    protected void setUp() throws Exception {
        MockUtil.println("------------ Begin Test " + getName() + " --------------------------");
        MockLogAppender.setupLogging();
        
        // save of the users.xml file so we can restore it after the test
        copyFile(m_usersFile, m_usersFile+"."+getName()+"-sav");
        
        m_servletRunner = new ServletRunner(new File(".deployables/opennms/WEB-INF/web.xml"), "/opennms");

        m_servletClient = m_servletRunner.newClient();
        
        m_testResponder = new TestDialogResponder();
        m_servletClient.setDialogResponder(m_testResponder);
        
        getTestContext().setBaseUrl("http://localhost:8080/opennms");

        getTestContext().setWebClient(m_servletClient);
        getTestContext().setAuthorization("admin", "OpenNMS Administrator");

        // We need to do this to ensure that the factory reloads the new users.xml file
        UserFactory.init();
        UserFactory.getInstance().getUserNames();


    }

