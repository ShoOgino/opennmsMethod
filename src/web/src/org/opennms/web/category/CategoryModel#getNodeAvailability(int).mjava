    /**
     * Return the availability percentage for all managed services on the given node
     * for the last 24 hours.  If there are no managed services on this node, 
     * then a value of -1 is returned.
     */
    public double getNodeAvailability(int nodeId) throws SQLException {        
        Calendar cal = new GregorianCalendar();
        Date now = cal.getTime();
        cal.add( Calendar.DATE, -1 );
        Date yesterday = cal.getTime();        
        
        return this.getNodeAvailability(nodeId, yesterday, now);
    }

