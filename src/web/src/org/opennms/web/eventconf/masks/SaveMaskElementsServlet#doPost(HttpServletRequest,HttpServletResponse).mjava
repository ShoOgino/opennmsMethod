    public void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        HttpSession user = request.getSession(false);

        if (user != null) {
            Event event = (Event) user.getAttribute("event.modify.jsp");

            List maskElements = event.getMask();

            String[] names = request.getParameterValues("mask");

            maskElements.clear();
            if (names != null) {
                for (int i = 0; i < names.length; i++) {
                    MaskElement newElement = new MaskElement();

                    newElement.setElementName(names[i]);

                    String values = request.getParameter("mask" + i + "Values");

                    if (values != null && !values.trim().equals("")) {
                        parseValues(values, newElement);
                        maskElements.add(newElement);
                    }
                }
            }
        }

        // forward the request for proper display
        RequestDispatcher dispatcher = this.getServletContext().getRequestDispatcher(request.getParameter("redirect"));
        dispatcher.forward(request, response);
    }

