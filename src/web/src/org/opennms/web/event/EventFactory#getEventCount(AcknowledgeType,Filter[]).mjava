    /**
     * Count the number of events for a given acknowledgement type.
     */
    public static int getEventCount( AcknowledgeType ackType, Filter[] filters ) throws SQLException {
        if( ackType == null || filters == null ) {
            throw new IllegalArgumentException( "Cannot take null parameters." );
        }

        int eventCount = 0;
        Connection conn = Vault.getDbConnection();

        try {
            StringBuffer select = new StringBuffer( "SELECT COUNT(*) AS EVENTCOUNT FROM EVENTS LEFT OUTER JOIN NODE USING (NODEID) LEFT OUTER JOIN SERVICE USING (SERVICEID) WHERE " );
            select.append( getAcknowledgeTypeClause( ackType ));

            for( int i=0; i < filters.length; i++ ) {
                select.append( " AND" );
                select.append( filters[i].getSql() );
            }
            
            select.append( " AND EVENTDISPLAY='Y' ");
            
            Statement stmt = conn.createStatement();
            ResultSet rs = stmt.executeQuery(select.toString());
    
            if( rs.next() ) {
                eventCount = rs.getInt( "EVENTCOUNT" );                
            }
          
            rs.close();
            stmt.close();
        }
        finally {
            Vault.releaseDbConnection( conn );
        }

        return eventCount;
    }

