    /**
     * Acknowledge a list of events with the given username and the given time.
     */ 
    public static void acknowledge( int[] eventIds, String user, Date time ) throws SQLException {
        if( eventIds == null || user == null || time == null ) {
            throw new IllegalArgumentException( "Cannot take null parameters." );
        }

        if( eventIds.length > 0 ) {
            StringBuffer update = new StringBuffer( "UPDATE EVENTS SET EVENTACKUSER=?, EVENTACKTIME=?" );
            update.append( " WHERE EVENTID IN (" );
            update.append( eventIds[0] );

            for( int i=1; i < eventIds.length; i++ ) {
                update.append( "," );
                update.append( eventIds[i] );
            }

            update.append( ")" );
            update.append( " AND EVENTACKUSER IS NULL" );
    
            Connection conn = Vault.getDbConnection();

            try {
                PreparedStatement stmt = conn.prepareStatement( update.toString() );
                stmt.setString( 1, user );
                stmt.setTimestamp( 2, new Timestamp(time.getTime()));
                
                stmt.executeUpdate();
                stmt.close();
            }
            finally {
                Vault.releaseDbConnection( conn );
            }
        }
    }

