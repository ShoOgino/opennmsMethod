    // FIXME: model?
    public int getPollStatus() {
        final String critSvcName = getNetwork().getCriticalService();
        final MockService critSvc = getService(critSvcName);
        class IFStatusCalculator extends MockVisitorAdapter {
            int status = ServiceMonitor.SERVICE_UNAVAILABLE;

            public int getStatus() {
                return status;
            }

            public void visitService(MockService svc) {
                if (critSvc == null || critSvc.equals(svc)) {
                    if (svc.getPollStatus() == ServiceMonitor.SERVICE_AVAILABLE)
                        status = ServiceMonitor.SERVICE_AVAILABLE;
                }
            }

        }
        ;
        IFStatusCalculator calc = new IFStatusCalculator();
        visit(calc);
        return calc.getStatus();
    }

