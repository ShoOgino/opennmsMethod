    protected void setUp() throws Exception {
        MockUtil.println("------------ Begin Test "+getName()+" --------------------------");
        MockUtil.setupLogging();
        MockUtil.resetLogLevel();
        
        m_network = new MockNetwork();
        m_network.setCriticalService("ICMP");
        m_network.addNode(1, "Router");
        m_network.addInterface("192.168.1.1");
        m_network.addService("ICMP");
        m_network.addService("SMTP");
        m_network.addInterface("192.168.1.2");
        m_network.addService("ICMP");
        m_network.addService("SMTP");
        m_network.addNode(2, "Server");
        m_network.addInterface("192.168.1.3");
        m_network.addService("ICMP");
        m_network.addService("HTTP");
        m_network.addInterface("192.168.1.2");
        
        MapSubAgent systemGroup = new MapSubAgent("1.3.6.1.2.1.1");
        systemGroup.put("1.0", new OctetString("MockAgent!"));
        systemGroup.put("2.0", new OID("1.3.6.1.4.1.5813.1"));
        systemGroup.put("3.0", new TimeTicks(1234));
        systemGroup.put("4.0", new OctetString("Mr. Personality"));
        systemGroup.put("5.0", new OctetString("mockhost"));
        systemGroup.put("6.0", new OctetString("Wouldn't you like to know"));
        // what happened to 7.0?
        
        MapSubAgent interfaces = new MapSubAgent("1.3.6.1.2.1.2");
        interfaces.put("1.0", new Integer32(2));
        
        m_proxy = new MockProxy(9161);
        
        MockAgent agent = new MockAgent();
        agent.addSubAgent(systemGroup);
        agent.addSubAgent(interfaces);
        
        m_proxy.addAgent(agent);

    }

