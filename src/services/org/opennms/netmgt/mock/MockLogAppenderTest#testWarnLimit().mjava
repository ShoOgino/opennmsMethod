	public void testWarnLimit() throws InterruptedException {
        Category log = ThreadCategory.getInstance();
        log.info("An Info message");
        log.warn("A warn message");
		
        assertFalse("Messages were not logged with a warning level or higher",
				MockLogAppender.noWarningsOrHigherLogged());

		Thread.sleep(500);

		LoggingEvent[] events = MockLogAppender.getEventsGreaterOrEqual(Level.WARN);
		
		assertEquals("Number of logged events", events.length, 1);
		
		assertEquals("Logged event level", Level.WARN, events[0].getLevel());
		assertEquals("Logged message", "A warn message", events[0].getMessage());
	}

