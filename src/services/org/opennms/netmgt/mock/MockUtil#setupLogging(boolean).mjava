    public static void setupLogging(boolean toConsole) {
        if (!s_loggingSetup) {
            String level = System.getProperty("mock.logLevel", "DEBUG");
            Properties logConfig = new Properties();

            String consoleAppender = (toConsole ? ", POLLER" : "");

            logConfig.put("log4j.rootCategory", level+consoleAppender+", MOCK");
            logConfig.put("log4j.appender.POLLER", "org.apache.log4j.ConsoleAppender");
            logConfig.put("log4j.appender.POLLER.layout", "org.apache.log4j.PatternLayout");
            logConfig.put("log4j.appender.POLLER.layout.ConversionPattern", "%d %-5p [%t] %c: %m%n");
            logConfig.put("log4j.appender.MOCK", "org.opennms.netmgt.mock.MockLogAppender");
            PropertyConfigurator.configure(logConfig);
        }
    }

