    private void checkUrl(String url) {
        if (url == null)
            throw new NullPointerException("url must not be null");
        
        if (url.length() == 0)
            throw new IllegalArgumentException("Illegal url \'\'.  Must not be zero length");
        
        if (url.length() > 512)
            throw new IllegalArgumentException("Illegal url "+url+". Must be less than 512 chars");
    }

