    /**
     * @param whichEvent
     * @param nodeId
     * @param ipAddr
     * @param serviceName
     * @return
     */
    public boolean activeServiceExists(String whichEvent, int nodeId, String ipAddr, String serviceName) {
        Category log = ThreadCategory.getInstance(getClass());
        java.sql.Connection dbConn = null;
        PreparedStatement stmt = null;
        try {
            dbConn = getConnection();

            stmt = dbConn.prepareStatement(DefaultQueryManager.SQL_COUNT_IFSERVICE_STATUS);

            stmt.setInt(1, nodeId);
            stmt.setString(2, ipAddr);
            stmt.setString(3, serviceName);

            ResultSet rs = stmt.executeQuery();
            while (rs.next()) {
                return rs.getInt(1) > 0;
            }

            if (log.isDebugEnabled())
                log.debug(whichEvent + nodeId + "/" + ipAddr + "/" + serviceName + " active");
        } catch (SQLException sqlE) {
            log.error("SQLException during check to see if nodeid/ip/service is active", sqlE);
        } finally {
            // close the statement
            if (stmt != null)
                try {
                    stmt.close();
                } catch (SQLException sqlE) {
                }
            ;

            // close the connection
            if (dbConn != null)
                try {
                    dbConn.close();
                } catch (SQLException sqlE) {
                }
            ;
        }
        return false;
    }

