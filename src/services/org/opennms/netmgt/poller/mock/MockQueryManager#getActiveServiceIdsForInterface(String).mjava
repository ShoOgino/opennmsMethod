    public List getActiveServiceIdsForInterface(final String ipaddr) throws SQLException {
        final Set serviceIds = new HashSet();

        MockVisitor gatherServices = new MockVisitorAdapter() {

            public void visitService(MockService s) {
                if (ipaddr.equals(s.getInterface().getIpAddr())) {
                    serviceIds.add(new Integer(s.getId()));
                }
            }

        };
        m_network.visit(gatherServices);

        return new ArrayList(serviceIds);
    }

