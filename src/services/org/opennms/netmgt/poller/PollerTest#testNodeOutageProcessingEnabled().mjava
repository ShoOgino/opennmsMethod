    // test whole node down
    public void testNodeOutageProcessingEnabled() throws Exception {

        m_network.setNodeOutageProcessingEnabled(true);

        EventAnticipator anticipator = m_network.getEventAnticipator();
        MockNode node = m_network.getNode(1);

        // start the poller
        m_poller.init();
        m_poller.start();

        // setup expected events
        anticipator.reset();
        anticipateNodeStatusChanged(node, anticipator, ServiceMonitor.SERVICE_UNAVAILABLE);

        // brind down the node (duh)
        node.bringDown();

        // make sure the correct events are recieved
        assertEquals(0, anticipator.waitForAnticipated(10000).size());
        assertEquals(0, anticipator.unanticipatedEvents().size());

        // setup excpeted node up events
        anticipator.reset();
        anticipateNodeStatusChanged(node, anticipator, ServiceMonitor.SERVICE_UNAVAILABLE);

        // bring the node back up
        node.bringUp();

        // make sure the up events are received
        assertEquals(0, anticipator.waitForAnticipated(10000).size());
        assertEquals(0, anticipator.unanticipatedEvents().size());

        // now stop the poller
        m_poller.stop();

    }

