    // test whole node down
    public void testNodeOutageProcessingEnabled() throws Exception {

        m_pollerConfig.setNodeOutageProcessingEnabled(true);

        MockNode node = m_network.getNode(1);

        // start the poller
        startDaemons();

        // setup expected events
        m_anticipator.reset();
        anticipateNodeStatusChanged(node, m_anticipator, ServiceMonitor.SERVICE_UNAVAILABLE);

        // brind down the node (duh)
        node.bringDown();

        // make sure the correct events are recieved
        assertEquals(0, m_anticipator.waitForAnticipated(10000).size());
        assertEquals(0, m_anticipator.unanticipatedEvents().size());

        // setup excpeted node up events
        m_anticipator.reset();
        anticipateNodeStatusChanged(node, m_anticipator, ServiceMonitor.SERVICE_UNAVAILABLE);

        // bring the node back up
        node.bringUp();

        // make sure the up events are received
        assertEquals(0, m_anticipator.waitForAnticipated(10000).size());
        assertEquals(0, m_anticipator.unanticipatedEvents().size());


    }

