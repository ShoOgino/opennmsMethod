    private void anticipateNodeStatusChanged(MockElement element, final EventAnticipator anticipator, final int newStatus) {
        final String uei = (newStatus == ServiceMonitor.SERVICE_AVAILABLE ? EventConstants.NODE_UP_EVENT_UEI : EventConstants.NODE_DOWN_EVENT_UEI);
        MockVisitor eventCreator = new MockVisitorAdapter() {
            public void visitNode(MockNode node) {
                if (node.getPollStatus() != newStatus) {
                    Event event = MockUtil.createEvent("Test", uei, node.getNodeId(), null, null);
                    anticipator.anticipateEvent(event);
                }
            }
        };
        element.visit(eventCreator);

    }

