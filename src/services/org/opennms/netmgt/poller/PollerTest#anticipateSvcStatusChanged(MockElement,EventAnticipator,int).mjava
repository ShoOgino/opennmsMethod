    private void anticipateSvcStatusChanged(MockElement element, final EventAnticipator anticipator, final int newStatus) {
        final String uei = (newStatus == ServiceMonitor.SERVICE_AVAILABLE ? EventConstants.NODE_REGAINED_SERVICE_EVENT_UEI : EventConstants.NODE_LOST_SERVICE_EVENT_UEI);
        MockVisitor eventCreator = new MockVisitorAdapter() {
            public void visitService(MockService svc) {
                if (svc.getPollStatus() != newStatus) {
                    Event event = MockUtil.createEvent(uei, svc.getNodeId(), svc.getIpAddr(), svc.getName());
                    anticipator.anticipateEvent(event);
                }
            }
        };
        element.visit(eventCreator);
    }

