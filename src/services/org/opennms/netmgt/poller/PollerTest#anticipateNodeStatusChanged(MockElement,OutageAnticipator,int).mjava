    private void anticipateNodeStatusChanged(MockElement element, final OutageAnticipator anticipator, final int newStatus) {
        final String uei = (newStatus == ServiceMonitor.SERVICE_AVAILABLE ? EventConstants.NODE_UP_EVENT_UEI : EventConstants.NODE_DOWN_EVENT_UEI);
        MockVisitor eventCreator = new MockVisitorAdapter() {
            public void visitNode(MockNode node) {
                if (node.getPollStatus() != newStatus) {
                    Event event = MockUtil.createNodeEvent("Test", uei, node);
                    if (newStatus == ServiceMonitor.SERVICE_AVAILABLE)
                        anticipator.anticipateOutageClosed(event);
                    else
                        anticipator.anticipateOutageOpened(event);
                }
            }
        };
        element.visit(eventCreator);

    }

