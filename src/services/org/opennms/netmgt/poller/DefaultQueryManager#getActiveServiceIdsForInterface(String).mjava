    /**
     * @param ipaddr
     * @return
     * @throws SQLException
     */
    public List getActiveServiceIdsForInterface(String ipaddr) throws SQLException {
        java.sql.Connection dbConn = DatabaseConnectionFactory.getInstance().getConnection();
        try {
            List serviceIds = new ArrayList();
            Category log = ThreadCategory.getInstance(getClass());
            PreparedStatement stmt = dbConn.prepareStatement(DefaultQueryManager.SQL_FETCH_IFSERVICES_TO_POLL);
            stmt.setString(1, ipaddr);
            ResultSet rs = stmt.executeQuery();
            if (log.isDebugEnabled())
                log.debug("restartPollingInterfaceHandler: retrieve active service to poll on interface: " + ipaddr);
    
            while (rs.next()) {
                serviceIds.add(rs.getObject(1));
            }
            return serviceIds;
        } finally {
            dbConn.close();
        }
    }

