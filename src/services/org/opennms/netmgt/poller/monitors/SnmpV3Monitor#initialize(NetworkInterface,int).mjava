    /**
     * Currently, this implmentation is only called directly from JUnit tests
     * and the overloaded partner method that is called by the poller.
     * @param iface
     * @param requestedVersion
     */
    public void initialize(NetworkInterface iface, int requestedVersion) {

        if (iface.getType() != NetworkInterface.TYPE_IPV4)
            throw new RuntimeException("Unsupported interface type, only TYPE_IPV4 currently supported");
        if (m_log.isDebugEnabled())
            m_log.debug("initialize: setting SNMP target attributes for this interface: " + ((InetAddress) iface.getAddress()).getHostAddress());

        Target target = null;
        if (requestedVersion != -1)
            target = SnmpPeerFactory.getInstance().getTarget((InetAddress) iface.getAddress(), requestedVersion);
        else
            target = SnmpPeerFactory.getInstance().getTarget((InetAddress) iface.getAddress());
        
        iface.setAttribute(SNMPV3_TARGET_KEY, target);

        if (m_log.isDebugEnabled())
            m_log.debug("initialize: interface: " + ((InetAddress) iface.getAddress()).getHostAddress() + " initialized.");

        return;
    }

