    public void testNodeLostRegainedService() throws Exception {
        startOutageMgr();

        MockService svc = m_network.getService(1, "192.168.1.1", "SMTP");
        String svcLostTime = EventConstants.formatToString(november(20, 2004, 12, 34, 56));
        String svcRegainedTime = EventConstants.formatToString(november(21, 2004, 12, 34, 56));

        Event lostService = MockUtil.createNodeLostServiceEvent("Test", svc);
        lostService.setTime(svcLostTime);

        Event regainService = MockUtil.createNodeRegainedServiceEvent("Test", svc);
        regainService.setTime(svcRegainedTime);
        
        testServices(svc, lostService, regainService);

    }

