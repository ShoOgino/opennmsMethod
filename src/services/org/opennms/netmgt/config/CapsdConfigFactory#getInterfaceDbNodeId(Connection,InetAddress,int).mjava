	/**
	 * 
	 */
	public int getInterfaceDbNodeId(Connection dbConn, InetAddress ifAddress, int ifIndex)
		throws SQLException
	{
		Category log = ThreadCategory.getInstance(CapsdConfigFactory.class);
		
		log.debug("getInterfaceDbNodeId: attempting to lookup interface " + ifAddress.getHostAddress() 
                        + "/ifindex: " + ifIndex + " in the database.");
		
		// Set connection as read-only
		//
		//dbConn.setReadOnly(true);
	
                StringBuffer qs = new StringBuffer(RETRIEVE_IPADDR_NODEID_SQL);
                if (ifIndex != -1)
                        qs.append(" AND ifindex=?");
                
		PreparedStatement s = dbConn.prepareStatement(qs.toString());
		s.setString(1, ifAddress.getHostAddress());
		
		ResultSet rs = s.executeQuery();
		int nodeid = -1;
		if(rs.next())
		{
			nodeid = rs.getInt(1);
		}
		
		// Close result set and statement
		//
		rs.close();
		s.close();
			
		return nodeid;
	}

