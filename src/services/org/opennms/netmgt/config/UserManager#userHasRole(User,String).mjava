    public boolean userHasRole(User user, String roleid) throws FileNotFoundException, MarshalException, ValidationException, IOException {
        update();

        if (roleid == null) throw new NullPointerException("roleid is null");
        
        
        Collection schedules = user.getOncallScheduleCollection();
        
        for(Iterator it = schedules.iterator(); it.hasNext();) {
            OncallSchedule sched = (OncallSchedule)it.next();
            if (roleid.equals(sched.getName())) {
                return true;
            }
        }
        
        return false;
    }

