    /**
     * When this method is called group name is changed, so also is the
     * groupname belonging to the view. Also overwrites the "groups.xml" file
     */
    public synchronized void renameUser(String oldName, String newName) throws Exception {
        // Get the old data
        if (oldName == null || newName == null || oldName == "" || newName == "") {
            throw new Exception("Group Factory: Rename user.. no value ");
        } else {
            Collection coll = (Collection) m_groups.values();
            Iterator iter = (Iterator) coll.iterator();
            Map map = new HashMap();
    
            while (iter.hasNext()) {
                Group group = (Group) iter.next();
                Enumeration en = group.enumerateUser();
                String name = "";
                while (en.hasMoreElements()) {
                    name = (String) en.nextElement();
                    if (name.equals(oldName)) {
                        group.removeUser(oldName);
                        group.addUser(newName);
                    }
                }
                map.put(group.getName(), group);
            }
            m_groups.clear();
            m_groups = map;
            saveGroups();
        }
    }

