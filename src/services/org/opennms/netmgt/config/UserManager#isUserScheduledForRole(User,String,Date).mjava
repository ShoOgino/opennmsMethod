    public boolean isUserScheduledForRole(User user, String roleid, Date time) throws FileNotFoundException, MarshalException, ValidationException, IOException {
        update();

        Collection schedules = user.getOncallScheduleCollection();
        
        for(Iterator it = schedules.iterator(); it.hasNext();) {
            OncallSchedule sched = (OncallSchedule)it.next();
            if (roleid.equals(sched.getName())) {
                if (BasicScheduleUtils.isTimeInSchedule(time, sched)) {
                    return true;
                }
            }
        }
        
        return false;
    }

