    /**
     * 
     */
    public void updateNoticeWithUserInfo(String userId, int noticeId, String media, String contactInfo, String autoNotify) throws SQLException {
        Category log = ThreadCategory.getInstance(getClass());
        if (noticeId < 0) return;
        log.debug("updating usersnotified: User = " + userId + ", notice ID = " + noticeId + ", conctactinfo = " + contactInfo + ", media = " + media + ", autoNotify = " + autoNotify);
        Connection connection = null;
        try {
            connection = getConnection();
            PreparedStatement insert = connection.prepareStatement("INSERT INTO usersNotified (userid, notifyid, notifytime, media, contactinfo, autonotify) values (?,?,?,?,?,?)");
    
            insert.setString(1, userId);
            insert.setInt(2, noticeId);
    
            insert.setTimestamp(3, new Timestamp((new Date()).getTime()));
    
            insert.setString(4, media);
            insert.setString(5, contactInfo);
            insert.setString(6, autoNotify);
    
            insert.executeUpdate();
            insert.close();
        } finally {
            if (connection != null) {
                try {
                    connection.close();
                } catch (SQLException e) {
                }
            }
        }
    }

