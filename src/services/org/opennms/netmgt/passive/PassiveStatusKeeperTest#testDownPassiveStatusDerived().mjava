    public void testDownPassiveStatusDerived() throws InterruptedException, UnknownHostException, MarshalException, ValidationException {

        m_config = new PassiveStatusConfigFactory(new StringReader(getRegExParmConfig()), m_db);
        PassiveStatusConfigFactory.setInstance(m_config);
        
        Event e = createPassiveStatusEvent("Router", "192.168.1.1", "Simulated ICMP_service tester", "isDown");
        m_eventMgr.sendNow(e);
        
        PollStatus ps = m_psk.getStatus("Router", "192.168.1.1", "ICMP");
        
        assertTrue(ps.isDown());
        
        MockMonitoredService svc = new MockMonitoredService(1, "Router", "192.168.1.1", "ICMP" );
        
        ServiceMonitor m = new PassiveServiceMonitor();
        m.initialize(null, null);
        m.initialize(svc);
        PollStatus ps2 = m.poll(svc, null, null);
        m.release(svc);
        m.release();
        
        assertEquals(ps, ps2);
    }

