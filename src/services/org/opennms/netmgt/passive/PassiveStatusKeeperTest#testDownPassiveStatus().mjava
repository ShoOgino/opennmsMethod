    public void testDownPassiveStatus() throws InterruptedException, UnknownHostException {

        String uei = "uei.opennms.org/services/passiveServiceStatus";
        Event e = createEvent("Automation", uei);
        Parms parms = new Parms();

        parms.addParm(buildParm(EventConstants.PARM_PASSIVE_NODE_LABEL, "Router"));
        parms.addParm(buildParm(EventConstants.PARM_PASSIVE_IPADDR, "192.168.1.1"));
        parms.addParm(buildParm(EventConstants.PARM_PASSIVE_SERVICE_NAME, "ICMP"));
        parms.addParm(buildParm(EventConstants.PARM_PASSIVE_SERVICE_STATUS, "Down"));
        
        e.setParms(parms);
        Logmsg logmsg = new Logmsg();
        logmsg.setContent("Testing Passive Status Keeper with down status");
        e.setLogmsg(logmsg);
        m_eventMgr.sendNow(e);
        
        PollStatus ps = m_psk.getStatus("Router", "192.168.1.1", "ICMP");
        
        assertTrue(ps.isDown());
        
        MockMonitoredService svc = new MockMonitoredService(1, "Router", "192.168.1.1", "ICMP" );
        
        ServiceMonitor m = new PassiveServiceMonitor();
        m.initialize(null, null);
        m.initialize(svc);
        PollStatus ps2 = m.poll(svc, null, null);
        m.release(svc);
        m.release();
        
        assertEquals(ps, ps2);
    }

