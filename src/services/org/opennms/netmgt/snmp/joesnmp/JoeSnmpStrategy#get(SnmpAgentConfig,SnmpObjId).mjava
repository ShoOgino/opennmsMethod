    public SnmpValue get(SnmpAgentConfig agentConfig, SnmpObjId oid) {
        adaptConfig(agentConfig);
        SnmpSession session = null;
        JoeSnmpValue value = null;
        
        try {
            SnmpPeer peer = createPeer(agentConfig);

            SnmpParameters params = new SnmpParameters();
            setParameters(agentConfig, params);
            peer.setParameters(params);
            
            configurePeer(peer, agentConfig);
            
            session = new SnmpSession(peer);
            SnmpSyntax result = session.get(new SnmpObjectId(oid.toString()));
            value = new JoeSnmpValue(result);
        } catch (SocketException e) {
            log().error("Could not create JoeSNMP session using AgentConfig: "+agentConfig);
        } finally {
            session.close();
        }
        return value;
    }

