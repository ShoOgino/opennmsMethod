	/**
	 * Allocates a new stream
	 */
	private void newStream()
		throws IOException
	{
		// create a new piped writer
		//
		Category log = ThreadCategory.getInstance(getClass());
		boolean isTracing = log.isDebugEnabled();
		if(isTracing)
			log.debug("Opening new PipedOutputStream and adding it to the queue");

		PipedOutputStream pipeOut = new PipedOutputStream();
		try
		{
			synchronized(pipeOut)
			{
				synchronized(m_xchange)
				{
					m_xchange.add(pipeOut);
					m_xchange.notify();
				}
				if(isTracing)
					log.debug("Added pipe to the xchange list");

				pipeOut.wait();

				if(isTracing)
					log.debug("Pipe Signaled");
			}
		}
		catch(InterruptedException e)
		{
			if(isTracing)
				log.debug("An I/O error occured", e);
			throw new IOException("The thread was interrupted");
		}

		if(isTracing)
			log.debug("PipedOutputStream connected");

		m_out = pipeOut;
	}

