    public void init() {
        ThreadCategory.setPrefix(LOG4J_CATEGORY);
        Category log = ThreadCategory.getInstance();

        org.opennms.netmgt.eventd.Eventd e = org.opennms.netmgt.eventd.Eventd.getInstance();

        try {
            EventdConfigFactory.reload();
            DatabaseConnectionFactory.init();
            
        } catch (FileNotFoundException ex) {
            log.error("Failed to load eventd configuration. File Not Found:", ex);
            throw new UndeclaredThrowableException(ex);
        } catch (MarshalException ex) {
            log.error("Failed to load eventd configuration", ex);
            throw new UndeclaredThrowableException(ex);
        } catch (ValidationException ex) {
            log.error("Failed to load eventd configuration", ex);
            throw new UndeclaredThrowableException(ex);
        } catch (IOException ex) {
            log.error("Failed to load eventd configuration", ex);
            throw new UndeclaredThrowableException(ex);
        } catch (ClassNotFoundException ex) {
            log.error("Failed to init database connection factory", ex);
            ex.printStackTrace();
        }

        // load configuration(eventconf)
        //
        try {
            File configFile = ConfigFileConstants.getFile(ConfigFileConstants.EVENT_CONF_FILE_NAME);
            EventConfigurationManager.loadConfiguration(configFile.getPath());
        } catch (MarshalException ex) {
            log.error("Failed to load eventd configuration", ex);
            throw new UndeclaredThrowableException(ex);
        } catch (ValidationException ex) {
            log.error("Failed to load eventd configuration", ex);
            throw new UndeclaredThrowableException(ex);
        } catch (IOException ex) {
            log.error("Failed to load events configuration", ex);
            throw new UndeclaredThrowableException(ex);
        }
        
        e.setConfigManager(EventdConfigFactory.getInstance());
        e.setDbConnectionFactory(DatabaseConnectionFactory.getInstance());
        
        EventIpcManager ipcMgr = new EventIpcManagerDefaultImpl(EventdConfigFactory.getInstance());
        EventIpcManagerFactory.setIpcManager(ipcMgr);
        EventIpcManagerFactory.init();
        ipcMgr.setDbConnectionFactory(DatabaseConnectionFactory.getInstance());
        e.setEventIpcManager(ipcMgr);
        e.init();
        
    }

