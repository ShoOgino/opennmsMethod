    /**
     * Register an event listener interested in the UEIs in the passed list
     */
    public synchronized void addEventListener(EventListener listener, List ueilist) {
        Category log = ThreadCategory.getInstance(this.getClass());
        if (log.isDebugEnabled())
            log.debug("Adding event listener " + listener.getName() + " for " + ueilist);

        if (ueilist == null || ueilist.size() == 0) {
            // nothing to do
            return;
        }

        // create a new queue and listener thread for this listener
        ListenerThread listenerThread = (ListenerThread) m_listenerThreads.get(listener.getName());
        if (listenerThread == null) {
            FifoQueue lq = new FifoQueueImpl();
            listenerThread = new ListenerThread(listener, lq);
            listenerThread.start();

            m_listenerThreads.put(listener.getName(), listenerThread);
        }

        // add to uei listeners
        Iterator ueiIter = ueilist.iterator();
        while (ueiIter.hasNext()) {
            String uei = (String) ueiIter.next();

            // check if there are other listeners already, else create
            // an entry
            List listenersList = (List) m_ueiListeners.get(uei);
            if (listenersList == null) {
                listenersList = new ArrayList();
                listenersList.add(listener);

                m_ueiListeners.put(uei, listenersList);
            } else {
                if (!listenersList.contains(listener))
                    listenersList.add(listener);
            }
        }

        // remove from list of listeners listening for all events
        m_listeners.remove(listener);

    }

