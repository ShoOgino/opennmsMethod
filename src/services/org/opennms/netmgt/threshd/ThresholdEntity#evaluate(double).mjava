	/**
	 * Evaluates the threshold in light of the provided
	 * datasource value.  
	 * 
	 * @param dsValue	Current value of datasource
	 * 
	 * @return integer value indicating which threshold types 
	 * 	(if any) were exceeded indicating than an event 
	 *	should be generated. false otherwise.
	 */
	int evaluate(double dsValue)
	{
		Category log = ThreadCategory.getInstance(getClass());
		
		boolean highTriggered = false;
		boolean lowTriggered = false;
		
		if (log.isDebugEnabled())
			log.debug("evaluate: value= " + dsValue + " against threshold: " + this);
		
		// Check high threshold
		//
		if (hasHighThreshold())
		{
			// threshold exceeded?
			if (dsValue >= m_highThreshold.getValue())
			{
				// Is threshold armed?
				if (m_highArmed)
				{
					// increment count
					m_highCount++;
					
					if (log.isDebugEnabled())
						log.debug("evaluate: high threshold exceeded, count=" + m_highCount);
					
					// trigger exceeded?
					if (m_highCount >= m_highThreshold.getTrigger())
					{
						if (log.isDebugEnabled())
							log.debug("evaluate: high threshold triggered!");
						highTriggered = true;
						m_highCount = 0;
						m_highArmed = false;
					}
				}
			}
			// rearm threshold?
			else if (dsValue <= m_highThreshold.getRearm())
			{
				if (!m_highArmed)
				{
					if (log.isDebugEnabled())
						log.debug("evaluate: high threshold rearmed!");
					m_highArmed = true;
					m_highCount = 0;
				}
			}
			// reset count
			else 
			{
				if (log.isDebugEnabled())
					log.debug("evaluate: resetting high threshold count to 0");
				m_highCount = 0;
			}
		}
		
		// Check low threshold
		//
		if (hasLowThreshold())
		{
			// threshold exceeded?
			if (dsValue <= m_lowThreshold.getValue())
			{
				// Is threshold armed?
				if (m_lowArmed)
				{
					// increment count
					m_lowCount++;
					
					if (log.isDebugEnabled())
						log.debug("evaluate: low threshold exceeded, count=" + m_lowCount);
					
					// trigger exceeded?
					if (m_lowCount >= m_lowThreshold.getTrigger())
					{
						if (log.isDebugEnabled())
							log.debug("evaluate: low threshold triggered!");
						lowTriggered = true;
						m_lowCount = 0;
						m_lowArmed = false;
					}
				}
			}
			// rearm threshold?
			else if (dsValue >= m_lowThreshold.getRearm())
			{
				if (!m_lowArmed)
				{
					if (log.isDebugEnabled())
						log.debug("evaluate: low threshold rearmed!");
					m_lowArmed = true;
					m_lowCount = 0;
				}
			}
			// reset count
			else 
			{
				if (log.isDebugEnabled())
					log.debug("evaluate: resetting low threshold count to 0");
				m_lowCount = 0;
			}
		}
		// Return integer value indicating which 
		// threshold configurations have been triggered.
		//
		if (lowTriggered && highTriggered)
			return HIGH_AND_LOW_TRIGGERED;
		else if (lowTriggered)
			return LOW_TRIGGERED;
		else if (highTriggered)
			return HIGH_TRIGGERED;
		else
			return NONE_TRIGGERED;
	}

