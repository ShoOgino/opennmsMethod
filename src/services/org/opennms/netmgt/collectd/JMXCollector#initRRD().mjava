    private void initRRD() {
        Category log = ThreadCategory.getInstance(getClass());
        
        // Get path to RRD repository
        m_rrdPath = JMXDataCollectionConfigFactory.getInstance().getRrdRepository();

        if (m_rrdPath == null)
            throw new RuntimeException(
                    "Configuration error, failed to retrieve path to RRD repository.");

        // Strip the File.separator char off of the end of the path

        if (m_rrdPath.endsWith(File.separator)) {
            m_rrdPath = m_rrdPath.substring(0,(m_rrdPath.length() - File.separator.length()));
        }

        if (log.isDebugEnabled())
            log.debug("initialize: " + serviceName + " RRD file repository path: " + m_rrdPath);

        // If the RRD file repository directory does NOT already exist, create
        // it.
        //

        File f = new File(m_rrdPath);
        if (!f.isDirectory())
            if (!f.mkdirs())
                throw new RuntimeException("Unable to create RRD file repository, path: " + m_rrdPath);

        try {
            RrdUtils.initialize();
        } catch (RrdException e) {
            if (log.isEnabledFor(Priority.ERROR))
                log.error("initialize: Unable to initialize RrdUtils", e);
            throw new RuntimeException("Unable to initialize RrdUtils", e);
        }
    }

