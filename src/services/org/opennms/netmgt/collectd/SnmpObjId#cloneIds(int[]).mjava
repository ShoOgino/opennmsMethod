    private int[] cloneIds(int[] ids) {
        if (ids == null) return null;
        int[] newIds = new int[ids.length];
        System.arraycopy(ids, 0, newIds, 0, ids.length);
        return newIds;
    }

