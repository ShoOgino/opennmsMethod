    private void validateBulkResponse(BulkPdu pdu, ResponsePdu resp) {
        assertNotNull(resp);
        assertEquals(ResponsePdu.NO_ERR, resp.getErrorStatus());
        
        int nonRepeaters = pdu.getNonRepeaters();
        int repeaters = (pdu.size() - nonRepeaters);
        
        // validate the length
        int expectedSize = Math.min(nonRepeaters+(repeaters*pdu.getMaxRepititions()), m_agent.getMaxResponseSize());
        assertEquals(expectedSize, resp.size());
        
        // validate the nonRepeaters
        for(int i = 0; i < nonRepeaters; i++) {
            verifyBulkVarBind(pdu.getVarBindAt(i).getObjId(), resp, i);
        }
        
        // validate the repeaters
        for(int i = 0; i < repeaters; i++) {
            SnmpObjId oid = pdu.getVarBindAt(i+nonRepeaters).getObjId();
            for(int count = 0; count < pdu.getMaxRepititions(); count++) {
                oid = verifyBulkVarBind(oid, resp, nonRepeaters+(count*repeaters)+i);
            } 
        }
    }

