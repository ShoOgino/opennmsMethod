    private void doSql(String contents) {
        String sql = getSql();
        if (sql == null) {
            log().info("send: sql argument is null.");
        } else {
            log().info("send: compiling expression: "+getSwitchValue("result-match"));
            Pattern p = Pattern.compile(getSwitchValue("result-match"));
            Matcher m = p.matcher(contents);
            if (m.matches()) {
                log().info("send: compiled expression ready to run sql: "+sql);
                MatchTable matches = new MatchTable(m);
                String sqlString = PropertiesUtils.substitute(sql, matches);
                log().info("send: running sql: "+sqlString);
                JdbcTemplate template = new JdbcTemplate(DatabaseConnectionFactory.getInstance());
                template.execute(sqlString);
            } else {
                log().warn("send: result didn't match, not running sql");
            }
        }
    }

