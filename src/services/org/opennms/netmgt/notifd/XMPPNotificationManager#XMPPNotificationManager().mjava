	protected XMPPNotificationManager() {

		ThreadCategory.setPrefix(LOG4J_CATEGORY);
		log = ThreadCategory.getInstance(this.getClass());

		try {
			this.props.load(new FileInputStream(ConfigFileConstants
					.getFile(ConfigFileConstants.XMPP_CONFIG_FILE_NAME)));
			xmppServer = this.props.getProperty("xmpp.server");
			xmppUser = this.props.getProperty("xmpp.user");
			xmppPassword = this.props.getProperty("xmpp.pass");
			} catch (Exception e) {
			log.error(e.getMessage());
		}

		// Connect to xmpp server
		
		connect();
		
		// Add connection listener to reconnect if server disappears
		
		xmpp.addConnectionListener(conlistener);
		

	}

