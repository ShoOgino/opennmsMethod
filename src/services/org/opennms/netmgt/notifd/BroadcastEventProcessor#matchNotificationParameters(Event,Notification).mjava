        /**
         * See if the event parameters match the variables in the notification.
         *
	 * The purpose of this method is to match parameters, such as those in
	 * a threshold event, with parameters configured for a notification,
	 * such as ds-name.
         *
         * @param event 	The event to process.
         * @param notification  The notification to process.
         *
         */

	// TODO This change only works for one parameter, need to expand it to many.

        private boolean matchNotificationParameters(Event event, Notification notification)
        {
                Category log = ThreadCategory.getInstance(getClass());
                                       
		boolean parmmatch = false;
                Parms parms = event.getParms();
                if (parms != null && notification.getVarbind() != null && notification.getVarbind().getVbname() != null)
                {
                        String parmName = null;
                        Value parmValue = null;
                        String parmContent = null;
                        String notfValue = null;
                        String notfName = notification.getVarbind().getVbname();

			if (notification.getVarbind().getVbvalue() != null)
			{ 
                        	notfValue = notification.getVarbind().getVbvalue();
			}
			else if (log.isDebugEnabled())
			{
                	        log.debug("BroadcastEventProcessor:matchNotificationParameters:  Null value for varbind, assuming true.");
				parmmatch = true;
			}
				
                
                        Enumeration parmEnum = parms.enumerateParm();
                        while(parmEnum.hasMoreElements())
                        {
                                Parm parm = (Parm)parmEnum.nextElement();
                                parmName  = parm.getParmName();
                                parmValue = parm.getValue();
                                if (parmValue == null)
                                        continue;
                                else
                                        parmContent = parmValue.getContent();
        
                                if (parmName.equals(notfName) && parmContent.equals(notfValue))
                                {
                                        parmmatch = true;
                                }
                                       
                        }
                }
		else if (notification.getVarbind() == null || notification.getVarbind().getVbname() == null)
		{
			parmmatch = true;
		}

		return parmmatch;
	}

