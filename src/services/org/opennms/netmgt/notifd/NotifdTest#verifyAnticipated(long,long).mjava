    private void verifyAnticipated(long lastNotifyTime, long waitTime) {
        long totalWaitTime = Math.max(0, lastNotifyTime + waitTime - System.currentTimeMillis());
        
        Collection missingNotifications = m_anticipator.waitForAnticipated(totalWaitTime);
        printNotifications("Missing notifications", missingNotifications);
        assertEquals("Expected notifications not forthcoming.", 0, missingNotifications.size());
        // make sure that we didn't start before we should have
        long now = System.currentTimeMillis();
        MockUtil.println("Expected notifications no sooner than "+lastNotifyTime+", currentTime is "+now);
        assertTrue("Anticipated notifications received before expected start time", now > lastNotifyTime);
        sleep(1000);
        printNotifications("Unexpected notifications", m_anticipator.getUnanticipated());
        assertEquals("Unexpected notifications forthcoming.", 0, m_anticipator.getUnanticipated().size());
    }

