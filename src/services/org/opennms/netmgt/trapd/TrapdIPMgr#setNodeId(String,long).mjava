    /**
     * Sets the IP Address and Node ID in the Map.
     * 
     * @param addr
     *            The IP Address to add.
     * @param nodeid
     *            The Node ID to add.
     * 
     * @return The nodeid if it existed in the map.
     * 
     */
    static synchronized long setNodeId(String addr, long nodeid) {
        if (addr == null || nodeid == -1)
            return -1;
        
        return longValue((Long) m_knownips.put(addr, new Long(nodeid)));
    }

