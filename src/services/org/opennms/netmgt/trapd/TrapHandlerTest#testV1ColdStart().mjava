	public void testV1ColdStart() throws InterruptedException, MarshalException, ValidationException, IOException {
		MockTrapdConfig mockTrapdConfig = new MockTrapdConfig();
		mockTrapdConfig.setSnmpTrapPort(10000);
		mockTrapdConfig.setNewSuspectOnTrap(false);
		
		m_trapHandler = new TrapHandler();
		m_trapHandler.setTrapdConfig(mockTrapdConfig);
		m_trapHandler.setEventManager(m_eventMgr);
		m_trapHandler.init();
		m_trapHandler.start();
		

		Event snmpEvent = new Event();
		snmpEvent.setInterface("127.0.0.1");
		snmpEvent.setNodeid(0);
		snmpEvent.setUei("uei.opennms.org/generic/traps/SNMP_Cold_Start");
		System.out.println("Anticipating: " + new EventWrapper(snmpEvent));
		m_anticipator.anticipateEvent(snmpEvent);
		
		SnmpPduTrap pdu = new SnmpPduTrap();
		pdu.setGeneric(0);
		pdu.setAgentAddress(new SnmpIPAddress(InetAddress.getByName("127.0.0.1")));
		m_trapHandler.snmpReceivedTrap(null, InetAddress.getByName("127.0.0.1"), 10000,
				new SnmpOctetString("public".getBytes()), pdu);
		
		Thread.sleep(1000);
	}

