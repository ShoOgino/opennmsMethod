    /** Get the interface labels for each interface on a given node. */
    public static String[] getIfLabels(int nodeId) throws SQLException {
        ArrayList list = new ArrayList();
        Connection conn = Vault.getDbConnection();

        try {
            PreparedStatement stmt = conn.prepareStatement("SELECT DISTINCT snmpifname, snmpifdescr,snmpphysaddr from snmpinterface, ipinterface where (ipinterface.ismanaged!='D') AND ipinterface.nodeid=snmpinterface.nodeid AND ifindex = snmpifindex AND ipinterface.nodeid=?");
            stmt.setInt(1, nodeId);

            ResultSet rs = stmt.executeQuery();

            while (rs.next()) {
                String name = rs.getString("snmpifname");
                String descr = rs.getString("snmpifdescr");
                String physAddr = rs.getString("snmpphysaddr");

                list.add(getIfLabel(name, descr, physAddr));
            }

            rs.close();
            stmt.close();
        } finally {
            Vault.releaseDbConnection(conn);
        }

        String[] labels = (String[]) list.toArray(new String[list.size()]);

        return labels;
    }

