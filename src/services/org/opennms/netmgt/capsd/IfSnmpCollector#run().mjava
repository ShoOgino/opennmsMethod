    /**
     * <p>
     * Preforms the collection for the targeted internet address. The success or
     * failure of the collection should be tested via the <code>failed</code>
     * method.
     * </p>
     * 
     * <p>
     * No synchronization is preformed, so if this is used in a separate thread
     * context synchornization must be added.
     * </p>
     * 
     */
    public void run() {
        SnmpSession session = null;
        try {
            SnmpPeer m_peer = SnmpPeerFactory.getInstance().getPeer(m_address);
            log().debug("IfSnmpCollector.run: address: " + m_address.getHostAddress() + " Snmp version: " + SnmpSMI.getVersionString(m_peer.getParameters().getVersion()));
            session = new SnmpSession(m_peer);

            BarrierSignaler signaler = new BarrierSignaler(4);
            m_sysGroup = new SystemGroup(session, m_address, signaler, m_peer.getParameters().getVersion());
            m_ifTable = new IfTable(session, m_address, signaler, m_peer.getParameters().getVersion());
            m_ipAddrTable = new IpAddrTable(session, m_address, signaler, m_peer.getParameters().getVersion());
            m_ifXTable = new IfXTable(session, m_address, signaler, m_peer.getParameters().getVersion());

            try {
                // wait a maximum of five minutes!
                //
                // FIXME: Why do we do this. If we are successfully processing responses shouldn't we keep going?
                signaler.waitFor(300000);
            } catch (InterruptedException e) {
                m_sysGroup = null;
                m_ifTable = null;
                m_ipAddrTable = null;
                m_ifXTable = null;

                log().warn("IfSnmpCollector: collection interrupted, exiting", e);
                return;
            }

            // Log any failures
            //
            if (!this.hasSystemGroup())
                log().info("IfSnmpCollector: failed to collect System group for " + m_address.getHostAddress());
            if (!this.hasIfTable())
                log().info("IfSnmpCollector: failed to collect ifTable for " + m_address.getHostAddress());
            if (!this.hasIpAddrTable())
                log().info("IfSnmpCollector: failed to collect ipAddrTable for " + m_address.getHostAddress());
            if (!this.hasIfXTable())
                log().info("IfSnmpCollector: failed to collect ifXTable for " + m_address.getHostAddress());

        } catch (java.net.SocketException e) {
            log().error("Failed to create SNMP session to connect to host " + m_address.getHostAddress(), e);
        } finally {
            if (session != null)
                session.close();
        }
    }

