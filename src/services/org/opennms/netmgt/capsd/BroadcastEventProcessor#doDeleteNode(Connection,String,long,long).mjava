    /**
     * Mark as deleted the specified node, its associated interfaces and services.
     * 
     * @param dbConn
     *            the connection to the database
     * @param source
     *            the source for any events to send
     * @param nodeid
     *            the nodeid to be deleted
     * @param txNo
     *            a transaction id to associate with this deletion
     * 
     * @return the list of events that need to be sent in response to the node being deleted
     * @throws SQLException
     *             if any exception occurs communicating with the database
     */
    private List doDeleteNode(Connection dbConn, String source, long nodeid, long txNo) throws SQLException {
        List eventsToSend = new LinkedList();
        eventsToSend.addAll(markInterfacesAndServicesDeleted(dbConn, source, nodeid, txNo));
        eventsToSend.addAll(markNodeDeleted(dbConn, source, nodeid, txNo));
        return eventsToSend;
    }

