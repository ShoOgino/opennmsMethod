    /**
     * <p>runReport</p>
     *
     * @param report a {@link org.opennms.netmgt.config.reportd.Report} object.
     */
    public void runReport(Report report) {
    	Map mdc = Logging.getCopyOfContextMap();
        try {
            Logging.putPrefix(NAME);
            LOG.debug("reportd -- running job {}", report.getReportName());
            String fileName = m_reportService.runReport(report,reportDirectory);
            if (report.getRecipientCount() > 0) {
                LOG.debug("reportd -- delivering report {} to {} recipients", report.getReportName(), report.getRecipientCount());
                m_reportDeliveryService.deliverReport(report, fileName);
            } else {
                LOG.info("Skipped delivery of report {} because it has no recipients", report.getReportName());
            }
            LOG.debug("reportd -- done running job {}",report.getReportName());
        } catch (ReportRunException e) {
            createAndSendReportingEvent(EventConstants.REPORT_RUN_FAILED_UEI, report.getReportName(), e.getMessage());
        } catch (ReportDeliveryException e) {
            createAndSendReportingEvent(EventConstants.REPORT_DELIVERY_FAILED_UEI, report.getReportName(), e.getMessage());
        } finally {        
        	Logging.setContextMap(mdc);
        }
    }

