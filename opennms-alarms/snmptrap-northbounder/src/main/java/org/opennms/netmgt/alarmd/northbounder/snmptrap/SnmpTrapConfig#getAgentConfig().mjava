    /**
     * Gets the SNMP agent configuration.
     *
     * @return the SNMP agent configuration
     */
    public SnmpAgentConfig getAgentConfig() {
        SnmpAgentConfig config = SnmpPeerFactory.getInstance().getAgentConfig(destinationAddress);
        if (destinationPort > 0) {
            config.setPort(destinationPort);
        }
        if ((version.isV1() || version.isV2()) && community != null) {
            config.setReadCommunity(community);
        }
        return config;
    }

