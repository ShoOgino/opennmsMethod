    /**
     * Sends an SNMP trap.
     *
     * @param trapConfig The trap configuration mapping object
     * @param trap The trap builder object
     * @throws SnmpTrapException if any.
     */
    private void sendTrap(SnmpTrapConfig trapConfig, SnmpTrapBuilder trap) throws SnmpTrapException {
        try {
            LOG.debug("Sending SNMP Trap using {}", trapConfig);
            trap.send(trapConfig.getDestinationAddress().getHostAddress(), trapConfig.getDestinationPort(), trapConfig.getCommunity());
        } catch (Throwable e) {
            throw new SnmpTrapException("Failed to send trap "+e.getMessage(), e);
        }
    }

