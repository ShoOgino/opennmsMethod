    /**
     * Test forward trap.
     *
     * @throws Exception the exception
     */
    @Test
    public void testForwardTrap() throws Exception {
        // Create a sample trap configuration
        SnmpTrapConfig config = new SnmpTrapConfig();
        config.setDestinationAddress(TRAP_DESTINATION);
        config.setDestinationPort(TRAP_PORT);
        config.setEnterpriseId(".1.3.6.1.4.1.5813");
        config.setSpecific(2);
        config.setHostAddress(InetAddressUtils.addr("10.0.0.1"));
        config.addParameter(".1.3.6.1.2.1.2.2.1.1.3", "3", VarbindType.TYPE_SNMP_INT32.value());

        // Create a trap helper instance
        SnmpTrapHelper trapHelper = new SnmpTrapHelper();

        // Send a V1 Trap
        config.setVersion(SnmpVersion.V1);
        trapHelper.forwardTrap(config);
        Thread.sleep(5000); // Introduce a delay to make sure the trap was sent and received.
        Assert.assertEquals(1, getTrapsReceivedCount());

        // Send a V2c Trap
        config.setVersion(SnmpVersion.V2c);
        trapHelper.forwardTrap(config);
        Thread.sleep(5000); // Introduce a delay to make sure the trap was sent and received.
        Assert.assertEquals(2, getTrapsReceivedCount());
    }

