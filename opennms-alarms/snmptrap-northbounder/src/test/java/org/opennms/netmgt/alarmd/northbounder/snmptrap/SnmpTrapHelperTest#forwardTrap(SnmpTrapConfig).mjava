    /**
     * Forwards a trap.
     *
     * @param config the SNMP Trap configuration
     * @throws Exception the exception
     */
    private void forwardTrap(SnmpTrapConfig config) throws Exception {
        resetTrapsReceived();
        trapHelper.forwardTrap(config);
        Thread.sleep(5000); // Introduce a delay to make sure the trap was sent and received.
        Assert.assertEquals(1, getTrapsReceivedCount());
    }

