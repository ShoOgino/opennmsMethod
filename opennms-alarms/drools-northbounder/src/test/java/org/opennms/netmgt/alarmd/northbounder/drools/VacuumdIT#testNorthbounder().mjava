    /**
     * Test northbounder.
     *
     * @throws Exception the exception
     */
    @Test
    public void testNorthbounder() throws Exception {
        Event alarmCleared = new Event();
        alarmCleared.setUei("uei.opennms.org/alarms/alarmCleared");
        m_ancitipator.anticipateEvent(alarmCleared);

        Event alarmDeleted = new Event();
        alarmDeleted.setUei("uei.opennms.org/alarms/alarmDeleted");
        m_ancitipator.anticipateEvent(alarmDeleted);
        m_ancitipator.anticipateEvent(alarmDeleted);

        Assert.assertTrue(nbi.accepts(m_down));
        nbi.forwardAlarms(Lists.newArrayList(m_down));
        Thread.sleep(DELAY);

        Assert.assertTrue(nbi.accepts(m_up));
        nbi.forwardAlarms(Lists.newArrayList(m_up));
        Thread.sleep(DELAY);

        nbi.stop();

        m_ancitipator.verifyAnticipated();
    }

