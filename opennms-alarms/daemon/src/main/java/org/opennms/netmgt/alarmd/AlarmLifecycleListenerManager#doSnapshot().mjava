    private void doSnapshot() {
        if (listeners.size() < 1) {
            return;
        }
        template.execute(new TransactionCallbackWithoutResult() {
            @Override
            protected void doInTransactionWithoutResult(TransactionStatus status) {
                final List<OnmsAlarm> allAlarms = alarmDao.findAll();
                listeners.forEach(l -> l.handleAlarmSnapshot(allAlarms));
            }
        });
    }

