    @Override
    public void acknowledgeAlarm(String ackUser, Date ackTime, Function<OnmsAlarm, Boolean> filter) {
        m_transactionTemplate.execute((t) -> {
            final List<OnmsAlarm> alarms = m_alarmDao.findAll().stream()
                    .filter(filter::apply)
                    .collect(Collectors.toList());
            alarms.forEach(a -> {
                OnmsAcknowledgment ack = new OnmsAcknowledgment(a, ackUser, ackTime);
                ack.setAckAction(AckAction.ACKNOWLEDGE);
                m_acknowledgementDao.processAck(ack);
            });
            return null;
        });
    }

