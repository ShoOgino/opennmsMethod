    @Override
    public void acknowledgeAlarm(String ackUser, Date ackTime, Function<OnmsAlarm, Boolean> filter) {
        m_transactionTemplate.execute((t) -> {
            final List<OnmsAlarm> alarms = m_alarmDao.findAll().stream()
                    .filter(filter::apply)
                    .collect(Collectors.toList());
            alarms.forEach(a -> {
                a.setAlarmAckUser(ackUser);
                a.setAlarmAckTime(ackTime);
                m_alarmDao.save(a);
                m_droolsAlarmContext.handleNewOrUpdatedAlarm(a);
            });
            return null;
        });
    }

