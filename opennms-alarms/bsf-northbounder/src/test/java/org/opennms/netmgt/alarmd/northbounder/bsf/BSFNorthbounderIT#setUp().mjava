    /**
     * Sets up the test.
     *
     * @throws Exception the exception
     */
    @Before
    public void setUp() throws Exception {
        MockLogAppender.setupLogging();

        // Setup the BSF northbounder configuration DAO
        System.setProperty("opennms.home", "src/test/resources");
        BSFNorthbounderConfigDao configDao = new BSFNorthbounderConfigDao();
        configDao.setConfigResource(new FileSystemResource(new File("src/test/resources/etc/bsf-northbounder-config.xml")));
        configDao.afterPropertiesSet();

        // Setup the northbounder
        nbi = new BSFNorthbounder(configDao, "JUnit");
        nbi.afterPropertiesSet();
    }

