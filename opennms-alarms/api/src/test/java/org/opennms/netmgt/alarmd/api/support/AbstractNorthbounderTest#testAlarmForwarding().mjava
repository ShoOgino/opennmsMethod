    /**
     * Test alarm forwarding.
     *
     * @throws InterruptedException the interrupted exception
     */
    @Test
    public void testAlarmForwarding() throws InterruptedException {
        TestNorthbounder tnb = new TestNorthbounder();
        tnb.setAccepting(true);

        tnb.start();

        NorthboundAlarm a = createNorthboundAlarm(1);

        tnb.onAlarm(a);

        tnb.waitForAcceptsToBeCalled(2000);
        tnb.waitForForwardToBeCalled(2000);

        assertNotNull(tnb.getAlarms());
        assertTrue(tnb.getAlarms().contains(a));
    }

