    private Attribute getAttribute(org.opennms.netmgt.config.service.Attribute attrib) throws Exception {
        Class<?> attribClass = Class.forName(attrib.getValue().getType());
        Constructor<?> construct = attribClass.getConstructor(new Class[] { String.class });

        Object value;
        Map<?,?> mdc = MDC.getCopyOfContextMap();
        try {
            value = construct.newInstance(new Object[] { attrib.getValue().getContent() });
        } finally {
        	MDC.setContextMap(mdc);
        }

        return new Attribute(attrib.getName(), value);
    }

