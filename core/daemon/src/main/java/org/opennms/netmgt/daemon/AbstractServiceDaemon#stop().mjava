    /**
     * Stops the currently running service. If the service is not running then
     * the command is silently discarded.
     */
    @Override
    final public synchronized void stop() {
        final String prefix = getPrefix();
        try {
            setPrefix(getName());
            LOG.info("{} stopping.", getName());

            setStatus(STOP_PENDING);
            onStop();
            setStatus(STOPPED);

            LOG.info("{} stopped.", getName());
        } finally {
            setPrefix(prefix);
        }
    }

