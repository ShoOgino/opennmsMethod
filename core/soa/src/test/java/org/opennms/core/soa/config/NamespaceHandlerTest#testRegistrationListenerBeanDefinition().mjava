    @Test
    @DirtiesContext
    public void testRegistrationListenerBeanDefinition() {

        assertNotNull(m_helloListListener);
    	
    	MyProvider myProvider = new MyProvider();
    	
    	int expected = m_helloListListener.getTotalProviders() + 1;
    	
    	Registration registration = m_defaultServiceRegistry.register(myProvider, Hello.class);
    	
    	assertEquals(expected, m_helloListListener.getTotalProviders());
    	
    	expected = m_helloListListener.getTotalProviders() - 1;
    	
    	registration.unregister();
    	
    	assertEquals(expected, m_helloListListener.getTotalProviders());
    	
    }

