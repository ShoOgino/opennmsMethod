    public ServiceLookup build() {
        if (this.upTimeSupplier != null) {
            BlockingServiceLookup lookup = new BlockingServiceLookup(this.registry);
            lookup.setGracePeriodInMs(gracePeriodInMs);
            lookup.setLookupDelayMs(sleepTimeInMs);
            lookup.setUptimeSupplier(upTimeSupplier);
            return lookup;
        }
        return new SimpleServiceLookup(this.registry);
    }

