    public void testOutage() {
        final MockService svc = m_network.getService(1, "192.168.1.1", "ICMP");
        Event svcLostEvent = MockEventUtil.createNodeLostServiceEvent("TEST", svc);

        m_db.writeEvent(svcLostEvent);
        m_db.createOutage(svc, svcLostEvent);
        assertEquals(1, m_db.countOutagesForService(svc));
        Querier querier = new Querier(m_db, "select * from outages") {
            @Override
            public void processRow(ResultSet rs) throws SQLException {
                int nodeId = rs.getInt("nodeId");
                String ipAddr = rs.getString("ipAddr");
                int serviceId = rs.getInt("serviceId");
                assertEquals(nodeId, svc.getNodeId());
                assertEquals(ipAddr, svc.getIpAddr());
                assertEquals(serviceId, svc.getSvcId());
            }
        };
        querier.execute();
        assertEquals(1, querier.getCount());
    }

