    private void checkIplikeRule(final String value, final String rule, final boolean expected) throws Exception {
        final DBUtils util = new DBUtils();

        Connection c = null;
        PreparedStatement st = null;
        ResultSet rs = null;
        try {
            c = m_db.getDataSource().getConnection();
            util.watch(c);

            st = c.prepareStatement("SELECT iplike(CAST(? AS TEXT),CAST(? AS TEXT))");
            util.watch(st);
            st.setString(1, value);
            st.setString(2, rule);

            st.execute();

            rs = st.getResultSet();
            util.watch(rs);
            rs.next();
            final boolean result = rs.getBoolean(1);
            if (expected) {
                assertTrue("SELECT iplike(" + value + "," + rule + ") === " + expected, result);
            } else {
                assertFalse("SELECT iplike(" + value + "," + rule + ") === " + expected, result);
            }
        } finally {
            util.cleanUp();
        }
    }

