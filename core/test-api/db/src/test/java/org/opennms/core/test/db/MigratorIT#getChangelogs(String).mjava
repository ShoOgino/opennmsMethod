    private List<Resource> getChangelogs(String fileMatch) throws IOException {
        String jarMatch = fileMatch.replace('/', '.');
        final List<Resource> resources = new ArrayList<>();
        for (final Resource resource : m_context.getResources(Migrator.LIQUIBASE_CHANGELOG_LOCATION_PATTERN)) {
            URI uri = resource.getURI();
            if (uri.getScheme().equals("file") && !uri.toString().contains(fileMatch)) continue;
            if (uri.getScheme().equals("jar") && !uri.toString().contains(jarMatch)) continue;
            resources.add(resource);
        }

        if (resources.isEmpty() ) {
            fail("Couldn't find changelog.xml in this ApplicationContext ClassLoader hierarchy:\n" +
                    Joiner.on("\n").join(getClassLoaderUrls(m_context)));
        }

        return resources;
    }

