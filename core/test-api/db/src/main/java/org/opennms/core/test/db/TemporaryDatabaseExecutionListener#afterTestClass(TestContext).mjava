    @Override
    public void afterTestClass(final TestContext testContext) throws Exception {
        System.err.println(String.format("TemporaryDatabaseExecutionListener.afterTestClass(%s)", testContext));

        try {
            if (!m_createNewDatabases && m_database != null) {
                m_database.drop();
            }
        } catch (Throwable t) {
            throw new Exception("Caught an exception while dropping the database at the end of the test: " + t, t);
        } finally {
            testContext.markApplicationContextDirty(HierarchyMode.CURRENT_LEVEL);
            testContext.setAttribute(DependencyInjectionTestExecutionListener.REINJECT_DEPENDENCIES_ATTRIBUTE, Boolean.TRUE);
        }
    }

