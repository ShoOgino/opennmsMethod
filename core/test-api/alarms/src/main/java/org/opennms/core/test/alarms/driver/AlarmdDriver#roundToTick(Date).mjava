    private long roundToTick(Date date) {
        return Math.floorDiv(date.getTime(),scenario.getTickLengthMillis()) * scenario.getTickLengthMillis();
    }

