    @Override
    public void before() throws Exception {
        m_temporaryDirectory = Files.createTempDirectory("activemq-data");
        m_broker.setDataDirectory(m_temporaryDirectory.toString());
        m_broker.start();
        if (!m_broker.waitUntilStarted()) {
            LOG.warn("ActiveMQ broker was not started or stopped unexpectedly");
        }
    }
