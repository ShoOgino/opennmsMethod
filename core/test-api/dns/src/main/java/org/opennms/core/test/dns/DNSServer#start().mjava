    public void start() throws UnknownHostException {
        initializeDefaults();

        for (final InetAddress addr : m_addresses) {
            for (final Integer port : m_ports) {
                try {
                    final UDPListener udpListener = new UDPListener(port, addr);
                    final Thread udpThread = new Thread(udpListener);
                    udpThread.start();
                    m_activeListeners.add(udpListener);

                    final TCPListener tcpListener = new TCPListener(port, addr);
                    final Thread tcpThread = new Thread(tcpListener);
                    tcpThread.start();
                    m_activeListeners.add(tcpListener);

                    udpListener.await();
                    tcpListener.await();

                    LOG.info("listening on {}", addrport(addr, port));
                } catch (final Exception e) {
                    throw new RuntimeException("Failed to start DNS server on " + InetAddressUtils.str(addr) + "/" + port, e);
                }
            }
        }
        LOG.debug("finished starting up");
    }

