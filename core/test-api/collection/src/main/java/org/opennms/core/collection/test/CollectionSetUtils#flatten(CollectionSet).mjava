    public static List<String> flatten(CollectionSet collectionSet) {
        final List<String> strings = new ArrayList<>();
        collectionSet.visit(new AbstractCollectionSetVisitor() {
            CollectionResource resource;
            AttributeGroup group;

            @Override
            public void visitResource(CollectionResource resource) {
                this.resource = resource;
            }
            @Override
            public void visitGroup(AttributeGroup group) {
                this.group = group;
            }
            @Override
            public void visitAttribute(CollectionAttribute attribute) {
                strings.add(String.format("%s/%s/%s[%s,%s]", resource.getPath(), group.getName(),
                        attribute.getName(),attribute.getStringValue(),attribute.getNumericValue()));
            }
        });
        return strings;
    }

