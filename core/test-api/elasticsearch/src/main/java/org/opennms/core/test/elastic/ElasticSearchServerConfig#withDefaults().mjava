    public ElasticSearchServerConfig withDefaults() {
        withNodeName("testNode");
        withTransportType("local");
        withClusterName("testCluster");
        withHomeDirectory(DEFAULT_HOME_DIRECTORY);
        withSetting("http.port", ES_HTTP_PORT);
        withSetting(NetworkModule.HTTP_TYPE_KEY, "netty4");
        withSetting(NetworkModule.TRANSPORT_TYPE_KEY, "netty4");
        // make startup faster
        withSetting("discovery.zen.ping_timeout", "1ms");
        return this;
    }

