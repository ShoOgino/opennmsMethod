    protected String sendRequest(final String requestType, final String url, final Map<?,?> parameters, final int expectedStatus, final String expectedUrlSuffix) throws Exception {
        final MockHttpServletRequest request = createRequest(servletContext, requestType, url, getUser(), getUserRoles());
        request.setCharacterEncoding(StandardCharsets.UTF_8.name());
        request.setContentType(MediaType.APPLICATION_FORM_URLENCODED);
        request.setParameters(parameters);
        request.setQueryString(getQueryString(parameters));
        request.setRemoteUser(getUser());
        return sendRequest(request, expectedStatus, expectedUrlSuffix);
    }

