    @Override
    public void beforeTestMethod(final TestContext testContext) throws Exception {
        final JUnitSnmpAgents agents = findAgentListAnnotation(testContext);
        Boolean useMockSnmpStrategy = null;
        testContext.setAttribute("strategyClass", System.getProperty("org.opennms.snmp.strategyClass"));
        
        if (agents != null) {
            useMockSnmpStrategy = agents.useMockSnmpStrategy();
            for (final JUnitSnmpAgent agent : agents.value()) {
                handleSnmpAgent(testContext, agent, useMockSnmpStrategy);
            }
        }

        handleSnmpAgent(testContext, findAgentAnnotation(testContext), useMockSnmpStrategy);
    }

