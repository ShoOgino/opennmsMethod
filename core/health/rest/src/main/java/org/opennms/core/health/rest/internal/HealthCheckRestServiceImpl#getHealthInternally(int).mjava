    private HealthWrapper getHealthInternally(int timeoutInMs) {
        try {
            final Context context = new Context();
            context.setTimeout(timeoutInMs);

            final HealthWrapper healthWrapper = new HealthWrapper();
            final AtomicReference<String> reference = new AtomicReference<>();
            final CompletableFuture<Health> future = healthCheckService.performAsyncHealthCheck(
                    context,
                    healthCheck -> reference.set(healthCheck.getDescription()), // remember description
                    response -> healthWrapper.descriptionMap.put(response, reference.get())); // apply description
            healthWrapper.health = future.get();
            return healthWrapper;
        } catch (InterruptedException | ExecutionException e) {
            throw new RuntimeException(e);
        }
    }

