    @Test
    public void overridesGivenLocationAndSystemIdUsingAttributes() {
        final Map<String, Object> attributes = new HashMap<>();
        attributes.put(RpcTargetHelper.LOCATION_KEY, "xx");
        attributes.put(RpcTargetHelper.SYSTEM_ID_KEY, "yy");

        final RpcTarget target = new RpcTargetHelper().target()
                .withLocation("x")
                .withSystemId("y")
                .withServiceAttributes(attributes)
                .build();
        assertThat(target.getLocation(), equalTo("xx"));
        assertThat(target.getSystemId(), equalTo("yy"));
    }

