    @Override
    public CompletableFuture<EchoResponse> execute(EchoRequest request) {
        final CompletableFuture<EchoResponse> future = new CompletableFuture<>();
        new Thread(new Runnable() {
            @Override
            public void run() {
                if (request.getDelay() != null) {
                    try {
                        Thread.sleep(request.getDelay());
                    } catch (InterruptedException e) {
                        future.completeExceptionally(e);
                        return;
                    }
                }
                if (request.shouldThrow()) {
                    future.completeExceptionally(new MyEchoException(request.getMessage()));
                } else {
                    future.complete(new EchoResponse(request.getMessage()));
                }
            }
        }).start();
        return future;
    }

