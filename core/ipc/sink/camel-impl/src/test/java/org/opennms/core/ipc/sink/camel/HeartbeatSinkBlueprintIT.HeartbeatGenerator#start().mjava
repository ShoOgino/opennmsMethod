        public synchronized void start() {
            stopped.set(false);
            final RateLimiter rateLimiter = RateLimiter.create(rate);
            thread = new Thread(new Runnable() {
                @Override
                public void run() {
                    MessageProducerFactory remoteMessageProducerFactory = context.getRegistry().lookupByNameAndType("camelRemoteMessageProducerFactory", MessageProducerFactory.class);
                    MessageProducer<Heartbeat> remoteProducer = remoteMessageProducerFactory.getProducer(HeartbeatModule.INSTANCE);
                    while(!stopped.get()) {
                        rateLimiter.acquire();
                        remoteProducer.send(new Heartbeat());
                    }
                }
            });
            thread.start();
        }

