    @Override
    public <S extends Message, T extends Message> void dispatch(SinkModule<S, T> module, Map<String, Object> headers, T message) {
        template.sendBodyAndHeaders(endpoint, module.marshal((T)message), headers);
    }

