    public void init() throws IOException {
        // Use offHeap store.
        store = new MVStore.Builder().fileStore(new OffHeapStore()).open();
        Dictionary<String, Object> properties = configAdmin.getConfiguration(OFFHEAP_CONFIG).getProperties();
        if (properties != null && properties.get(OFFHEAP_SIZE) != null) {
            if (properties.get(OFFHEAP_SIZE) instanceof String) {
                maxSizeInBytes = convertByteSizes((String)properties.get(OFFHEAP_SIZE));
            }
        }
        reporter = JmxReporter.forRegistry(offheapMetrics).inDomain(this.getClass().getPackage().getName()).build();
        offheapMetrics.register(MetricRegistry.name("offHeapSize"), new Gauge<Long>() {
            @Override
            public Long getValue() {
                return getSize();

            }
        });
        reporter.start();
        LOG.info("initializing H2 OffHeapStore with max size : {} ", maxSizeInBytes);
    }

