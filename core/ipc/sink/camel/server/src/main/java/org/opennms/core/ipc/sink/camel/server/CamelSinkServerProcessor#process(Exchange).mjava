    @Override
    public void process(Exchange exchange) {
        final byte[] messageBytes = exchange.getIn().getBody(byte[].class);
        final Message message = module.unmarshal(messageBytes);
        // Update metrics.
        messageSize.update(messageBytes.length);
        // dispatchTime is a metric which measures time taken to dispatch
        try(Timer.Context context = dispatchTime.time()) {
            // Dispatch messages to specific module.
            consumerManager.dispatch(module, message);
        }
    }

