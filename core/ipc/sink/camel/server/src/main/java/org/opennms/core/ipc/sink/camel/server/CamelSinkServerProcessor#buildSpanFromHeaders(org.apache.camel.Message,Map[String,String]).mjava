    private Tracer.SpanBuilder buildSpanFromHeaders(org.apache.camel.Message message, Map<String, String> tracingInfo) {
        String tracingInfoObj = message.getHeader(JMS_SINK_TRACING_INFO, String.class);
        if (tracingInfoObj != null) {
            tracingInfo.putAll(TracingInfoCarrier.unmarshalTracinginfo(tracingInfoObj));
        }
        Tracer.SpanBuilder spanBuilder;
        Tracer tracer;
        if (tracerRegistry != null) {
            tracer = tracerRegistry.getTracer();
        } else {
            tracer = GlobalTracer.get();
        }
        SpanContext context = tracer.extract(Format.Builtin.TEXT_MAP, new TextMapExtractAdapter(tracingInfo));
        if (context != null) {
            spanBuilder = tracer.buildSpan(module.getId()).asChildOf(context);
        } else {
            spanBuilder = tracer.buildSpan(module.getId());
        }
        return spanBuilder;

    }

