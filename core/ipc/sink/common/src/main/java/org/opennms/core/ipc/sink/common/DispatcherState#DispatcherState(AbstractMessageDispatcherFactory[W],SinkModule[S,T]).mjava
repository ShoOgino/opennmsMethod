    public DispatcherState(AbstractMessageDispatcherFactory<W> dispatcherFactory, SinkModule<S, T> module) {
        this.module = module;
        metadata = dispatcherFactory.getModuleMetadata(module);
        metrics = dispatcherFactory.getMetrics();
        dispatchTimer = metrics.timer(MetricRegistry.name(module.getId(), "dispatch"));
    }

