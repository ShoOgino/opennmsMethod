    /**
     * Builds the properties map for the queue.
     *
     * @param awsConfig the AWS configuration
     * @return the queue properties map
     */
    protected Map<String, String> buildProperties(Properties awsConfig) {
        final Map<String,String> attributes = new HashMap<>();
        for (SqsQueueAttribute attr : SqsQueueAttribute.values()) {
            final String val = awsConfig.getProperty(attr.toString(),QUEUE_ATTRIBUTES_DEFAULTS.get(attr.toString()));
            if (val != null) {
                attributes.put(attr.toString(), val);
            }
        }
        if (isFifoEnabled(awsConfig)) {
            final String key = SqsQueueAttribute.ContentBasedDeduplication.toString();
            attributes.put(key, awsConfig.getProperty(key, CONTENT_BASED_DEDUP_DEFAULT));
        } else {
            attributes.remove(SqsQueueAttribute.FifoQueue.toString());
        }
        LOG.debug("SQS configuration settings {}", awsConfig);
        LOG.debug("SQS queues properties {}", attributes);
        return attributes;
    }

