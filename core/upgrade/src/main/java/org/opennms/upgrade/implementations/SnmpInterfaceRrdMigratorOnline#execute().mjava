    /* (non-Javadoc)
     * @see org.opennms.upgrade.api.OnmsUpgrade#execute()
     */
    @Override
    public void execute() throws OnmsUpgradeException {
        for (SnmpInterfaceUpgrade intf : interfacesToMerge) {
            try {
                merge(intf.getOldInterfaceDir(), intf.getNewInterfaceDir());
            } catch (Exception e) {
                StringWriter w = new StringWriter();
                PrintWriter p = new PrintWriter(w);
                e.printStackTrace(p);
                log("Error: Can't upgrade %s because %s: %s. Rolling back changes\n", intf, e.getMessage(), w.toString());
                File[] targets = { intf.getOldInterfaceDir(), intf.getNewInterfaceDir() };
                for (File target : targets) {
                    File zip = new File(target.getAbsolutePath() + ZIP_EXT);
                    try {
                        FileUtils.deleteDirectory(target);
                    } catch (IOException e1) {
                        log("Warning: can't delete directory %s\n", target);
                    }
                    if(!target.mkdirs()) {
                    	LOG.warn("Could not make directory: {}", target.getPath());
                    }
                    unzipFile(zip, target);
                    if(!zip.delete()) {
                    	LOG.warn("Could not delete file: {}", zip.getPath());
                    }
                }
            }
        }
    }

