    /* (non-Javadoc)
     * @see org.opennms.upgrade.api.OnmsUpgrade#rollback()
     */
    @Override
    public void rollback() throws OnmsUpgradeException {
        try {
            for (File jmxResourceDir : getJmxResourceDirectories()) {
                File zip = new File(jmxResourceDir.getAbsolutePath() + ZIP_EXT);
                FileUtils.deleteDirectory(jmxResourceDir);
                if(!jmxResourceDir.mkdirs()) {
                	LOG.warn("Could not make directory: {}", jmxResourceDir.getPath());
                }
                unzipFile(zip, jmxResourceDir);
                if(!zip.delete()) {
                	LOG.warn("Could not delete file: {}", zip.getPath());
                }
            }
            File configDir = new File(ConfigFileConstants.getFilePathString());
            for (File backupFile : backupFiles) {
                unzipFile(backupFile, configDir);
            }
        } catch (IOException e) {
            throw new OnmsUpgradeException("Can't restore the backup files because " + e.getMessage());
        }
    }

