    /* (non-Javadoc)
     * @see org.opennms.upgrade.api.OnmsUpgrade#rollback()
     */
    @Override
    public void rollback() throws OnmsUpgradeException {
        try {
            for (File f5ResourceDir : processedDirectories) {
                LOG.debug("Removing processed directory {}", f5ResourceDir);
                FileUtils.deleteDirectory(f5ResourceDir);
                OctetString oString = new OctetString(f5ResourceDir.getName());
                OID oid = oString.toSubIndex(false);
                File origResourceDir = new File(f5ResourceDir.getParentFile(), oid.toDottedString());
                File zip = new File(origResourceDir.getAbsolutePath() + ZIP_EXT);
                if (!origResourceDir.mkdirs()) {
                    LOG.warn("Could not make directory: {}", origResourceDir.getPath());
                }
                unzipFile(zip, origResourceDir);
                if(!zip.delete()) {
                	LOG.warn("Could not delete file: {}", zip.getPath());
                }
            }
        } catch (IOException e) {
            throw new OnmsUpgradeException("Can't restore the backup files because " + e.getMessage());
        }
    }

