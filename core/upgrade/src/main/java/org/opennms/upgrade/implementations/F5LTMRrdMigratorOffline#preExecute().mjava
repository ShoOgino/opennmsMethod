    /* (non-Javadoc)
     * @see org.opennms.upgrade.api.OnmsUpgrade#preExecute()
     */
    @Override
    public void preExecute() throws OnmsUpgradeException {
        printMainSettings();
        try {
            File sourceFile = Paths.get(ConfigFileConstants.getHome(), "etc", "datacollection-config.xml").toFile();
            File configDirectory = new File(sourceFile.getParentFile().getAbsolutePath(), "datacollection");
            m_dataCollectionConfigDao.setConfigDirectory(configDirectory.getAbsolutePath());
            m_dataCollectionConfigDao.setConfigResource(new FileSystemResource(sourceFile));
            m_dataCollectionConfigDao.setReloadCheckInterval(new Long(0));
            m_dataCollectionConfigDao.afterPropertiesSet();
        } catch (Exception e) {
            throw new OnmsUpgradeException("Can't initialize datacollection-config.xml because " + e.getMessage());
        }
        for (File f5ResourceDir : getF5ResourceDirectories()) {
            log("Backing up %s\n", f5ResourceDir);
            zipDir(new File(f5ResourceDir.getAbsolutePath() + ZIP_EXT), f5ResourceDir);
        }
    }

