    /**
     * Gets the JMX resource directories.
     *
     * @return the JMX resource directories
     * @throws OnmsUpgradeException the OpenNMS upgrade exception
     */
    private List<File> getF5ResourceDirectories() throws OnmsUpgradeException {
        if (f5ResourceDirectories == null) {
            f5ResourceDirectories = new ArrayList<>();
            CollectdConfiguration config;
            try {
                config = new CollectdConfigFactory().getCollectdConfig();
            } catch (Exception e) {
                throw new OnmsUpgradeException("Can't upgrade the JRBs because " + e.getMessage(), e);
            }
            File rrdDir = new File(dataCollectionConfigDao.getRrdPath());
            findF5LocalTMDirectories(rrdDir, f5ResourceDirectories);
            if (f5ResourceDirectories.isEmpty()) {
                log("Warning: no F5 LocalTM directories found on %s\n", rrdDir);
            }
        }
        return f5ResourceDirectories;
    }

