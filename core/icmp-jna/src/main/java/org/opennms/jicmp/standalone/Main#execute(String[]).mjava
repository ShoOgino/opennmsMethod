    public int execute(String[] args) throws Exception {
        if (args.length < 1) {
            System.err.println("java -jar jna-jicmp-VERSION.jar <hostname or ip address>");
            return 1;
        }
        
        InetAddress addr = InetAddress.getByName(args[0]);

        PingReplyMetric metric;
        if (addr instanceof Inet4Address) {
            V4Pinger pinger = new V4Pinger(1234);
            metric = pinger.ping((Inet4Address)addr);
        } else if (addr instanceof Inet6Address){
            V6Pinger pinger = new V6Pinger(1234);
            metric = pinger.ping((Inet6Address)addr);
        } else {
            System.err.println("Unrecognized address type " + addr.getClass());
            return 1;
        }
        
        metric.await();
        System.err.println(metric.getSummary(TimeUnit.MILLISECONDS));
        
        return 0;
    }

