    public void allowFragmentation(final int level, final int option_name, final boolean frag) throws IOException {
        final int socket = getSock();
        if (socket < 0) {
            throw new IOException("Invalid socket!");
        }
        final IntByReference dontfragment = new IntByReference(frag == true? 0 : 1);
        try {
            setsockopt(socket, level, option_name, dontfragment.getPointer(), Pointer.SIZE);
        } catch (final LastErrorException e) {
            throw new IOException("setsockopt: " + strerror(e.getErrorCode()));
        }
    }

