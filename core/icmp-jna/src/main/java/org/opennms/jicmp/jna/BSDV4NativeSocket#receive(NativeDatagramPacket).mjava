	@Override
	public int receive(final NativeDatagramPacket p) {
		final bsd_sockaddr_in in_addr = new bsd_sockaddr_in();
		final int[] szRef = new int[] { in_addr.size() };
		final ByteBuffer buf = p.getContent();
		final int socket = getSock();

		SocketUtils.assertSocketValid(socket);
		final int n = recvfrom(socket, buf, buf.capacity(), 0, in_addr, szRef);
		p.setLength(n);
		p.setAddress(in_addr.getAddress());
		p.setPort(in_addr.getPort());

		return n;
	}

