    @Override
    public Optional<InputStream> open(final String assetName, final String type, final boolean minified) throws IOException {
        return withLogPrefix(() -> {
            final Optional<AssetResource> r = getResource(assetName, type, minified);
            if (!r.isPresent()) {
                LOG.info("Unable to locate asset resource {}:{}", assetName, type);
                return Optional.empty();
            }
            final AssetResource resource = r.get();

            if (m_filesystemPath != null) {
                final Path p = Paths.get(m_filesystemPath).resolve(resource.getPath());
                LOG.debug("assets path is set, attempting to load {}:{} from {}", assetName, type, p);
                if (p.toFile().exists()) {
                    return Optional.of(new FileInputStream(p.toFile()));
                }
            }

            final String resourcePath = resource.getPath();
            LOG.debug("Opening resource {} for asset {}", resourcePath, r);
            final URL url = getClass().getResource(resourcePath);
            if (url != null) {
                return Optional.of(url.openStream());
            }
            return Optional.of(new ClassPathResource(resourcePath).getInputStream());
        });
    }

