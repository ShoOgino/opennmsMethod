    /* (non-Javadoc)
     * @see org.opennms.core.db.BaseConnectionFactory#initializePool(org.opennms.netmgt.config.opennmsDataSources.JdbcDataSource)
     */
    // TODO Enable and configure MetricRegistry
    @Override
    protected void initializePool(final JdbcDataSource dataSource) throws SQLException {
        final Properties properties = new Properties();
        for (final Param parameter : dataSource.getParamCollection()) {
            properties.setProperty(parameter.getName(), parameter.getValue());
        }
        final HikariConfig config = new HikariConfig(properties);
        config.setPoolName(dataSource.getName());
        config.setJdbcUrl(dataSource.getUrl());
        config.setUsername(dataSource.getUserName());
        config.setPassword(dataSource.getPassword());
        config.setDriverClassName(dataSource.getClassName());
        // NMS-9387: Block indefinitely when waiting for a connection
        config.setConnectionTimeout(0);
        config.setRegisterMbeans(true); // For JMX Monitoring
        config.validate();
        m_pool = new HikariDataSource(config);
    }

