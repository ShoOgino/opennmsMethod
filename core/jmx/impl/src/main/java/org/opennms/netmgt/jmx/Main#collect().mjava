    private void collect() throws InterruptedException, JmxServerConnectionException {
        JmxCollectorConfig config = new JmxCollectorConfig();
        config.setAgentAddress("192.168.2.10");
        config.setRetries(3);
        config.setServiceProperties(createServiceProperties());
        config.setJmxCollection(getJmxCollection(COLLECTION_NAME));

        JmxSampleProcessor sampleProcessor = new JmxSampleProcessor() {
            @Override
            public void process(JmxAttributeSample attributeSample) {
                System.out.println("Found attribute sample: " + attributeSample);
            }

            @Override
            public void process(JmxCompositeSample compositeSample) {
                System.out.println("Found composite sample: " + compositeSample);
            }
        };

        JmxCollector defaultJmxCollector = new DefaultJmxCollector();
        defaultJmxCollector.collect(config, sampleProcessor);
    }

