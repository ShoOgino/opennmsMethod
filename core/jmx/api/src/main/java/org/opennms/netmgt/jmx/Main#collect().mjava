    private void collect() throws InterruptedException, MBeanServerConnectionException {
        WiuJmxConfig config = new WiuJmxConfig();
        config.setAgentAddress("192.168.2.10");
        config.setRetries(3);
        config.setServiceProperties(createServiceProperties());
        config.setJmxCollection(getJmxCollection(COLLECTION_NAME));

        JmxSampleProcessor sampleProcessor = new JmxSampleProcessor() {
            @Override
            public void process(AttributeSample attributeSample) {
                System.out.println("Found attribute sample: " + attributeSample);
            }

            @Override
            public void process(CompositeSample compositeSample) {
                System.out.println("Found composite sample: " + compositeSample);
            }
        };

        WiuJmxCollector defaultJmxCollector = new WiuDefaultJmxCollector();
        defaultJmxCollector.collect(config, sampleProcessor);
    }

