    public String getUrl() throws MalformedURLException {
        final Map<String, Object> propertiesMap = new HashMap<>();
        if (ipAddress != null) {
            // Create map to substitute url
            propertiesMap.put("ipaddr", InetAddressUtils.toUrlIpAddress(getIpAddress()));

            final String theUrl = PropertiesUtils.substitute(url, propertiesMap);
            return theUrl;
        }
        return url;
    }

