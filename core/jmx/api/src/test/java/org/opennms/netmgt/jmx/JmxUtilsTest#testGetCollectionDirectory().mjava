    @Test
    public void testGetCollectionDirectory() {
        Map<String, String> input = new HashMap<>();
        input.put("port", "100");

        String collectionDir = JmxUtils.getCollectionDirectory(input, "ulf", "alf");
        Assert.assertEquals("ulf", collectionDir);

        String collectionDir2 = JmxUtils.getCollectionDirectory(input, null, null);
        Assert.assertEquals("100", collectionDir2);

        String collectionDir3 = JmxUtils.getCollectionDirectory(input, null, "alf");
        Assert.assertEquals("alf", collectionDir3);

        String collectionDir4 = JmxUtils.getCollectionDirectory(input, "ulf", null);
        Assert.assertEquals("ulf", collectionDir4);

        try {
            JmxUtils.getCollectionDirectory(null, null, null);
            Assert.fail("NullPointerException should have been thrown.");
        } catch (NullPointerException npe) {

        }

        try {
            JmxUtils.getCollectionDirectory(new HashMap<String, String>(), null, null);
            Assert.fail("NullPointerException should have been thrown.");
        } catch (NullPointerException npe) {

        }
    }

