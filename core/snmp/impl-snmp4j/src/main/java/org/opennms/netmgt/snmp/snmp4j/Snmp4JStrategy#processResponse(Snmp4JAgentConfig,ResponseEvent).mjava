    /**
     * TODO: Merge this logic with {@link Snmp4JWalker.Snmp4JResponseListener#processResponse(PDU response)}
     */
    private static SnmpValue[] processResponse(Snmp4JAgentConfig agentConfig, ResponseEvent responseEvent) throws IOException {
        SnmpValue[] retvalues = { null };

        if (responseEvent.getResponse() == null) {
            log().warn("processResponse: Timeout.  Agent: "+agentConfig);
        } else if (responseEvent.getError() != null) {
            log().warn("processResponse: Error during get operation.  Error: "+responseEvent.getError().getLocalizedMessage(), responseEvent.getError());
        } else if (responseEvent.getResponse().getType() == PDU.REPORT) {
            log().warn("processResponse: Error during get operation.  Report returned with varbinds: "+responseEvent.getResponse().getVariableBindings());
        } else if (responseEvent.getResponse().getVariableBindings().size() < 1) {
            log().warn("processResponse: Received PDU with 0 varbinds.");
        } else if (responseEvent.getResponse().get(0).getSyntax() == SMIConstants.SYNTAX_NULL) {
            log().info("processResponse: Null value returned in varbind: " + responseEvent.getResponse().get(0));
        } else {
            retvalues = convertResponseToValues(responseEvent);

            if (log().isDebugEnabled()) {
                log().debug("processResponse: SNMP operation successful, value: "+Arrays.toString(retvalues));
            }
        }

        return retvalues;
    }

