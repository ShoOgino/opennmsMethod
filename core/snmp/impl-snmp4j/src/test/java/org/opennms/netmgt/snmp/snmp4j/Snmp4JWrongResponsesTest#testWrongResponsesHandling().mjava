    @Test
    public void testWrongResponsesHandling() throws IOException, SnmpAgentTimeoutException, SnmpException {
        Snmp4JAgentConfig agentConfig = new Snmp4JAgentConfig(getAgentConfig());
        // Request with 4 oids.
        SnmpObjId[] oids = {SnmpObjId.get(".1.3.6.1.2.1.1.2.0"),
                SnmpObjId.get(".1.3.6.1.2.1.1.3.0"),
                SnmpObjId.get(".1.3.5.1.1.4.0"),
                SnmpObjId.get(".1.3.5.1.1.3.0"),};
        PDU pdu = buildPdu(agentConfig, PDU.GET, oids, null);

        // Response with 2 oids.
        SnmpObjId[] responseOids = {SnmpObjId.get(".1.3.6.1.2.1.1.2.0"),
                SnmpObjId.get(".1.3.5.1.1.3.0")};
        SnmpValue[] values = new SnmpValue[]{
                snmpValue("1st-Element"),
                snmpValue("4th-Element")
        };
        PDU responsePdu = buildPdu(agentConfig, PDU.SET, responseOids, values);
        ResponseEvent responseEvent = new ResponseEvent(this, null, responsePdu, responsePdu, null);

        // Verify response with two oids.
        SnmpValue[] retValues = Snmp4JStrategy.processResponse(agentConfig, responseEvent, pdu);
        assertTrue("All 4 elements should be present", retValues.length == 4);
        assertEquals("1st-Element", retValues[0].toDisplayString());
        assertEquals("4th-Element", retValues[3].toDisplayString());
        assertEquals(SnmpValue.SNMP_NULL, retValues[2].getType());
        assertEquals("", retValues[2].toString());

    }

