    @Test
    public void testSendV1Trap() throws Exception {
    	assumeTrue(m_trapsSupported);
        m_trapListener = new TestTrapListener();
        SnmpUtils.registerForTraps(m_trapListener, this, null, 9162);

        SnmpV1TrapBuilder trap = SnmpUtils.getV1TrapBuilder();
        trap.setAgentAddress(InetAddress.getLocalHost());
        trap.setEnterprise(SnmpObjId.get(".0.0"));
        trap.setGeneric(6);
        trap.setSpecific(1);
        trap.setTimeStamp(8640000);
        trap.send(InetAddress.getLocalHost().getHostAddress(), 9162, "public");
        Thread.sleep(1000);
        assertEquals("Unexpected number of traps Received", 1, m_trapListener.getReceivedTrapCount());
    }

