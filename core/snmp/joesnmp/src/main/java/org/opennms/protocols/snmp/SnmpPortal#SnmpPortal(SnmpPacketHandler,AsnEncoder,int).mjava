    /**
     * The SnmpPortal constructor. The constructor is used to build a portal on
     * the specified port, and forward messages to the defined handler. All
     * messages are decoded using the encoder specified during construction.
     * 
     * @param handler
     *            The SNMP packet handler.
     * @param encoder
     *            The ASN.1 codec object.
     * @param port
     *            The port to send and receive datagram from.
     * 
     * @exception java.net.SocketException
     *                Thrown if an error occurs setting up the communication
     *                channel.
     * @exception java.lang.IllegalArgumentException
     *                Thrown if any of the parameters are null or invalid.
     * 
     */
    SnmpPortal(final SnmpPacketHandler handler, final AsnEncoder encoder, final int port) throws SocketException {
    	if (handler == null || encoder == null)
            throw new IllegalArgumentException("Invalid argument");

        m_handler = handler;

        if (port >= 0) {
            m_comm = new DatagramSocket(port);
        } else {
            m_comm = new DatagramSocket();
        }

        initializePortal(encoder);
    }

