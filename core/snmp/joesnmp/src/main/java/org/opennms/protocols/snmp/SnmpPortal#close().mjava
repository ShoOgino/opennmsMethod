    /**
     * Used to close the session. Once called the session should be considered
     * invalid and unusable.
     * 
     */
    void close() {
        m_isClosing = true;
        m_comm.close();

        try {
            //
            // make sure that the caller thread
            // is not the one we are trying to
            // join!
            //
            if (m_recvThread.equals(Thread.currentThread()) == false) {
                m_recvThread.join();
            }
        } catch (InterruptedException err) {
            Thread.currentThread().interrupt(); // reset the flag
        }
    }

