    /**
     * Used to close the session. Once called the session should be considered
     * invalid and unusable.
     * 
     * @exception java.lang.IllegalStateException
     *                Thrown if the session has already been closed by another
     *                thread.
     */
    public void close() {
        synchronized (m_sync) {
            //
            // only allow close to be called once
            //
            if (m_stopRun)
                throw new IllegalStateException("The session is already closed");

            m_stopRun = true;
            m_timer.cancel();
        }
        m_portal.close();

        //
        // remove all items from the list
        //
        synchronized (m_requests) {
            m_requests.clear();
        }
    }

