    /**
     * Verifies that SNMP WALKs are successful when directly using SnmpUtils.
     *
     * Used a basis for comparison.
     */
    @Test
    public void canWalkIpAddressTableDirectly() throws InterruptedException {
        // Gather the list of IP addresses
        final IPAddressGatheringTracker tracker = new IPAddressGatheringTracker();
        SnmpWalker walker = SnmpUtils.createWalker(agentConfig, tracker.getDescription(), tracker);
        walker.start();
        walker.waitFor();
        ExpectedResults.compareToKnownIpAddressList(tracker.getIpAddresses());

        // Now determine their interface indices using a different type of tracker
        final Set<SnmpInstId> ipAddrs = new TreeSet<SnmpInstId>();
        for(final String ipAddr : tracker.getIpAddresses()) {
            ipAddrs.add(new SnmpInstId(InetAddressUtils.toOid(InetAddressUtils.addr(ipAddr))));
        }
        IpAddrTable ipAddrTable = new IpAddrTable(agentConfig.getAddress(), ipAddrs);
        walker = SnmpUtils.createWalker(agentConfig, "ipAddrTable", ipAddrTable);
        walker.start();
        walker.waitFor();
        ExpectedResults.compareToKnownIfIndices(ipAddrTable.getIfIndices());
    }

