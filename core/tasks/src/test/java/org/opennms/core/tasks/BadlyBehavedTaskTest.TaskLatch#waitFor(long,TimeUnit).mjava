        public void waitFor(long timeout, TimeUnit unit) throws InterruptedException {
            assertTrue("doSubmit latch not satisfied: " + doSubmitLatch.getCount(), doSubmitLatch.await(timeout, unit));
            assertTrue("preSchedule latch not satisfied: " + preScheduleLatch.getCount(), preScheduleLatch.await(timeout, unit));
            assertTrue("postSchedule latch not satisfied: " + postScheduleLatch.getCount(), postScheduleLatch.await(timeout, unit));
        }

