    @Test
    public void testLargeSequence() throws Exception {
        
        long count = 500;
        
        AtomicLong result = new AtomicLong(0);
        
        SequenceTask task = createSequence();
        
        for(long i = 1; i <= count; i++) {
            task.add(addr(result, i));
        }
        
        task.schedule();
        
        task.waitFor();
        
        assertEquals(count*(count+1)/2, result.get());
        
    }

