    final void submitIfReady() {
        if (isReady()) {
            try {
                doSubmit();
            } catch (Throwable e) {
                LOG.error("Unexpected throwable while trying to submit task: " + this, e);
            } finally {
                submitted();
                completeSubmit();
            }
        }
    }

