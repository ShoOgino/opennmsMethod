    @Override
    public void providerRegistered(Registration registration, ConfigurationProvider provider) {
        if (clazz.equals(registration.getProvider(ConfigurationProvider.class).getType())) {
            if (providers.add(new ConfigurationProviderState<>(provider))) {
                LOG.debug("Registered configuration provider {} for {}.", provider, clazz.getCanonicalName());
                // Force a check on the next get
                forceReload = true;
            }
        }
    }

