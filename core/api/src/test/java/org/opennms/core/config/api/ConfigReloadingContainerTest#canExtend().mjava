    @Test
    public void canExtend() {
        ConfigReloadContainer<SomeConfig> container = new ConfigReloadContainer.Builder<>(SomeConfig.class)
                .withProvider(new BeanConfigurationProvider<>(new SomeConfig(1)))
                .withMerger((a,b) -> {
                    if (a == null) {
                        a = new SomeConfig();
                    }
                    a.add(b.getSum());
                    return a;
                })
                .build();

        // Verify the original object
        assertThat(container.getObject().getSum(), is(equalTo(1)));

        // Extend it
        BeanConfigurationProvider<SomeConfig> ext = new BeanConfigurationProvider<>(new SomeConfig(2));
        Map<String, String> props = Maps.newHashMap();
        registry.register(ext, props, ConfigurationProvider.class);

        // Verify the extended object
        assertThat(container.getObject().getSum(), is(equalTo(3)));
    }

