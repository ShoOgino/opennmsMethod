    private synchronized ThreshdConfiguration getMergedConfig() {
        ThreshdConfiguration externalConfig = extContainer.getObject();

        if (filesystemConfig == null && externalConfig == null) {
            return null;
        } else if (externalConfig == null) {
            return filesystemConfig;
        } else if (filesystemConfig == null) {
            return externalConfig;
        }

        // Create a merged config by combining the config from filesystem and the external config provided by extensions
        ThreshdConfiguration mergedConfig = new ThreshdConfiguration();

        List<Package> mergedPackages = new ArrayList<>();
        mergedPackages.addAll(filesystemConfig.getPackages());
        mergedPackages.addAll(externalConfig.getPackages());
        mergedConfig.setPackages(Collections.unmodifiableList(mergedPackages));

        return mergedConfig;
    }

