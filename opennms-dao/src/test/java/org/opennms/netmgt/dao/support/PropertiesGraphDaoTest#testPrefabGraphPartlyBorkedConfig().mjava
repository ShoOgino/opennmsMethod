    /**
     * Test that we can load a partly borked config file (i.e. if one graph is incorrectly specified,
     * we load as many of the rest as we can).
     * The borked'ness we can tolerate does not include poor double quoting which confuses the underlying
     * Java properties parser, but misspelled property names should only affect the graph in question.
     * 
     * NB: It should still complain with an Error log.  Should there be an event as well?
     * @throws Exception
     */
    @Test
    public void testPrefabGraphPartlyBorkedConfig() throws Exception {
        //We're expecting an ERROR log, and will be most disappointed if
        // we don't get it.  Turn off the default check in runTest
        m_testSpecificLoggingTest = true;
        
        PropertiesGraphDao dao = createPropertiesGraphDao(s_emptyMap, s_emptyMap);
        dao.loadProperties("foo", new ByteArrayInputStream(s_partlyBorkedPrefab.getBytes("UTF-8")));
        
        //We expect to be able to get a mib2.HCbits, and a mib2.discards, but no mib2.bits 
        try {
            PrefabGraph mib2bits = dao.getPrefabGraph("mib2.bits");
            fail("Should have thrown an ObjectRetrievalFailureException retrieving graph "+mib2bits);
        } catch (ObjectRetrievalFailureException e) {
            
        }
        PrefabGraph mib2HCbits = dao.getPrefabGraph("mib2.HCbits");
        assertNotNull(mib2HCbits);
        PrefabGraph mib2Discards = dao.getPrefabGraph("mib2.discards");
        assertNotNull(mib2Discards);
        

    }

