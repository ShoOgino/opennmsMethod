    @Test
    public void canGetResourcesForNode() throws IOException {
        expect(node.getIpInterfaces()).andReturn(ipInterfaces);
        expect(ipInterface.getIpAddress()).andReturn(InetAddress.getByName("127.0.0.1")).atLeastOnce();

        replay(node, ipInterface);
        NodeResourceType nodeResourceType = new NodeResourceType(resourceDao, nodeDao);
        OnmsResource nodeResource = new OnmsResource("1", "Node", nodeResourceType, Collections.emptySet(), ResourcePath.get("foo"));
        nodeResource.setEntity(node);
        
        List<OnmsResource> resources = responseTimeResourceType.getResourcesForParent(nodeResource);
        verify(node, ipInterface);

        assertEquals(1, resources.size());
        assertEquals("127.0.0.1", resources.get(0).getName());
    }

