    @Test
    @Transactional
    public void testGetForeignIdForLocation() {
        //Verify foreignId without specifying location assuming it's only one present
        OnmsNode node1 = getNode1();
        node1.setForeignSource("Apex");
        node1.setForeignId("TheOpenNMSGroup");
        m_nodeDao.saveOrUpdate(node1);
        List<OnmsNode> nodes1 = m_nodeDao.findByForeignId("TheOpenNMSGroup");
        assertEquals(nodes1.get(0), node1);
        
        //Verify same foreignId with different locations
        OnmsMonitoringLocation location = new OnmsMonitoringLocation();
        location.setLocationName("Apex");
        location.setMonitoringArea("Apex");
        m_locationDao.saveOrUpdate(location);
        OnmsNode node2 = new OnmsNode(location, "openNMS@Apex");
        node2.setForeignSource("Triangle");
        node2.setForeignId("TheOpenNMSGroup");
        m_nodeDao.saveOrUpdate(node2);
        List<OnmsNode> nodes2 = m_nodeDao.findByForeignIdForLocation("TheOpenNMSGroup", location.getLocationName());
        assertEquals(nodes2.get(0), node2);
    }    

