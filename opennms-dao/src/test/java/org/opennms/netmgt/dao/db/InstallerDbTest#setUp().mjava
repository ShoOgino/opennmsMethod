    protected void setUp() throws Exception {
        super.setUp();
        
        if (!isEnabled()) {
            return;
        }
        
        m_installerDb = new InstallerDb();

        resetOutputStream();
        getInstallerDb().setDatabaseName(getTestDatabase());
        m_installerDb.setPostgresOpennmsUser("opennms");

        getInstallerDb().setCreateSqlLocation("../opennms-base-assembly/src/main/filtered/etc/create.sql");

        getInstallerDb().setStoredProcedureDirectory("../opennms-base-assembly/src/main/filtered/etc");

        //getInstallerDb().setDebug(true);

        // Read in the table definitions
        getInstallerDb().readTables();
        
        getInstallerDb().setDataSource(getDataSource());
        
        getInstallerDb().addColumnReplacements();

        m_connection = getInstallerDb().getDataSource().getConnection();
    }

