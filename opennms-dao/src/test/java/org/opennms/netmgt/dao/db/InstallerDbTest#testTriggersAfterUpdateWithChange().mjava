    public void testTriggersAfterUpdateWithChange() throws Exception {
        getInstallerDb().createSequences();
        getInstallerDb().updatePlPgsql();
        getInstallerDb().addStoredProcedures();


        /*
         * getInstallerDb().createTables(); executeSQL("drop table outages");
         */

        addTableFromSQL("distPoller");
        addTableFromSQL("node");
        addTableFromSQL("snmpinterface");

        /*
         * // No ID column addTableFromSQLWithReplacements("snmpinterface",
         * new String[][] { new String[] { "(?i)id\\s+INTEGER DEFAULT
         * nextval\\('opennmsNxtId'\\) NOT NULL,", "" }, new String[] {
         * "(?i)CONSTRAINT snmpinterface_pkey primary key \\(id\\),", "" } });
         */
        

        /*
         *  No snmpInterfaceID column, and I need to kill an index that
         *  includes that column, as well.
         */
        getInstallerDb().getIndexDao().remove("ipinterface_snmpInterfaceId_idx");
        addTableFromSQLWithReplacements("ipinterface",
                                        new String[][] {
                                                new String[] {
                                                        "(?i)snmpInterfaceId\\s+integer,",
                                                        "" },
                                                new String[] {
                                                        "(?i)CONSTRAINT snmpinterface_fkey2 FOREIGN KEY \\(snmpInterfaceId\\) REFERENCES snmpInterface \\(id\\) ON DELETE CASCADE,",
                                                        "" } });

        addTableFromSQL("service");
        addTableFromSQL("ifServices");
        addTableFromSQL("events");
        addTableFromSQL("outages");

        verifyTriggers(false);

        getInstallerDb().createTables();

        verifyTriggers(false);
    }

