    @Test
    public void testSaveOnmsStpNode() {
        // Create a new data link interface and save it.
        OnmsStpNode stpnode = new OnmsStpNode(m_databasePopulator.getNode2(),1);

        stpnode.setBaseBridgeAddress("0a0112345678");
        stpnode.setBaseNumPorts(20);
        stpnode.setBaseType(BridgeBaseType.TRANSPARENT_ONLY);
        stpnode.setBaseVlanName("default");
        stpnode.setLastPollTime(new Date());
        stpnode.setStatus(StatusType.ACTIVE);
        stpnode.setStpDesignatedRoot("80000a0112345670");
        stpnode.setStpPriority(28532);
        stpnode.setStpProtocolSpecification(StpProtocolSpecification.IEEE8021D);
        stpnode.setStpRootCost(128);
        stpnode.setStpRootPort(15);
        m_stpNodeDao.save(stpnode);

        assertEquals(1, m_stpNodeDao.countAll());
        OnmsStpNode dbStpNode = m_stpNodeDao.findByNodeAndVlan(m_databasePopulator.getNode2().getId(), 1);
        assertEquals(stpnode.getBaseBridgeAddress(), dbStpNode.getBaseBridgeAddress());
        assertEquals("transparent-only",BridgeBaseType.getBridgeBaseTypeString(dbStpNode.getBaseType().getIntCode()));
        assertEquals("ieee8021d",StpProtocolSpecification.getStpProtocolSpecificationString(dbStpNode.getStpProtocolSpecification().getIntCode()));
    }

