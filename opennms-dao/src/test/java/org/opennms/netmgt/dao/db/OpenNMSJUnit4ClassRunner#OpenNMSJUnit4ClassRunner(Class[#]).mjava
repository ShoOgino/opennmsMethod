    public OpenNMSJUnit4ClassRunner(Class<?> clazz) throws InitializationError {
        super(clazz);

        // Make a deep copy of the existing listeners
        List<TestExecutionListener> oldListeners = getTestContextManager().getTestExecutionListeners();
        List<TestExecutionListener> listeners = new ArrayList<TestExecutionListener>(oldListeners.size());
        for (TestExecutionListener old : oldListeners) {
            listeners.add(old);
        }
        oldListeners.clear();

        // Register the standard set of execution listeners
        getTestContextManager().registerTestExecutionListeners(STANDARD_LISTENERS);

        // Add any additional listeners that may have been specified manually in the test
        Comparator<TestExecutionListener> comparator = new ClassNameComparator();
        TreeSet<TestExecutionListener> standardListeners = new TreeSet<TestExecutionListener>(comparator);
        for (TestExecutionListener listener : listeners) {
            if (!standardListeners.contains(listener)) {
                getTestContextManager().registerTestExecutionListeners(listener);
            }
        }
    }

