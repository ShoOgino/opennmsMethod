    /**
     * Run the unit test if tests are enabled.
     * 
     * Note: this sets the Spring context as dirty at the end of each test
     * to ensure that each test gets a fresh context, and in particular,
     * a fresh temporary database.
     * 
     * @see junit.framework.TestCase#runTest()
     * @see setDirty()
     */
    @Override
    protected void runTest() throws Throwable {
        if (!PopulatedTemporaryDatabaseTestCase.isEnabled()) {
            PopulatedTemporaryDatabaseTestCase.notifyTestDisabled(getName());
            return;
        }

        try {
            super.runTest();
        } finally {
            /*
             * Mark the context as dirty when we're all done with the test.
             * This causes the context to be destroyed immediately, so it
             * needs to happen at the very end when everything is done.
             */
            setDirty();
        }
    }

