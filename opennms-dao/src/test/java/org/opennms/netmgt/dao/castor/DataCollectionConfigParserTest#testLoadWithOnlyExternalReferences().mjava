    @Test
    public void testLoadWithOnlyExternalReferences() throws Exception {
        // Configure XML repository
        File configFile = ConfigurationTestUtils.getFileForConfigFile("datacollection-config.xml");
        File configFolder = new File(configFile.getParentFile(), "datacollection");
        System.err.println(configFolder.getAbsolutePath());
        Assert.assertTrue(configFolder.isDirectory());

        // Create DatacollectionConfig
        Resource resource = new FileSystemResource(configFile);
        DatacollectionConfig config = CastorUtils.unmarshal(DatacollectionConfig.class, resource);

        // Validate default datacollection content
        SnmpCollection collection = config.getSnmpCollection(0);
        Assert.assertEquals(42, collection.getIncludeCollectionCount());
        Assert.assertEquals(0, collection.getResourceTypeCount()); 
        Assert.assertNull(collection.getSystems());
        Assert.assertNull(collection.getGroups());

        // Create Parser
        DataCollectionConfigParser parser = new DataCollectionConfigParser(configFolder.getAbsolutePath());
        parser.parse(config);

        // Validate Parser
        DatacollectionGroup globalContainer = parser.getGlobalContainer();
        Assert.assertEquals(resourceTypesCount, globalContainer.getResourceTypeCount());
        Assert.assertEquals(systemDefCount, globalContainer.getSystemDefCount());
        Assert.assertEquals(groupsCount, globalContainer.getGroupCount());

        // Validate SNMP Collection
        Assert.assertEquals(resourceTypesCount, collection.getResourceTypeCount()); 
        Assert.assertEquals(systemDefCount, collection.getSystems().getSystemDefCount());
        Assert.assertEquals(144, collection.getGroups().getGroupCount()); // Unused groups will be discarted
    }

