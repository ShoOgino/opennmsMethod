	private static TemporaryDatabase createNewDatabase(JUnitTemporaryDatabase jtd) {
		TemporaryDatabase retval;
		boolean useExisting = false;
		if (jtd.useExistingDatabase() != null) {
			useExisting = !jtd.useExistingDatabase().equals("");
		}

		try {
			final String dbName = useExisting ? jtd.useExistingDatabase() : getDatabaseName(jtd);
			retval = ((jtd.tempDbClass()).getConstructor(String.class, Boolean.TYPE).newInstance(dbName, useExisting));
			retval.setPopulateSchema(jtd.createSchema() && !useExisting);
			retval.create();
			return retval;
		} catch (final Throwable e) {
			System.err.printf("TemporaryDatabaseExecutionListener.prepareTestInstance: error while creating database: %s\n", e.getMessage());
			e.printStackTrace(System.err);
			return null;
		}
	}

