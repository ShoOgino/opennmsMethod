    @Test
    @Transactional
    public void testFindLatestAckForRefId() {
        int numAcks = 100;
        Integer latestIdFor1 = generateAcks(1, 100);
        generateAcks(2, 100);
        assertThat(m_acknowledgmentDao.findAll(), hasSize(greaterThan(3)));

        //noinspection OptionalGetWithoutIsPresent
        OnmsAcknowledgment ack = m_acknowledgmentDao.findLatestAckForRefId(1).get();
        // Check to make sure the ack has the latest time and the right Id since we purposely created a tie
        assertThat(ack.getAckTime(), equalTo(new Date(numAcks)));
        assertThat(ack.getId(), equalTo(latestIdFor1));
    }

