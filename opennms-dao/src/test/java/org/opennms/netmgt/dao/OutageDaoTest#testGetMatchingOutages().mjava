	@Test
	@Transactional
    public void testGetMatchingOutages() {
        OnmsNode node = new OnmsNode(m_distPollerDao.load("localhost"));
        m_nodeDao.save(node);
        insertEntitiesAndOutage("172.16.1.1", "ICMP", node);
        
        ServiceSelector selector = new ServiceSelector("ipAddr IPLIKE 172.16.1.1", Arrays.asList(new String[] { "ICMP" }));
    	Collection<OnmsOutage> outages = m_outageDao.matchingCurrentOutages(selector);
    	assertEquals("outage count", 1, outages.size());
    }

