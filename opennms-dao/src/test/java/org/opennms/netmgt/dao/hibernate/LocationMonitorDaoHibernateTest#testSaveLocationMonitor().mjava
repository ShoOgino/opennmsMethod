	public void testSaveLocationMonitor() {
    	Map <String, String> pollerDetails = new HashMap<String, String>();
    	pollerDetails.put("os.name", "BogOS");
    	pollerDetails.put("os.version", "sqrt(-1)");
    	
    	OnmsLocationMonitor mon = new OnmsLocationMonitor();
    	mon.setStatus(MonitorStatus.STARTED);
    	mon.setLastCheckInTime(new Date());
    	mon.setDetails(pollerDetails);
    	mon.setDefinitionName("RDU");
    	
    	getLocationMonitorDao().save(mon);
    	
    	getLocationMonitorDao().flush();
    	getLocationMonitorDao().clear();

        Object[] args = { mon.getId() };
    	assertEquals(2, _getJdbcTemplate().queryForInt("select count(*) from location_monitor_details where locationMonitorId = ?", args));
    	
    	OnmsLocationMonitor mon2 = getLocationMonitorDao().get(mon.getId());
    	assertNotSame(mon, mon2);
    	assertEquals(mon.getStatus(), mon2.getStatus());
    	assertEquals(mon.getLastCheckInTime(), mon2.getLastCheckInTime());
    	assertEquals(mon.getDefinitionName(), mon2.getDefinitionName());
    	assertEquals(mon.getDetails(), mon2.getDetails());
    }

