    /**
     * Test for enhancement in bug #2467.
     */
    @Test
    public void testGetResourceByNodeAndIndexGetLabelIndexWithSubStringAndHexConversion() {
        GenericIndexResourceType rt = new GenericIndexResourceType(m_resourceStorageDao, "foo", "Foo Resource", "MAC Address ${hex(subIndex(0, 6))} on interface ${subIndex(6, 1)}", m_storageStrategy);

        touch("snmp", "1", "foo", "0.21.109.80.9.66.4", RRD_FILE_NAME);

        m_mocks.replayAll();
        OnmsResource resource = rt.getChildByName(getNodeResource(1), "0.21.109.80.9.66.4");
        m_mocks.verifyAll();
        
        assertNotNull("resource", resource);
        assertEquals("resource label", "MAC Address 00:15:6D:50:09:42 on interface 4", resource.getLabel());
    }

