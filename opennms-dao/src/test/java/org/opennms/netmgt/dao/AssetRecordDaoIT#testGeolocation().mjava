        @Test
        @Transactional
        public void testGeolocation() {
            OnmsNode onmsNode = new OnmsNode("myNode");
            onmsNode.setLocation(m_locationDao.get(MonitoringLocationDao.DEFAULT_MONITORING_LOCATION_ID));
            m_nodeDao.save(onmsNode);
            OnmsAssetRecord assetRecord = onmsNode.getAssetRecord();
            OnmsGeolocation geo = assetRecord.getGeolocation();
            if (geo == null) {
                geo = new OnmsGeolocation();
                assetRecord.setGeolocation(geo);
            }
            geo.setAddress1("220 Chatham Business Drive");
            geo.setCity("Pittsboro");
            geo.setState("NC");
            geo.setZip("27312");
            geo.setCountry("US");
            m_assetRecordDao.update(assetRecord);
            m_assetRecordDao.flush();

            //Test findAll method
            int id = assetRecord.getId();
            OnmsAssetRecord assetRecordFromDb = m_assetRecordDao.get(id);
            assertNotNull(assetRecordFromDb.getGeolocation());
            assertEquals(geo.getAddress1(), assetRecordFromDb.getGeolocation().getAddress1());
            assertEquals(geo.getCity(), assetRecordFromDb.getGeolocation().getCity());
            assertEquals(geo.getState(), assetRecordFromDb.getGeolocation().getState());
            assertEquals(geo.getZip(), assetRecordFromDb.getGeolocation().getZip());
            assertEquals(geo.getCountry(), assetRecordFromDb.getGeolocation().getCountry());
        }

