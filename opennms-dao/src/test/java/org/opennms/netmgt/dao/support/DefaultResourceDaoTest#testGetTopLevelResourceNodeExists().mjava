    @Test
    public void testGetTopLevelResourceNodeExists() throws Exception {
        OnmsNode node = createNode();
        expect(m_nodeDao.get(node.getId())).andReturn(node).times(1);

        File responseDir = m_fileAnticipator.tempDir("snmp");
        File nodeDir = m_fileAnticipator.tempDir(responseDir, node.getId().toString());
        m_fileAnticipator.tempFile(nodeDir, "foo" + m_rrdFileExtension);

        m_easyMockUtils.replayAll();
        OnmsResource resource = m_resourceDao.getResourceById(String.format("node[%d]", node.getId()));
        m_easyMockUtils.verifyAll();

        assertNotNull("Resource should not be null", resource);
    }

