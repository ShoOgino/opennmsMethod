        public synchronized boolean refreshIfNeeded() {
            if (lastRefreshRequestMs > 0
                    && lastRefreshRequestMs >= lastRefreshedMs
                    && System.currentTimeMillis() - lastRefreshedMs >= refreshRateLimitMs) {
                lastRefreshRequestMs = 0;
                refreshNow();
                return true;
            }
            return false;
        }

