        private void onFilterChanged(FilterWatcher.FilterResults results) {
            Set<ServiceRef> candidateServices = results.getServicesNamed(serviceName);
            Set<ServiceRef> servicesToAdd = Sets.difference(candidateServices, activeServices);
            Set<ServiceRef> servicesToRemove = Sets.difference(activeServices, candidateServices);

            for (ServiceRef service : servicesToAdd) {
                activeServices.add(service);
                listener.onServiceMatched(service);
            }
            for (ServiceRef service : servicesToRemove) {
                activeServices.remove(service);
                listener.onServiceStoppedMatching(service);
            }
        }

