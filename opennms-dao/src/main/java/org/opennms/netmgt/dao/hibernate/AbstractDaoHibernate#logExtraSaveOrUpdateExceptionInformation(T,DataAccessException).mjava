    /**
     * <p>Parse the {@link DataAccessException} to see if special problems were
     * encountered while performing the query. See issue NMS-5029 for examples of
     * stack traces that can be thrown from these calls.</p>
     * {@see http://issues.opennms.org/browse/NMS-5029}
     */
    private void logExtraSaveOrUpdateExceptionInformation(T entity, DataAccessException e) {
        Throwable cause = e;
        while (cause.getCause() != null) {
            //if (cause.getCause().getClass().getName().equals(PSQLException.class.getName())) {
            if (cause.getMessage().contains("duplicate key value violates unique constraint")) {
                ClassMetadata meta = getSessionFactory().getClassMetadata(m_entityClass);
                LogUtils.warnf(this, "Duplicate key constraint violation, class: %s, key value: %s", m_entityClass.getName(), meta.getPropertyValue(entity, meta.getIdentifierPropertyName(), EntityMode.POJO));
                break;
            } else if (cause.getMessage().contains("given object has a null identifier")) {
                LogUtils.warnf(this, "Null identifier on object, class: %s: %s", m_entityClass.getName(), entity.toString());
                break;
            }
            //}
            cause = cause.getCause();
        }
    }

