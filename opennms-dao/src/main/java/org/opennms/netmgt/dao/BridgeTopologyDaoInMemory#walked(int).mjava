    @Override
    public synchronized void walked(int nodeid) {
        BroadcastDomain elemdomain = null;
        for (BroadcastDomain domain: m_domains) {
            if (domain.containBridgeId(nodeid)) {
                elemdomain = domain;
                break;
            }
        }
        if (elemdomain != null) {
            elemdomain.removeBridge(nodeid);
            if (elemdomain.isEmpty())
                m_domains.remove(elemdomain);
        }        

        List<BridgeMacLink> bft = m_notYetParsedBFTMap.remove(nodeid);
        BroadcastDomain bftdomain = null;
        for (BroadcastDomain domain: m_domains) {
            Set<String>incomingSet = new HashSet<String>();
            for (BridgeMacLink link: bft)
                incomingSet.add(link.getMacAddress());
            
            Set<String>retainedSet = new HashSet<String>();
            retainedSet.addAll(domain.getMacsOnDomain());
            retainedSet.retainAll(incomingSet);
            // should contain at list 50% of the all size
            if (retainedSet.size() <= incomingSet.size()*0.5 )
                continue;          
            bftdomain = domain;
            break;
        }
        if (bftdomain == null) {
            bftdomain = new BroadcastDomain();
            m_domains.add(bftdomain);
        }
        for (BridgeElement element: m_notYetParsedEleMap.remove(nodeid))
            bftdomain.addBridgeElement(element);
        bftdomain.loadBFT(nodeid,bft,m_notYetParsedSTPMap.remove(nodeid));

    }

