    protected int queryInt(final String query) {
        HibernateCallback callback = new HibernateCallback() {

            public Object doInHibernate(Session session)
                    throws HibernateException, SQLException {
                return session.createQuery(query).uniqueResult();
            }

        };

        Object result = getHibernateTemplate().execute(callback);
        return ((Number) result).intValue();
    }

