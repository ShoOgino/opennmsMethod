    protected int queryInt(final String query) {
        HibernateCallback<Number> callback = new HibernateCallback<Number>() {

            public Number doInHibernate(Session session) throws HibernateException {
                return (Number)session.createQuery(query).uniqueResult();
            }

        };

        return getHibernateTemplate().execute(callback).intValue();
    }

