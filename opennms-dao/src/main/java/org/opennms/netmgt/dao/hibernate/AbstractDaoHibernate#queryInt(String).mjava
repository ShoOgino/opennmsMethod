    protected int queryInt(final String query) {
        Object result = getHibernateTemplate().execute(new HibernateCallback() {
		    
            public Object doInHibernate(Session session) throws HibernateException, SQLException {
                return session.createQuery(query)
                            .uniqueResult();
            }
            
        });
        return ((Number)result).intValue();
    }

