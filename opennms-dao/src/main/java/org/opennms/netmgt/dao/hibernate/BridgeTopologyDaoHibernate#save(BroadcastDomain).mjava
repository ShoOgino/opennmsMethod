    @Override 
    public void save(BroadcastDomain domain) {
        for (SharedSegment segment : domain.getTopology()) {
            //FIXME why I can have a segment without a designated port?
            if (!segment.hasDesignatedBridgeport())
                continue;
            for (BridgeBridgeLink link : segment.getBridgeBridgeLinks()) {
                link.setBridgeBridgeLinkLastPollTime(new Date());
                saveBridgeBridgeLink(link);
            }
            for (BridgeMacLink link : segment.getBridgeMacLinks()) {
                link.setBridgeMacLinkLastPollTime(new Date());
                saveBridgeMacLink(link);
            }
        }
    }

