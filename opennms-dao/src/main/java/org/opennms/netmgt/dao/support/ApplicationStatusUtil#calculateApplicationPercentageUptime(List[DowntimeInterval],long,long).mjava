    private static double calculateApplicationPercentageUptime(final List<DowntimeInterval> intervals, final long start, final long end) {
        double totalTimeMillis = end - start;
        double uptimeMillis = totalTimeMillis;
        for(final DowntimeInterval interval : intervals) {
            uptimeMillis -= (Math.min(interval.end, end)-Math.max(interval.start, start));
        }
        return uptimeMillis / totalTimeMillis;
    }

