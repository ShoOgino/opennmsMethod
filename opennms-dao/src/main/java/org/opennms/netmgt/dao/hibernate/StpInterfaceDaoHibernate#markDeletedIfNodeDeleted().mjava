	@Override
	public void markDeletedIfNodeDeleted() {
		final OnmsCriteria criteria = new OnmsCriteria(OnmsStpInterface.class);
        criteria.createAlias("node", "node", OnmsCriteria.LEFT_JOIN);
        criteria.add(Restrictions.eq("node.type", "D"));
        
        for (final OnmsStpInterface stpIface : findMatching(criteria)) {
        	stpIface.setStatus('D');
        	saveOrUpdate(stpIface);
        }
	}

