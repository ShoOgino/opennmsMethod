    public Collection<OnmsNode> findAllByVarCharAssetColumnCategoryList(
            String columnName, String columnValue,
            Collection<OnmsCategory> categories) {
    	List<String> categoryNames = new ArrayList<String>();
    	for (OnmsCategory category : categories) {
			categoryNames.add(category.getName());
		}
    	String nameList = StringUtils.collectionToDelimitedString(categoryNames, ", ", "'", "'");
    	
    	
//    	getHibernateTemplate().execute(new HibernateCallback() {
//
//			public Object doInHibernate(Session session) throws HibernateException, SQLException {
//				
//				session.createCriteria(OnmsNode.class, "n")
//					.createCriteria("categories", "c", Criteria.INNER_JOIN)
//					.createCriteria(associationPath, alias, joinType)
//					
//			}
//    		
//    	});
    	
        return find("select distinct n from OnmsNode as n "
        		+ "join n.categories as c "
                + "left join fetch n.assetRecord "
                + "left join fetch n.ipInterfaces as iface "
                + "left join fetch iface.monitoredServices as monSvc "
                + "left join fetch monSvc.serviceType "
                + "left join fetch monSvc.currentOutages "
                + "where n.assetRecord." + columnName + " = ? "
                + "and c.name in ("+nameList+")", columnValue);
    }

