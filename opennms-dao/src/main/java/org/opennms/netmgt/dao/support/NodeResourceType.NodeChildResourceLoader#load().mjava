        public List<OnmsResource> load() {
            List<OnmsResource> children = new LinkedList<OnmsResource>();

            if (ResourceTypeUtils.isStoreByForeignSource()) {
                for (OnmsResourceType resourceType : getResourceTypesForNodeSource(m_nodeSource, m_nodeId)) {
                    for (OnmsResource resource : resourceType.getResourcesForNodeSource(m_nodeSource, m_nodeId)) {
                        resource.setParent(m_parent);
                        children.add(resource);
                        log().debug("load: adding resource " + resource.toString());
                    }
                }
            } else {
                for (OnmsResourceType resourceType : getResourceTypesForNode(m_nodeId)) {
                    for (OnmsResource resource : resourceType.getResourcesForNode(m_nodeId)) {
                        resource.setParent(m_parent);
                        children.add(resource);
                        log().debug("load: adding resource " + resource.toString());
                    }
                }
            }

            return children;
        }

