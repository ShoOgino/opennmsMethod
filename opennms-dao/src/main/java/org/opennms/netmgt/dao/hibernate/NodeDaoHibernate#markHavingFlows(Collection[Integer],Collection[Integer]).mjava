    @Override
    public void markHavingFlows(final Collection<Integer> ingressIds, final Collection<Integer> egressIds) {
        getHibernateTemplate().executeWithNativeSession(session -> {
            int results = 0;

            if (!ingressIds.isEmpty()) {
                results += session.createSQLQuery("update node set last_ingress_flow = NOW() where nodeid in (:ids)")
                        .setParameterList("ids", ingressIds)
                        .executeUpdate();
            }
            if (!egressIds.isEmpty()) {
                results += session.createSQLQuery("update node set last_egress_flow = NOW() where nodeid in (:ids)")
                        .setParameterList("ids", egressIds)
                        .executeUpdate();
            }

            return results;
        });
    }

