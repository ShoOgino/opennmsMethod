    public org.hibernate.Criteria convertForCount(final Criteria criteria, final Session session) {
        final HibernateCriteriaVisitor visitor = new CountHibernateCriteriaVisitor();
        criteria.visit(visitor);

        return visitor.getCriteria(session);
    }

