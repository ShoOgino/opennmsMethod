    protected void initializePool(final JdbcDataSource dataSource) throws SQLException {
    	final DBPoolDataSource ds = new DBPoolDataSource();
    	ds.setName(dataSource.getName());
    	ds.setDriverClassName(dataSource.getClassName());
    	ds.setUrl(dataSource.getUrl());
    	ds.setUser(dataSource.getUserName());
    	ds.setPassword(dataSource.getPassword());
    	
    	int idleTimeout = 600; // seconds
    	int loginTimeout = 3; // seconds
    	int minPool = 10;
    	int maxPool = 50;
    	int maxSize = maxPool * 50;
    	for (final Param parameter : dataSource.getParamCollection()) {
    		
    		final String parameterName = parameter.getName();
    		int value = 0;
    		try {
    			value = Integer.valueOf(parameter.getValue());
    		} catch (final NumberFormatException e) {
    			LogUtils.warnf(this, e, "%s is not a number: %s", parameter.getName(), parameter.getValue());
    			continue;
    		}
			if (parameterName.equals("idleTimeout")) {
				idleTimeout = value;
    		} else if (parameterName.equals("loginTimeout")) {
    			loginTimeout = value;
    		} else if (parameterName.equals("minPool")) {
    			minPool = value;
    		} else if (parameterName.equals("maxPool")) {
    			maxPool = value;
    		} else if (parameterName.equals("maxSize")) {
    			maxSize = value;
    		}
    	}

    	ds.setIdleTimeout(idleTimeout);
    	ds.setLoginTimeout(loginTimeout);
    	ds.setMinPool(minPool);
    	ds.setMaxPool(maxPool);
    	ds.setMaxSize(maxSize);
    	
    	m_dataSource = ds;
    }

