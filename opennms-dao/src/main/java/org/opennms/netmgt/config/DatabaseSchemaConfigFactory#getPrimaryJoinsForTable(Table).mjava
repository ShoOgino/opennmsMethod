    /**
     * Get the sequence of joins that are necessary to joint table t to the
     * primary table.
     * 
     * @param t
     *            the table to join
     * @return a list of the join objects for all the tables between the given
     *         table and the primary or a zero-length array if t is the primary
     *         or no join exists.
     */
    public Join[] getPrimaryJoinsForTable(Table t) {
        Table primary = getPrimaryTable();

        Join j = m_primaryJoins.get(t.getName());
        List<Join> joins = new ArrayList<Join>();
        while (j != null && j.getTable() != null && !j.getTable().equals(primary.getName())) {
            joins.add(j);
            j = m_primaryJoins.get(j.getTable());
        }

        if (j != null) {
            joins.add(j);
        }

        return joins.toArray(new Join[joins.size()]);
    }

