    /**
     * Creates a string containing the XML of the current SnmpConfig
     *
     * @return Marshalled SnmpConfig
     */
    public static String marshallConfig() {
        SnmpPeerFactory.getReadLock().lock();

        try {
            String marshalledConfig = null;
            StringWriter writer = null;
            try {
                writer = new StringWriter();
                Marshaller.marshal(m_config, writer);
                marshalledConfig = writer.toString();
            } catch (final MarshalException e) {
                LogUtils.errorf(SnmpPeerFactory.class, e, "marshallConfig: Error marshalling configuration");
            } catch (final ValidationException e) {
                LogUtils.errorf(SnmpPeerFactory.class, e, "marshallConfig: Error validating configuration");
            } finally {
                IOUtils.closeQuietly(writer);
            }
            return marshalledConfig;
        } finally {
            SnmpPeerFactory.getReadLock().unlock();
        }
    }

