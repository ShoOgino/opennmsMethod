    /**
     * In some cases, Vaadin doesn't register our clicks,
     * so this method keeps click until the given element
     * is no longer found.
     */
    public void clickElementUntilElementDisappears(final By click, final By disappears) {
        waitUntil(100L, null, new Callable<Boolean>() {
            @Override public Boolean call() throws Exception {
                try {
                    final WebElement element = getElementImmediately(disappears);
                    if (element == null) {
                        return true;
                    }
                } catch (final NoSuchElementException e) {
                    return true;
                } catch (final Throwable t) {
                    LOG.warn("clickElementUntilItDisappears: disappearing element not gone yet: click={}, disappears={}", click, disappears, t);
                    return false;
                }
                try {
                    final WebElement element = getElementImmediately(click);
                    if (element != null) {
                        element.click();
                    }
                } catch (final Throwable t) {
                    LOG.warn("clickElementUntilItDisappears: unable to click clickable: click={}, disappears={}", click, disappears, t);
                }
                return false;
            }
        });
    }

