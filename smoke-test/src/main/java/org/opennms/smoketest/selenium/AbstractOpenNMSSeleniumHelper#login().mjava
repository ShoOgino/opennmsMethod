    public void login() {
        getDriver().get(getBaseUrlInternal() + "opennms/login.jsp");

        waitForLogin();

        enterText(By.name("j_username"), BASIC_AUTH_USERNAME);
        enterText(By.name("j_password"), BASIC_AUTH_PASSWORD);
        findElementByName("Login").click();

        wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath("//div[@id='content']")));
        invokeWithImplicitWait(0, () -> {
            try {
                // Make sure that the 'login-attempt-failed' element is not present
                findElementById("login-attempt-failed");
                fail("Login failed: " + findElementById("login-attempt-failed-reason").getText());
            } catch (NoSuchElementException e) {
                // This is expected
            }
        });
        invokeWithImplicitWait(0, () -> {
            try {
                WebElement element = findElementById("datachoices-modal");
                if (element.isDisplayed()) { // datachoice modal is visible
                    findElementById("datachoices-disable").click(); // opt out
                }
            } catch (NoSuchElementException e) {
                // "datachoices-modal" is not visible or does not exist.
                // No further action required
            }
        });
    }

