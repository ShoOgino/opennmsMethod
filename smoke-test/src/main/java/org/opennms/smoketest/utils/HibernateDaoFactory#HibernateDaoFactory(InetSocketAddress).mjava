    public HibernateDaoFactory(InetSocketAddress pgsqlAddr) {
        PGSimpleDataSource dataSource = new PGSimpleDataSource();
        dataSource.setPortNumber(pgsqlAddr.getPort());
        dataSource.setUser("postgres");
        dataSource.setPassword("postgres");
        dataSource.setServerName(pgsqlAddr.getAddress().getHostAddress());
        dataSource.setDatabaseName("opennms");

        AnnotationSessionFactoryBean sfb = new AnnotationSessionFactoryBean();
        sfb.setDataSource(dataSource);
        sfb.setPackagesToScan("org.opennms.netmgt.model");
        try {
            sfb.afterPropertiesSet();
        } catch (Exception e) {
            throw Throwables.propagate(e);
        }
        m_sessionFactory = sfb.getObject();
        m_hibernateTemplate = new HibernateTemplate(m_sessionFactory);
    }

