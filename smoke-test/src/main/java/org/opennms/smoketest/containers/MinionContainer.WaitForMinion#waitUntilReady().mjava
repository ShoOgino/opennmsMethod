        @Override
        protected void waitUntilReady() {
            LOG.info("Waiting for Minion health check...");
            final InetSocketAddress sshAddr = container.getSshAddress();
            final long timeoutMins = 5;
            final AtomicReference<String> lastOutput = new AtomicReference<>();
            try {
                await().atMost(timeoutMins, MINUTES).pollInterval(5, SECONDS)
                        .until(() -> KarafShellUtils.testHealthCheck(sshAddr, lastOutput));
            } catch(ConditionTimeoutException e) {
                LOG.error("Minion did not finish starting after {} minutes. Last output: {}", lastOutput);
                throw new RuntimeException(e);
            }
        }

