    @Test
    public void canOverlayFilesAndFolders() throws IOException {
        File source = temporaryFolder.newFolder("source");

        File a = new File(source, "a");
        assertThat(a.createNewFile(), equalTo(true));
        File b = new File(source, "b");
        assertThat(b.mkdirs(), equalTo(true));
        File c = new File(b, "c");
        assertThat(c.createNewFile(), equalTo(true));

        File target = temporaryFolder.newFolder("target");

        OverlayUtils.copyFiles(ImmutableMap.<URL, String>builder()
                .put(a.toURI().toURL(), "a")
                .put(b.toURI().toURL(), "b")
                .put(c.toURI().toURL(), "c")
                .build(), target.toPath());

        // Verify
        assertThat(target.toPath().resolve("a").toFile().isFile(), equalTo(true));
        assertThat(target.toPath().resolve("b").toFile().isDirectory(), equalTo(true));
        assertThat(target.toPath().resolve("b").resolve("c").toFile().isFile(), equalTo(true));
        assertThat(target.toPath().resolve("c").toFile().isFile(), equalTo(true));
    }

