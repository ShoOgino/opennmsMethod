    // If the reduceFunction is exposed properly, it means bsm provider is exposing custom json renderers
    @Test
    public void verifyCustomJsonRenderer() {
        final KarafShell karafShell = new KarafShell(stack.opennms().getSshAddress());
        try {
            karafShell.runCommand("opennms-bsm:generate-hierarchies 5 2");
            given().log().ifValidationFails()
                .get("{container_id}/{namespace}", "bsm", "bsm")
                .then()
                .log().ifValidationFails()
                .statusCode(200)
                .contentType(ContentType.JSON)
                .content("vertices", Matchers.hasSize(5))
                .content("vertices[0].reduceFunction.type", Matchers.is("highestseverity"))
                .content("vertices[1].reduceFunction.type", Matchers.is("highestseverity"))
                .content("vertices[2].reduceFunction.type", Matchers.is("highestseverity"))
                .content("vertices[3].reduceFunction.type", Matchers.is("highestseverity"))
                .content("vertices[4].reduceFunction.type", Matchers.is("highestseverity"));
        } finally {
            karafShell.runCommand("opennms-bsm:delete-generated-hierarchies");
        }
    }

