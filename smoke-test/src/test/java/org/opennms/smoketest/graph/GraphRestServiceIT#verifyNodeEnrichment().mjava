    @Test
    public void verifyNodeEnrichment() throws InterruptedException {
        // Set up test data
        createRequisition();
        createGraphMLAndWaitUntilDone(graphmlDocument);

        // Fetch data
        final JSONObject query = new JSONObject()
                .put("semanticZoomLevel", 0)
                .put("verticesInFocus", new JSONArray().put("north.1").put("north.2").put("north.3"));
        given().log().ifValidationFails()
                .body(query.toString())
                .contentType(ContentType.JSON)
                .post(CONTAINER_ID + "/{namespace}", "acme:markets")
                .then()
                .log().ifValidationFails()
                .contentType(ContentType.JSON)
                .content("id", Matchers.is("markets"))
                .content("namespace", Matchers.is("acme:markets"))
                .content("vertices", Matchers.hasSize(3))
                .content("edges", Matchers.hasSize(0))
                .content("vertices[0].id", Matchers.is("north.1"))
                .content("vertices[1].id", Matchers.is("north.2"))
                .content("vertices[1].nodeInfo.foreignSource", Matchers.is(REQUISITION_NAME))
                .content("vertices[1].nodeInfo.foreignId", Matchers.is("node1"))
                .content("vertices[1].nodeInfo.label", Matchers.is("Node A"))
                .content("vertices[1].nodeInfo.categories", Matchers.hasItems("Test", "Server"))
                .content("vertices[2].id", Matchers.is("north.3"))
                .content("vertices[2].nodeInfo.foreignSource", Matchers.is(REQUISITION_NAME))
                .content("vertices[2].nodeInfo.foreignId", Matchers.is("node2"))
                .content("vertices[2].nodeInfo.label", Matchers.is("Node B"))
                .content("vertices[2].nodeInfo.categories", Matchers.hasItems("Test", "Node"));
    }

