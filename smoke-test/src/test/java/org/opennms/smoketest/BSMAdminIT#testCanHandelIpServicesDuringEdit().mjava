    @Test
    public void testCanHandelIpServicesDuringEdit() throws Exception {
        //Create test data and wait for it to show up
        createTestSetup();
        wait.until(requisitionUtils.new WaitForNodesInDatabase(1));

        //Create BusinessService open editor
        testCanCreateMinimalBusinessService();
        findElementById("editButton-" + BASIC_SERVICE_NAME).click();
        wait.until(pageContainsText("Business Service Edit"));

        //Check that the ipServices are known
        wait.until(pageContainsText(IP_SERVICE_1));
        wait.until(pageContainsText(IP_SERVICE_2));
        wait.until(pageContainsText(IP_SERVICE_3));
        wait.until(pageContainsText(IP_SERVICE_4));

        //Locate relevant components
        findElementById("ipServiceSelect");
        WebElement addButton = findElementByXpath(ADD_BUTTON_XPATH);
        findElementByXpath(REMOVE_BUTTON_XPATH);

        //Check for not selected ipServices
        findElementByXpath(IP_SERVICE_1_XPATH_SELECTED_NOT);
        findElementByXpath(IP_SERVICE_2_XPATH_SELECTED_NOT);

        //Add ipServices to selection
        addButton.click();
        addButton.click();
        addButton.click();

        //Check for selected ipServices
        findElementByXpath(IP_SERVICE_1_XPATH_SELECTED);
        findElementByXpath(IP_SERVICE_2_XPATH_SELECTED);

        findElementById("saveButton").click();

        //Open the BusinessService and check the ipServices are in place
        wait.until(pageContainsText("edit"));
        findElementById("editButton-BasicService").click();

        //Check for selected ipServices
        wait.until(pageContainsText("Cancel"));
        findElementByXpath(IP_SERVICE_1_XPATH_SELECTED);
        findElementByXpath(IP_SERVICE_2_XPATH_SELECTED);

        //Close dialog an delete BusinessService
        findElementById("cancelButton").click();
        findElementById("deleteButton-BasicService").click();

        removeTestSetup();
    }

