    @ClassRule
    public static final TestEnvironment getTestEnvironment() {
        LOG.warn("Setting up Docker test environment.");
        try {
            final TestEnvironmentBuilder builder = TestEnvironment.builder().opennms();
            builder.skipTearDown(Boolean.getBoolean("org.opennms.smoketest.docker.skipTearDown"));
            builder.useExisting(Boolean.getBoolean("org.opennms.smoketest.docker.useExisting"));

            builder.withOpenNMSEnvironment()
            .optIn(false)
            .addFile(OpenNMSSeleniumTestCase.class.getResource("etc/monitoring-locations.xml"), "etc/monitoring-locations.xml")
            .addFiles(Paths.get("src/test/resources/org/opennms/smoketest/etc"), "etc");
            m_testEnvironment = builder.build();
        } catch (final Throwable t) {
            throw new RuntimeException(t);
        }
        return m_testEnvironment;
    }

