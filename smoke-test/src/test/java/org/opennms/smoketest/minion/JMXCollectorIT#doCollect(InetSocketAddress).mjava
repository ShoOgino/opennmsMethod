    public String doCollect(InetSocketAddress sshAddr) throws Exception {
        try (final SshClient sshClient = new SshClient(sshAddr, "admin", "admin")) {
            // Perform an adhoc collection from against the Minion JVM
            final PrintStream pipe = sshClient.openShell();
            pipe.println("opennms:collect -l MINION org.opennms.netmgt.collectd.Jsr160Collector 127.0.0.1 port=18980");
            pipe.println("logout");
            await().atMost(1, MINUTES).until(sshClient.isShellClosedCallable());

            // Sanitize the output
            String shellOutput = CommandTestUtils.stripAnsiCodes(sshClient.getStdout());
            shellOutput = StringUtils.substringAfter(shellOutput, "opennms:collect");
            LOG.info("Collect output: {}", shellOutput);

            return shellOutput;
        }
    }

