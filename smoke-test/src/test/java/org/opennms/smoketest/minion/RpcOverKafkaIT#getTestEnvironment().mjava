    @ClassRule
    public static final TestEnvironment getTestEnvironment() {
        if (!OpenNMSSeleniumTestCase.isDockerEnabled()) {
            return new NullTestEnvironment();
        }
        try {
            final TestEnvironmentBuilder builder = TestEnvironment.builder().all().kafka();
            builder.withOpenNMSEnvironment().addFile(
                    RpcOverKafkaIT.class.getResource("/opennms.properties.d/kafka-rpc.properties"),
                    "etc/opennms.properties.d/kafka-rpc.properties");
            builder.withMinionEnvironment()
                   .addFile(RpcOverKafkaIT.class.getResource("/featuresBoot.d/kafka-rpc.boot"), "etc/featuresBoot.d/kafka.boot");
            OpenNMSSeleniumTestCase.configureTestEnvironment(builder);
            m_testEnvironment = builder.build();
            return m_testEnvironment;
        } catch (final Throwable t) {
            throw new RuntimeException(t);
        }
    }

