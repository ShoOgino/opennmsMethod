    private String triggerAlarmAndListReductionKeysInKtable() throws Exception {
        // On every call, send another event to trigger the alarm
        Event event = new Event();
        event.setUei("uei.opennms.org/alarms/trigger");
        event.setSeverity("7");
        List<Parm> parms = new ArrayList<>();
        Parm parm = new Parm("service", "kafka-producer-test");
        parms.add(parm);
        event.setParmCollection(parms);
        stack.opennms().getRestClient().sendEvent(event);

        // Grab the output from the
        String shellOutput;
        try (final SshClient sshClient = stack.opennms().ssh()) {
            PrintStream pipe = sshClient.openShell();
            pipe.println("opennms:kafka-list-alarms");
            pipe.println("logout");
            await().atMost(60, SECONDS)
                    .conditionEvaluationListener(new OnTimeOutLogger(() -> System.out.println("Shell output: " + sshClient.getStdoutOrNull())))
                    .until(sshClient.isShellClosedCallable());
            shellOutput = CommandTestUtils.stripAnsiCodes(sshClient.getStdout());
            shellOutput = StringUtils.substringAfter(shellOutput, "opennms:kafka-list-alarms");
        }
        return shellOutput;
    }

