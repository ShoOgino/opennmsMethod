    @Test
    public void verifySinglePort() throws Exception {
        // Determine endpoints
        final InetSocketAddress elasticRestAddress = InetSocketAddress.createUnresolved(
                stack.elastic().getContainerIpAddress(), stack.elastic().getMappedPort(9200));
        final InetSocketAddress flowTelemetryAddress = stack.minion().getNetworkProtocolAddress(NetworkProtocol.FLOWS);

        // For each existing FlowPacket, create a definition to point to "minionSinglePortAddress"
        final List<FlowPacket> collect = Packets.getFlowPackets().stream()
                .map(p -> p.withDestinationAddress(flowTelemetryAddress))
                .collect(Collectors.toList());

        // Now verify Flow creation
        final FlowTester tester = new FlowTestBuilder()
                .withFlowPackets(collect)
                .verifyBeforeSendingFlows((flowTester) -> {
                    try {
                        final SearchResult response = flowTester.getJestClient().execute(
                                new Search.Builder("")
                                        .addIndex("netflow-*")
                                        .build());
                        assertEquals(Boolean.TRUE, response.isSucceeded());
                        assertEquals(0L, response.getTotal().longValue());
                    } catch (IOException e) {
                        throw new RuntimeException(e);
                    }
                })
                .build(elasticRestAddress);
        tester.verifyFlows();
    }

