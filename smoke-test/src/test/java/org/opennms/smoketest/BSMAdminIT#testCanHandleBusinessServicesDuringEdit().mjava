    @Test
    public void testCanHandleBusinessServicesDuringEdit() throws Exception {
        final String Business_Service_Select_XPATH = "//*[@id=\"businessServiceSelect\"]";
        final String BUSINESS_SERVICE_ADD_BUTTON_XPATH = Business_Service_Select_XPATH + "/div[2]/div[1]/span/span";
        final String BUSINESS_SERVICE_REMOVE_BUTTON_XPATH =  Business_Service_Select_XPATH + "/div[2]/div[3]/span/span";
        final String BUSINESS_SERVICE_1_XPATH_SELECTED = Business_Service_Select_XPATH + "/select[2]/option[1]";
        final String BUSINESS_SERVICE_1_XPATH_SELECTED_NOT = Business_Service_Select_XPATH + "/select[1]/option[1]";
        final String BUSINESS_SERVICE_2_XPATH_SELECTED = Business_Service_Select_XPATH + "/select[2]/option[2]";
        final String BUSINESS_SERVICE_2_XPATH_SELECTED_NOT = Business_Service_Select_XPATH + "/select[1]/option[2]";

        // Create a bunch of business services
        final String serviceName = createUniqueBusinessServiceName();
        final String[] serviceNames = new String[]{
                serviceName + "_1",
                serviceName + "_2",
                serviceName + "_3"};
        for (String eachServiceName : serviceNames) {
            createBusinessService(eachServiceName);
        }

        // Open Edit Dialog for 1st Business Service which was just created
        findEditButton(serviceNames[0]).click();
        wait.until(pageContainsText("Business Service Edit"));

        // Locate relevant components
        findElementById("businessServiceSelect");
        WebElement addButton = findElementByXpath(BUSINESS_SERVICE_ADD_BUTTON_XPATH);
        findElementByXpath(BUSINESS_SERVICE_REMOVE_BUTTON_XPATH);

        // Check for not selected business services
        findElementByXpath(BUSINESS_SERVICE_1_XPATH_SELECTED_NOT);
        findElementByXpath(BUSINESS_SERVICE_2_XPATH_SELECTED_NOT);

        // Add Business Services to selection
        addButton.click();
        addButton.click();
        addButton.click();

        // Check for selected ipServices
        findElementByXpath(BUSINESS_SERVICE_1_XPATH_SELECTED);
        findElementByXpath(BUSINESS_SERVICE_2_XPATH_SELECTED);
        findElementById("saveButton").click();
        Thread.sleep(500); // pause

        // Verify that business service are gone
        // we have to delete backwards
        for (int i = 0; i < serviceNames.length; i++) {
            String eachServiceName = serviceNames[i];
            findDeleteButton(eachServiceName).click();
            if (i == 0) { // we remove the parent element first, the confirm dialog must be present
                findElementById("confirmationDialog.button.ok").click();
            }
            verifyElementNotPresent(By.id("deleteButton-" + eachServiceName));
        }
    }

