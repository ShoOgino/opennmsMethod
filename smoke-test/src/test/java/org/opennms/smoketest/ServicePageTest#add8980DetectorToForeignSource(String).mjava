    private void add8980DetectorToForeignSource(String groupName) throws InterruptedException {
        // go to the provisioning groups page
        web.gotoPage("admin/provisioningGroups.htm");
        
        // the the Eidt link for editing the foreign source for this provision group
        web.clickElementByXPath("//a[contains(@href, 'editForeignSource(\"" + groupName + "\")')]");

        // add a detector
        web.clickButtonWithText("Add Detector");
        
        // set the name to 'HTTP-8980' and use the HttpDectector and save
        String detectorNode = setTreeFieldsAndSave("foreignSourceEditForm", text("name", "HTTP-8980"), option("pluginClass", "org.opennms.netmgt.provision.detector.simple.HttpDetector"));

        // now add a parameter to that dectector by click its Add Parameter link
        web.clickElementByXPath("//a[contains(@href, '" + detectorNode + "') and text() = '[Add Parameter]']");

        // set the port parameter to have the value '8980' and save
        setTreeFieldsAndSave("foreignSourceEditForm", option("key", "port"), text("value", "8980"));

        // click done we are finished adding the detector
        web.clickButtonWithText("Done");
    }

