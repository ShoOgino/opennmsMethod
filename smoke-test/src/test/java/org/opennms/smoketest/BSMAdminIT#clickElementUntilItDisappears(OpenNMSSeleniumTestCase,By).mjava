    /**
     * In some cases, Vaadin doesn't register our clicks,
     * so this method keeps click until the given element
     * is no longer found.
     *
     * @param by selector
     */
    private static void clickElementUntilItDisappears(OpenNMSSeleniumTestCase testCase, By by) {
        try {
            testCase.setImplicitWait(100, TimeUnit.MILLISECONDS);
            testCase.wait.until(new ExpectedCondition<Boolean>() {
                @Override
                public Boolean apply(WebDriver driver) {
                    try {
                        driver.findElement(by).click();
                        return false;
                    } catch (NoSuchElementException e) {
                        return true;
                    }
                }
            });
        } catch (Throwable e) {
            LOG.error("Exception raised while clicking on element with selector {}", by.toString(), e);
            throw e;
        } finally {
            testCase.setImplicitWait();
        }
    }

