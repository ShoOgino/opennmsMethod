    @Test
    public void verifyNominatimGeocoder() {
        final SettingsTab settingsTab = new SettingsTab(uiPage);
        settingsTab.click();
        settingsTab.setActiveGeocoder(Geocoders.NOMINATIM.id);

        // Fully configure
        final NominatimTab nominatimTab = new NominatimTab(uiPage);
        assertThat(nominatimTab.isConfiguredProperly(), is(false));
        nominatimTab.click();
        assertThat(nominatimTab.isDirty(), is(false));
        nominatimTab.setAcceptUsageTerms(true);
        nominatimTab.setEmail("ulf@opennms.org");
        assertThat(nominatimTab.isDirty(), is(true));
        nominatimTab.update();
        assertThat(nominatimTab.isDirty(), is(false));
        assertThat(nominatimTab.isConfiguredProperly(), is(true));

        // Ensure Referer or User Agent are set
        nominatimTab.setUserAgent(null);
        nominatimTab.setReferer(null);
        assertThat(nominatimTab.getSaveButtonElement().isEnabled(), is(false));

        // Only Referer should work.
        nominatimTab.setReferer("Dummy");
        assertThat(nominatimTab.getSaveButtonElement().isEnabled(), is(true));
        nominatimTab.update();
        assertThat(nominatimTab.isConfiguredProperly(), is(true));

        // we skip user agent, as that is set by default and was already verified above
    }

