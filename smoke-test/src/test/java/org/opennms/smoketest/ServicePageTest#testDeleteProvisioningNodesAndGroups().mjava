    @Test
    public void testDeleteProvisioningNodesAndGroups() throws Exception {
        selenium.click("link=Admin");
        selenium.waitForPageToLoad("30000");
        selenium.click("link=Manage Provisioning Requisitions");
        selenium.waitForPageToLoad("30000");
        selenium.click("//input[@value='Delete Nodes']");
        selenium.waitForPageToLoad("30000");
        selenium.click("//input[@value='Synchronize']");
        selenium.waitForPageToLoad("30000");
        /*
         *  we need to reload this page several times if the 'Delete Group' button doesn't exist
         *  in case the nodes hadn't been deleted by the time the page was reloaded
         */

        long end = System.currentTimeMillis() + 300000;
        while (!selenium.isElementPresent("//input[@value='Delete Group']") && System.currentTimeMillis() < end) {
        	
        	Thread.sleep(10000);
        	
        	if (System.currentTimeMillis() >= end) {
        		throw new NoSuchElementException("Could not find the 'Delete Group' button after refreshing for 5 minutes");
        	} else {
        		selenium.refresh();
        		selenium.waitForPageToLoad("30000");
        	}
        }        

        selenium.click("//input[@value='Delete Group']");
        selenium.waitForPageToLoad("30000");
        selenium.click("link=Log out");
        selenium.waitForPageToLoad("30000");
    }

