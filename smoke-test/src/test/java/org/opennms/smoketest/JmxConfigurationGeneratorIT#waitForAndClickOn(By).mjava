    private void waitForAndClickOn(By by) {
        final Wait<RemoteWebDriver> wait = new FluentWait<>(driver)
                .withTimeout(Duration.ofSeconds(30))
                .pollingEvery(Duration.ofSeconds(1))
                .ignoring(Exception.class);
        // Wait for the button to be clickable
        wait.until(ExpectedConditions.elementToBeClickable(by));
        // Wait for the click to succeed - it's possible for elementToBeClickable to return even though it's not actually clickable yet
        wait.until(driver -> {
            final WebElement el = driver.findElement(by);
            el.click();
            return el;
        });
    }

