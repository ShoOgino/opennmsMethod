    @Test
    public void testAddNodePage() throws Exception {
        // Visit the provisioning page
        provisioningPage();

        // Add a requisition called REQUISITION_NAME
        findElementByXpath("//div/button[contains(@ng-click,'add')]").click();
        wait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(".modal-dialog")));
        enterText(By.xpath("//form/input[contains(@class,'bootbox-input')]"), REQUISITION_NAME);
        findElementByXpath("//div/button[text()='OK']").click();
        wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath("//td[text()='" + REQUISITION_NAME + "']")));

        // Edit the requisition
        findElementByXpath("//td[text()='" + REQUISITION_NAME + "']/../td/button[contains(@ng-click,'edit(')]").click();
        wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath("//h1[text()='There are no nodes on the " + REQUISITION_NAME + "']")));

        // Synchronize the empty requisition
        final String syncXpath = "//div/button[contains(@ng-click,'synchronize')]";
        wait.until(ExpectedConditions.elementToBeClickable(By.xpath(syncXpath)));
        findElementByXpath(syncXpath).click();
        wait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(".modal-dialog")));
        findElementByXpath("//div/button[text()='No']").click();
        wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath("//h1[text()='There are no nodes on the " + REQUISITION_NAME + "']")));

        // Wait for the requisition to be synchronized
        Thread.sleep(5000);

        frontPage();
        clickMenuItem("name=nav-admin-top", "Quick-Add Node", BASE_URL + "opennms/admin/node/add.htm");

        // Make sure there is a Provision button on the page
        final WebElement submitButton = m_driver.findElement(By.cssSelector("input[type=submit][value=Provision]"));
        assertEquals("Provision", submitButton.getAttribute("value"));

        // Select our test foreign source
        final WebElement selectElement = m_driver.findElement(By.cssSelector("select[name=foreignSource]"));
        final Select sel = new Select(selectElement);
        sel.selectByVisibleText(REQUISITION_NAME);

        // Add an unreachable IP address to the requisition
        findElementByName("ipAddress").sendKeys(m_unreachableIp);
        findElementByName("nodeLabel").sendKeys("AddNodePageTest");

        // Submit
        submitButton.click();

        // Click on the Provisioning Requisitions breadcrumb
        findElementByLink("Provisioning Requisitions").click();
        wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath("//td[text()='" + REQUISITION_NAME + "']")));
        wait.until(m_requisitionUtils.new WaitForNodesInDatabase(1));
    }

