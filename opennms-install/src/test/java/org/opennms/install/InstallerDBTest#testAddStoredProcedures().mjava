    public void testAddStoredProcedures() throws Exception {
        if (!isDBTestEnabled()) {
            return;
        }

        m_installer.createSequences();
        m_installer.createTables();

        m_installer.updatePlPgsql();
        
        m_installer.addStoredProcedures();
        
        for (String function : new String[] { "getIfServiceId",
                "getIpInterfaceId", "getSnmpInterfaceId"} ) {
            assertTrue("Function '" + function + "' does not exist",
                       m_installer.functionExists(function, "", "trigger"));
        }

        assertTrue("Trigger setIfServiceIdInOutage does not exist",
                   m_installer.triggerExists("setIfServiceIdInOutage",
                                             "outages",
                                             "getIfServiceId"));

        assertTrue("Trigger setIpInterfaceIdInIfService does not exist",
                   m_installer.triggerExists("setIpInterfaceIdInIfService",
                                             "ifServices",
                                             "getIpInterfaceId"));

        assertTrue("Trigger setSnmpInterfaceIdInIpInterface does not exist",
                   m_installer.triggerExists("setSnmpInterfaceIdInIpInterface",
                                             "ipInterface",
                                             "getSnmpInterfaceId"));
    }

