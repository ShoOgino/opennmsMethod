    protected void setUp() throws Exception {
        m_testDatabase = "opennms_test_" + System.currentTimeMillis();

        m_installer = new Installer();

        // Create a ByteArrayOutputSteam to effectively throw away output.
        m_installer.m_out = new PrintStream(new ByteArrayOutputStream());
        m_installer.m_database = m_testDatabase;
        m_installer.m_pg_driver = "org.postgresql.Driver";
        m_installer.m_pg_url = "jdbc:postgresql://localhost:5432/";
        m_installer.m_pg_user = "postgres";
        m_installer.m_pg_pass = "";
        m_installer.m_user = "opennms";

        m_installer.m_create_sql =
            "../opennms-daemon/src/main/filtered/etc/create.sql";

        /*
         * URL sql = getClass().getResource("/create.sql");
         * assertNotNull("Could not find create.sql", sql);
         * m_installer.m_create_sql = sql.getFile();
         */

        m_installer.m_sql_dir = "../opennms-daemon/src/main/filtered/etc";

        m_installer.m_fix_constraint = true;
        m_installer.m_fix_constraint_name = s_constraint;

        m_installer.m_debug = false;

        // Read in the table definitions
        m_installer.readTables();

        if (!isDBTestEnabled()) {
            return;
        }

        // Create test database.
        m_installer.databaseConnect("template1");
        m_installer.databaseAddDB();
        m_installer.databaseDisconnect();

        // Connect to test database.
        m_installer.databaseConnect(m_testDatabase);
    }

