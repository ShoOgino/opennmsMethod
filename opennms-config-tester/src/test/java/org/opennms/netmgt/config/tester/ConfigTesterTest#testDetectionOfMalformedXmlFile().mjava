    @Test(expected = ConfigCheckValidationException.class)
    public void testDetectionOfMalformedXmlFile() throws IOException {
        setUpOpennmsHomeInTmpDir();

        // create broken xml file in opennms.properties.d:
        String xml = "<?xml version=\"1.0\" encoding=\"UTF-8\"?><elementThatIsNotClosed>";
        saveXmlToPropertiesD(xml);

        // test it => should complain
        testConfigFile("opennms.properties.d");
    }

