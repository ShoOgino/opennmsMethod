    @Test(expected = ConfigCheckValidationException.class)
    public void testDetectionOfMalformedPropertiesFile() throws IOException {

        setUpOpennmsHomeInTmpDir();

        // create broken properties file in opennms.properties.d:
        File file = createPropertiesFileInPropertiesD("properties");
        String invalidCharacter="'\\u0zb9";
        Files.write(invalidCharacter, file, StandardCharsets.UTF_8);

        // test it => should complain
        testConfigFile("opennms.properties.d");
    }

