	public void testTrigger() throws Exception {
		
		OnmsNode node = new OnmsNode();
		node.setId(1);
		OnmsIpInterface iface = new OnmsIpInterface("192.168.1.1", node);
		OnmsServiceType svcType = new OnmsServiceType("HTTP");
		OnmsMonitoredService svc = new OnmsMonitoredService(iface, svcType);
		
		ServicePollConfiguration svcPollConfig = new ServicePollConfiguration(svc, 100);
		
		PollService pollService = createNiceMock(PollService.class);
		replay(pollService);

		MonitorServicePollDetails pollDetails = new MonitorServicePollDetails(svcPollConfig, pollService);
		pollDetails.setJobClass(MonitorServicePollJobChecker.class);
		
		MonitorServicePollJobChecker.callCount = 0;

		m_scheduler.scheduleJob(pollDetails, pollDetails.getTrigger());
		
		Thread.sleep(200);
		
		assertTrue(MonitorServicePollJobChecker.callCount > 0);
		assertTrue(MonitorServicePollJobChecker.callCount < 5);
		
		verify(pollService);
		
	}

