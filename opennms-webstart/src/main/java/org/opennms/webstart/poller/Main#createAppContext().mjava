    private void createAppContext() {
        
        File homeDir = new File(System.getProperty("user.home"));
        String homeUrl = homeDir.toURI().toString();
        if (homeUrl.endsWith(File.separator)) {
            homeUrl = homeUrl.substring(0, homeUrl.length()-1);
        }
        System.err.println("user.home.url = "+homeUrl);
        System.setProperty("user.home.url", homeUrl);
        
        System.err.println("opennms.poller.server.url = "+m_url);
        System.setProperty("opennms.poller.server.url", m_url);
        
        String[] configs = {
                "classpath:/META-INF/opennms/applicationContext-remotePollerBackEnd.xml",
                "classpath:/META-INF/opennms/applicationContext-pollerFrontEnd.xml",
                "classpath:/META-INF/opennms/applicationContext-ws-gui.xml"
        };
        
        m_context = new ClassPathXmlApplicationContext(configs);
        m_frontEnd = (PollerFrontEnd) m_context.getBean("pollerFrontEnd");
        
        m_frontEnd.addPropertyChangeListener(new PropertyChangeListener() {

            public void propertyChange(PropertyChangeEvent evt) {
                if ("exitNecessary".equals(evt.getPropertyName()) && Boolean.TRUE.equals(evt.getNewValue())) {
                    if (!m_shuttingDown) {
                        System.exit(27);
                    }
                }
            }
            
        });
    }

