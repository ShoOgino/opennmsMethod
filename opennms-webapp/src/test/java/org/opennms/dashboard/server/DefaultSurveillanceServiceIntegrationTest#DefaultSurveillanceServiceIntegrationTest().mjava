    public DefaultSurveillanceServiceIntegrationTest() throws Exception {
        File f = new File("src/test/opennms-home");
        System.setProperty("opennms.home", f.getAbsolutePath());
        
        File rrdDir = new File("target/test/opennms-home/share/rrd");
        if (!rrdDir.exists()) {
            rrdDir.mkdirs();
        }
        System.setProperty("distributed.layoutApplicationsVertically", "false");
        
        // FIXME: We should never modify anything under src... this should be under target
        System.setProperty("opennms.webapplogs.dir", "src/test/opennms-home/logs");
        System.setProperty("rrd.base.dir", rrdDir.getAbsolutePath());
        
        Reader schemaReader = ConfigurationTestUtils.getReaderForConfigFile("database-schema.xml");
        DatabaseSchemaConfigFactory.setInstance(new DatabaseSchemaConfigFactory(schemaReader));
    }

