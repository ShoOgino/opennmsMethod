    @Test
    public void testRenderNullRenderer() throws Exception {
        boolean gotException = false;
        
        m_view.setGraphRenderer(null);

        try {
            m_view.render(new HashMap(), m_request, m_response);
        } catch (IllegalStateException e) {
            assertEquals("Received IllegalStateException as expected; getMessage() on exception does not match",
                    "graph renderer has not been set with setGraphRenderer",
                    e.getMessage());
            gotException = true;
        }
        
        if (!gotException) {
            fail("Expected IllegalStateException, but did not receive it");
        }
    }

