    @Test
    public void testDetectors() throws Exception {
        createForeignSource();

        String url = "/foreignSources/pending/test/detectors";
        String xml = sendRequest(GET, url, 200);
        assertTrue(xml.contains("<detectors "));
        assertTrue(xml.contains("<detector "));
        assertTrue(xml.contains("name=\"DHCP\""));
        
        url = "/foreignSources/pending/test/detectors/HTTP";
        xml = sendRequest(GET, url, 200);
        assertTrue(xml.contains("org.opennms.netmgt.provision.detector.simple.HttpDetector"));

        xml = sendRequest(DELETE, url, 200);
        xml = sendRequest(GET, url, 204);
    }

