    @Test
    public void testForeignSources() throws Exception {
        createForeignSource();
        String url = "/foreignSources/pending";
        String xml = sendRequest(GET, url, 200);
        assertTrue(xml.contains("DHCP"));
        
        url = "/foreignSources/pending/test";
        sendPut(url, "scanInterval=1h");
        xml = sendRequest(GET, url, 200);
        assertTrue(xml.contains("<scan-interval>1h</scan-interval>"));
        
        url = "/foreignSources/pending/test";
        sendPut(url, "scanInterval=1h");
        sendRequest(DELETE, url, 200);
        xml = sendRequest(GET, url, 200);
        assertTrue(xml.contains("<scan-interval>1d</scan-interval>"));
        
        sendPut(url, "scanInterval=1h");
        sendPut(url + "/deploy", "");
        
        url = "/foreignSources/deployed/test";
        xml = sendRequest(GET, url, 200);
        assertTrue(xml.contains("<scan-interval>1h</scan-interval>"));
        
        sendRequest(DELETE, url, 200);
        xml = sendRequest(GET, url, 200);
        assertTrue(xml.contains("<scan-interval>1d</scan-interval>"));
    }

