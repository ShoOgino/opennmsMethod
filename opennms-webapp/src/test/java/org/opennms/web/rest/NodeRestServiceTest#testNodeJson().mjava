    @Test
    @JUnitTemporaryDatabase
    public void testNodeJson() throws Exception {
        createSnmpInterface();

        final MockHttpServletRequest req = createRequest(getServletContext(), GET, "/nodes");
        req.addHeader("Accept", "application/json");
        req.addParameter("limit", "0");
        String json = sendRequest(req, 200);
        final JSONArray ja = new JSONArray(json);
        assertEquals(1, ja.length());
        final JSONObject jo = ja.getJSONObject(0);
        assertEquals("A", jo.getString("type"));
        assertEquals("TestMachine0", jo.getString("label"));
    }

