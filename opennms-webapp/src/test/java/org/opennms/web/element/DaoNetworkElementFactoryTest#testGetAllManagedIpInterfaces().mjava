    @Test
    public void testGetAllManagedIpInterfaces() throws SQLException {
        m_jdbcTemplate.update("UPDATE ipinterface SET ismanaged='D' WHERE nodeid=1");
        assertEquals(15, getNetworkElementFactory().getAllManagedIpInterfaces(false).length);
        
        Interface[] intfs = getNetworkElementFactory().getAllManagedIpInterfaces(false);
        assertEquals(15, intfs.length);
        
        int count = 0;
        for(int i =0; i < intfs.length; i++) {
            if(intfs[i].getIfIndex() > 0) {
                count++;
            }
        }
        
        m_jdbcTemplate.update("UPDATE ipinterface SET ismanaged='M' WHERE nodeid=1");
        
        Interface[] intfs2 = getNetworkElementFactory().getAllManagedIpInterfaces(true);
        assertEquals(18, intfs2.length);
        
        count = 0;
        for(int j =0; j < intfs2.length; j++) {
            if(intfs2[j].getIfIndex() > 0) {
                count++;
            }
        }
        
        assertEquals(3, count);
    }

