    public void testGetByUsernameWithoutMagicUsersConfigFile() {
        UserDaoImpl dao = new UserDaoImpl();
        setUsersConfigurationFile(dao);

        ThrowableAnticipator ta = new ThrowableAnticipator();
        ta.anticipate(new IllegalStateException("magicUsersConfigurationFile parameter must be set to the location of the magic-users.properties configuration file"));

        try {
            dao.getByUsername("test_user");
        } catch (Throwable t) {
            ta.throwableReceived(t);
        }
        ta.verifyAnticipated();
    }

