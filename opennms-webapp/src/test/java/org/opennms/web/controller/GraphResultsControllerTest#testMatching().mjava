	/**
	 * Test matching.
	 *
	 * @throws Exception the exception
	 */
	@Test
	public void testMatching() throws Exception {
		// Test an expression
		String[] reports = m_controller.getSuggestedReports(ResourceId.get("node", "1").resolve("nodeSnmp", ""), "memAvailReal / memTotalReal * 100.0");
		System.out.println(StringUtils.join(reports, ", "));
		Assert.assertEquals(2, reports.length);
		Assert.assertEquals("netsnmp.memStats", reports[0]);

		// Test a single value
		reports = m_controller.getSuggestedReports(ResourceId.get("node", "1").resolve("nodeSnmp", ""), "memAvailReal");
		System.out.println(StringUtils.join(reports, ", "));
		Assert.assertEquals(2, reports.length);
		Assert.assertEquals("netsnmp.memStats", reports[0]);

		// Test an unexisting metric
		reports = m_controller.getSuggestedReports(ResourceId.get("node", "1").resolve("nodeSnmp", ""), "blahblah");
		System.out.println(StringUtils.join(reports, ", "));
		Assert.assertEquals(1, reports.length);
		Assert.assertEquals("all", reports[0]);
	}

