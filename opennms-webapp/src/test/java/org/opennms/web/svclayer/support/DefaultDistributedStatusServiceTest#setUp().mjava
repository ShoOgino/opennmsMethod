    protected void setUp() {
        m_service.setPollerConfig(m_pollerConfig);
        m_service.setMonitoredServiceDao(m_monitoredServiceDao);
        m_service.setLocationMonitorDao(m_locationMonitorDao);
        m_service.setApplicationDao(m_applicationDao);
        m_service.setCategoryDao(m_categoryDao);
        
        m_locationDefinition = makeOnmsMonitoringLocationDefinition();
        m_application = makeOnmsApplication();

        m_locationMonitor = new OnmsLocationMonitor();

        m_pkg = new Package();

        List<String> serviceNames = new ArrayList<String>();
        serviceNames.add("ICMP");
        serviceNames.add("DNS");
        serviceNames.add("HTTP");
        serviceNames.add("HTTPS");
        m_selector = new ServiceSelector("IPADDR IPLIKE *.*.*.*", serviceNames);
        
        m_services = new HashSet<OnmsMonitoredService>();
        
        m_node = new OnmsNode();
        String ip = "1.2.3.4";
        m_node.setLabel("some node");
        
        m_icmpService = new OnmsMonitoredService(new OnmsIpInterface(ip, m_node), new OnmsServiceType("ICMP"));
        m_services.add(m_icmpService);
        
        m_dnsService = new OnmsMonitoredService(new OnmsIpInterface(ip, m_node), new OnmsServiceType("DNS"));
        m_services.add(m_dnsService);
        
        m_httpService = new OnmsMonitoredService(new OnmsIpInterface(ip, m_node), new OnmsServiceType("HTTP"));
        m_services.add(m_httpService);
        
        m_httpsService = new OnmsMonitoredService(new OnmsIpInterface(ip, m_node), new OnmsServiceType("HTTPS"));
        m_services.add(m_httpsService);

        m_applicationServices = new HashSet<OnmsMonitoredService>();
        m_applicationServices.add(m_httpService);
        m_applicationServices.add(m_httpsService);
        m_application.setMemberServices(m_applicationServices);
        
    }

