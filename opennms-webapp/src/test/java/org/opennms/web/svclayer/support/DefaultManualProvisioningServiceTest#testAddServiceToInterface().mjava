    public void testAddServiceToInterface() {
        String groupName = "groupName";
        String pathToInterface = "node[0].interface[0]";
        String serviceName = "SVC";
        
        int initialCount = BeanUtils.getPathValue(m_testData, pathToInterface+".monitoredServiceCount", int.class); 

        expect(m_provisioningDao.get(groupName)).andReturn(m_testData);
        m_provisioningDao.save(groupName, m_testData);

        replayMocks();

        ModelImport result = m_provisioningService.addServiceToInterface(groupName, pathToInterface, serviceName);

        verifyMocks();
        
        int newCount = BeanUtils.getPathValue(m_testData, pathToInterface+".monitoredServiceCount", int.class); 
        
        assertEquals(initialCount+1, newCount);
        
        MonitoredService svc = BeanUtils.getPathValue(result, pathToInterface+".monitoredService["+initialCount+"]", MonitoredService.class);
        assertNotNull(svc);
        assertEquals(serviceName, svc.getServiceName());
}

