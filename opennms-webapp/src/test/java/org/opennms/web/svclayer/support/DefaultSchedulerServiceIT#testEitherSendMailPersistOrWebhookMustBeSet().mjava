    @Test
    public void testEitherSendMailPersistOrWebhookMustBeSet() {
        deliveryOptions.setPersist(false);

        try {
            m_schedulerService.execute(new DeliveryConfig(reportParameters, deliveryOptions));
            fail("Expected exception, but wasn't thrown");
        } catch (org.opennms.web.svclayer.support.SchedulerContextException ex) {
            assertThat(ex.getContext(), is("sendMail_persist_webhook"));
        }
    }

