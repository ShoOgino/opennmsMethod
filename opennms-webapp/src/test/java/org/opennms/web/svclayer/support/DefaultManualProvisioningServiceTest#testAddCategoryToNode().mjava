    public void testAddCategoryToNode() {
        String groupName = "groupName";
        String pathToNode = "node[0]";
        String categoryName = "categoryName";
        
        int initialCount = BeanUtils.getPathValue(m_testData, pathToNode+".categoryCount", int.class); 
        
        expect(m_provisioningDao.get(groupName)).andReturn(m_testData);
        m_provisioningDao.save(groupName, m_testData);

        replayMocks();
            
        ModelImport result = m_provisioningService.addCategoryToNode(groupName, pathToNode, categoryName);
        
        verifyMocks();
        
        int newCount = BeanUtils.getPathValue(result, pathToNode+".categoryCount", int.class);
        
        assertEquals(initialCount+1, newCount);
        Category newCategory = BeanUtils.getPathValue(result, pathToNode+".category["+initialCount+"]", Category.class);
        assertNotNull(newCategory);
        assertEquals(categoryName, newCategory.getName());
    }

