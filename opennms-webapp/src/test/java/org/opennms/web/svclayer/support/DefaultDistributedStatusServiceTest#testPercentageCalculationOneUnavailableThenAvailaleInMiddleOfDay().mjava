    @Test
    public void testPercentageCalculationOneUnavailableThenAvailaleInMiddleOfDay() throws ParseException {
        OnmsMonitoredService httpService = findMonitoredService(m_services, m_ip, "HTTP");
        OnmsMonitoredService httpsService = findMonitoredService(m_services, m_ip, "HTTPS");

        Collection<OnmsLocationSpecificStatus> statuses = new HashSet<>();
        statuses.add(createStatus(m_locationDefinition1, httpService, PollStatus.available(), "20061011-00:00:00"));
        statuses.add(createStatus(m_locationDefinition1, httpService, PollStatus.available(), "20061012-00:00:00"));
        statuses.add(createStatus(m_locationDefinition1, httpsService, PollStatus.unavailable(), "20061012-00:00:00"));
        statuses.add(createStatus(m_locationDefinition1, httpsService, PollStatus.available(), "20061012-06:00:00"));
        statuses.add(createStatus(m_locationDefinition1, httpService, PollStatus.available(), "20061013-00:00:00"));

        Date startDate = s_dbDate.parse("2006-10-12 00:00:00.0");
        Date endDate = s_dbDate.parse("2006-10-13 00:00:00.0");

        m_easyMockUtils.replayAll();
        String percentage = m_service.calculatePercentageUptime(m_applicationServices1, statuses,  startDate, endDate);
        m_easyMockUtils.verifyAll();
        
        assertEquals("percentage", "75.000%", percentage);
    }

