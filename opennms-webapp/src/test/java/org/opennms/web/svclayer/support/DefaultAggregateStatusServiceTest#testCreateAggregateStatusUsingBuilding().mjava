    public void testCreateAggregateStatusUsingBuilding() {
        
        Collection<AggregateStatus> aggrStati;
        Collection<AggregateStatusDefinition> defs = new ArrayList<AggregateStatusDefinition>();
        
        AggregateStatusDefinition definition = 
            new AggregateStatusDefinition("Routers/Switches", new ArrayList<String>(Arrays.asList(new String[]{ "routers", "switches" })));
        defs.add(definition);
        
        definition = 
            new AggregateStatusDefinition("Servers", new ArrayList<String>(Arrays.asList(new String[]{ "servers" })));
        defs.add(definition);
        
        DefaultAggregateStatusService aggregateSvc = new DefaultAggregateStatusService();
        aggregateSvc.setNodeDao(m_nodeDao);
        
        OnmsNode node = new OnmsNode();
        Collection<OnmsNode> nodes = new ArrayList<OnmsNode>();
        nodes.add(node);
        
        for (AggregateStatusDefinition def : defs) {
            expect(m_nodeDao.findAllByVarCharAssetColumnCategoryList("building", "HQ", def.getCategories())).andReturn(nodes);
        }
        replay(m_nodeDao);
        
        aggrStati = aggregateSvc.createAggregateStatusUsingAssetColumn("building", "HQ", defs);
        verify(m_nodeDao);
        
        assertNotNull(aggrStati);

    }

