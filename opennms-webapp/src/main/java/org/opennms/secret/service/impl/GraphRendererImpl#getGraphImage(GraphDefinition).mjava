	public ByteArrayInputStream getGraphImage( GraphDefinition gdef ) {
		// TODO geneneralise the graph definition to RDD graphdefinition
		/*String reportname,
		 File rrdfile,
		 Date from,
		 Date to,
		 String imagefilename,
		 int imagetype) */
		
		try {
			RrdGraphDef graphDef = getRrdGraphDef(gdef);
                	graphDef.setImageFormat("PNG");
	                graphDef.setImageQuality(1.0f);
			RrdGraph graph = new RrdGraph(graphDef);
			
			return new ByteArrayInputStream(graph.getRrdGraphInfo().getBytes());
			
		} catch (Exception e) {
			System.err.println("ErrorGraphRenderImpl - problem creating graph ");
			e.printStackTrace();
		};
		return null ; 
	}

