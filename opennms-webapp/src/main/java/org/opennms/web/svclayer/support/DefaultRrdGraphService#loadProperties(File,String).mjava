    public Properties loadProperties(File workDir, String propertiesFile) {
        if (workDir == null) {
            throw new IllegalArgumentException("argument workDir cannot e null");
        }
        
        if (propertiesFile == null) {
            throw new IllegalArgumentException("argument propertiesFile cannot e null");
        }
        
        Properties externalProperties = new Properties();
        
        File file = new File(workDir, propertiesFile);
        if (!file.exists()) {
            String message =
                "loadProperties: Properties file does not exist: "
                + file.getAbsolutePath();
            log().warn(message);
            //throw new DataAccessResourceFailureException(message);
        }
        
        FileInputStream fileInputStream = null;
        try {
            fileInputStream = new FileInputStream(file);
        } catch (IOException e) {
            String message = "loadProperties: Error opening properties file "
                + propertiesFile + ": " + e.getMessage();
            log().warn(message, e);
            throw new DataAccessResourceFailureException(message, e);
        }

        try {
            externalProperties.load(fileInputStream);
        } catch (IOException e) {
            String message = "loadProperties: Error loading properties file "
                + propertiesFile + ": " + e.getMessage();
            log().warn(message, e);
            throw new DataAccessResourceFailureException(message, e);
        } finally {
            try {
                if (fileInputStream != null) {
                    fileInputStream.close();
                }
            } catch (IOException e) {
                String message = 
                    "loadProperties: Error closing properties file "
                    + propertiesFile + ": " + e.getMessage();
                log().warn(message, e);
                throw new DataAccessResourceFailureException(message, e);
            }
        }
                
        return externalProperties;
    }

