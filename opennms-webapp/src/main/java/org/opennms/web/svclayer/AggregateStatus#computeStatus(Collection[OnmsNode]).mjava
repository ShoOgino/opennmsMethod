	private String computeStatus(Collection<OnmsNode> nodes) {
	    
	    String color = AggregateStatus.ALL_NODES_UP;
	    
	    if (getDownEntityCount() >= 1) {
	        color = AggregateStatus.NODES_ARE_DOWN;
	        return color;
	    }
	    
	    for (Iterator<OnmsNode> it = nodes.iterator(); it.hasNext();) {
	        OnmsNode node = it.next();
	        Set<OnmsIpInterface> ifs = node.getIpInterfaces();
	        for (Iterator<OnmsIpInterface> ifIter = ifs.iterator(); ifIter.hasNext();) {
	            OnmsIpInterface ipIf = ifIter.next();
	            Set<OnmsMonitoredService> svcs = ipIf.getMonitoredServices();
	            for (Iterator<OnmsMonitoredService> svcIter = svcs.iterator(); svcIter.hasNext();) {
	                OnmsMonitoredService svc = svcIter.next();
	                if (svc.isDown()) {
	                    color = AggregateStatus.ONE_SERVICE_DOWN;
	                    return color;  //quick exit this mess
	                }
	            }
	        }
	    }
	    return color;
	}

