    private GraphResource findResource(GraphModel model,
            String parentResourceType, String parentResource,
            String resourceType, String resource) {
        if ("node".equals(parentResourceType)) {
            int nodeId;
            try {
                nodeId = Integer.parseInt(parentResource);
            } catch (NumberFormatException e) {
                throw new IllegalArgumentException("Could not parse parentResource '"
                                                   + parentResource + "' as an integer node ID: " + e.getMessage(), e);
            }
            return model.getResourceForNodeResourceResourceType(nodeId, resource, resourceType);
        } else if ("domain".equals(parentResourceType)){
            return model.getResourceForDomainResourceResourceType(parentResource, resource, resourceType);
        } else {
            throw new IllegalArgumentException("parentResourceType '"
                                               + parentResourceType
                                               + "' is not supported");
            
        }
    }

