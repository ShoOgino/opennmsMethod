    @Override
    protected ModelAndView handleRequestInternal(HttpServletRequest request, HttpServletResponse response) throws Exception {
        final int numberOfRows = Integer.getInteger("opennms.applicationsWithProblems.count", DEFAULT_ROW_COUNT);
        final boolean all = "true".equalsIgnoreCase(request.getParameter("all"));

        // Get application status, but only consider everything > NORMAL
        List<ApplicationStatus> applicationStatus = applicationDao.getApplicationStatus();
        applicationStatus = applicationStatus.stream().filter(a -> a.getSeverity().isGreaterThan(OnmsSeverity.NORMAL)).collect(Collectors.toList());

        // Calculate status for application
        // Define if there is a "more"
        boolean more = !all && applicationStatus.size() - numberOfRows > 0;
        if (!all) {
            if (applicationStatus.size() > numberOfRows) {
                applicationStatus = applicationStatus.subList(0, numberOfRows);
            }
        }

        // Sort
        applicationStatus.sort((s1, s2) -> -1 * s1.getSeverity().compareTo(s2.getSeverity())); // desc sort

        // Prepare Model
        ModelAndView modelAndView = new ModelAndView(m_successView);
        modelAndView.addObject("more", more);
        modelAndView.addObject("summaries", applicationStatus);
        return modelAndView;
    }

