    @Override
    public List<MenuEntry> getMenu(final MenuContext context) {
        final List<MenuEntry> menu = new ArrayList<>();
        for (final NavBarEntry entry : getNavBarItems()) {
            final DefaultMenuEntry defaultMenuEntry = new DefaultMenuEntry(entry.getName(), entry.getUrl(), entry.evaluate(context));
            if (entry.getEntries() != null) {
                final List<MenuEntry> entries = entry.getEntries().stream()
                        .map(e -> new DefaultMenuEntry(e.getName(), e.getUrl(), e.evaluate(context)))
                        .collect(Collectors.toList());
                defaultMenuEntry.addEntries(entries);
            }
            menu.add(defaultMenuEntry);
        }
        return menu;
    }

