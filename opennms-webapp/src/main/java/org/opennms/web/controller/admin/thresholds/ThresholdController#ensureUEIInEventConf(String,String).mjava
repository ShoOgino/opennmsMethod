    private void ensureUEIInEventConf(String uei, String typeDesc) {
        EventconfFactory factory = EventconfFactory.getInstance();
        List<org.opennms.netmgt.xml.eventconf.Event> eventsForUEI=factory.getEvents(uei);
        if(eventsForUEI==null || eventsForUEI.size()==0) {
            //UEI doesn't exist.  Add it
            org.opennms.netmgt.xml.eventconf.Event event=new org.opennms.netmgt.xml.eventconf.Event();
            event.setUei(uei);
            event.setEventLabel("User-defined threshold event "+uei);
            event.setDescr("Threshold "+typeDesc+" for %service% datasource " +
                        "%parm[ds]% on interface %interface%, parms: %parm[all]");
            Logmsg logmsg=new Logmsg();
            logmsg.setDest("logndisplay");
            logmsg.setContent("Threshold "+typeDesc+" for %service% datasource %parm[ds]% on interface %interface%, parms: %parm[all]%");
            event.setLogmsg(logmsg);
            event.setSeverity("Warning");
            factory.addEventToProgrammaticStore(event);
            eventConfChanged=true;
        }
    }

