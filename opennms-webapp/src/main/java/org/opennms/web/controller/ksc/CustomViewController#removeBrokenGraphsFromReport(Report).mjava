    // Returns true if the report was modified due to invalid resource IDs. 
    private boolean removeBrokenGraphsFromReport(Report report) {
        for (Iterator<Graph> itr = report.getGraphs().iterator(); itr.hasNext();) {
            Graph graph = itr.next();
            try {
                OnmsResource r = getKscReportService().getResourceFromGraph(graph);
                if (r == null) {
                    LOG.error("Removing graph '{}' in KSC report '{}' because the resource it refers to could not be found. Perhaps resource '{}' (or its ancestor) referenced by this graph no longer exists?", graph.getTitle(), report.getTitle(), graph.getResourceId());
                    itr.remove();
                    return true;
                }
            } catch (ObjectRetrievalFailureException orfe) {
                LOG.error("Removing graph '{}' in KSC report '{}' because the resource it refers to could not be found. Perhaps resource '{}' (or its ancestor) referenced by this graph no longer exists?", graph.getTitle(), report.getTitle(), graph.getResourceId());
                itr.remove();
                return true;
            } catch (Throwable e) {
                LOG.error("Unexpected error while scanning through graphs in report: {}", e.getMessage(), e);
                itr.remove();
                return true;
            }
        }
        return false;
    }

