    public org.opennms.web.springframework.security.User getByUsername(String username) {
        reloadIfNecessary();

        org.opennms.web.springframework.security.User user;
        if (m_magicUsers.containsKey(username)) {
            user = m_magicUsers.get(username);
        } else {
            user = m_users.get(username);
        }

        if (user == null) {
            return null;
        }

        user.setAuthorities(getAuthoritiesByUsername(username));

        return user;
    }

