    private static Notification mapOnmsNotificationToNotification(OnmsNotification onmsNotification){
        if(onmsNotification != null){
            Notification notif = new Notification();
            notif.m_eventId = onmsNotification.getEvent() != null ? onmsNotification.getEvent().getId() : 0;
            notif.m_interfaceID = onmsNotification.getIpAddress() == null ? null : InetAddressUtils.toIpAddrString(onmsNotification.getIpAddress());
            notif.m_nodeID = onmsNotification.getNode() != null ? onmsNotification.getNode().getId() : 0;
            notif.m_notifyID = onmsNotification.getNotifyId();
            notif.m_numMsg = onmsNotification.getNumericMsg();
            notif.m_responder = onmsNotification.getAnsweredBy();
            notif.m_serviceId = onmsNotification.getServiceType() != null ? onmsNotification.getServiceType().getId() : 0;
            notif.m_serviceName = onmsNotification.getServiceType() != null ? onmsNotification.getServiceType().getName() : "";
            notif.m_timeReply = onmsNotification.getRespondTime() != null ? onmsNotification.getRespondTime().getTime() : 0;
            notif.m_timeSent = onmsNotification.getPageTime() != null ? onmsNotification.getPageTime().getTime() : 0;
            notif.m_txtMsg = onmsNotification.getTextMsg();

            // Add the OnmsUserNotifications as NoticeSentTo instances
            final List<NoticeSentTo> sentToList = new ArrayList<NoticeSentTo>();
            for (OnmsUserNotification userNotified : onmsNotification.getUsersNotified()) {
                NoticeSentTo newSentTo = new NoticeSentTo();
                newSentTo.setUserId(userNotified.getUserId());
                // Can be null
                if (userNotified.getNotifyTime() == null) {
                    newSentTo.setTime(0);
                } else {
                    newSentTo.setTime(userNotified.getNotifyTime().getTime());
                }
                // Can be null
                newSentTo.setMedia(userNotified.getMedia());
                // Can be null
                newSentTo.setContactInfo(userNotified.getContactInfo());
                sentToList.add(newSentTo);
            }
            notif.m_sentTo = sentToList;

            return notif;
        }else{
            return null;
        }
    }

