	@Transactional 
	private void convertFromModel(int nodeid, BridgeBridgeLink link) {

		BridgeLinkNode linknode = new BridgeLinkNode();
		if (bridgelinks.containsKey(link.getBridgePort())) {
				linknode = bridgelinks.get(link.getBridgePort());
		} else {
			linknode.setBridgeLocalPort(getBridgePortString(link.getBridgePort(),link.getBridgePortIfIndex()));
			linknode.setBridgeLocalVlan(link.getVlan());
			linknode.setBridgeLinkCreateTime(Util.formatDateToUIString(link.getBridgeBridgeLinkCreateTime()));
			linknode.setBridgeLinkLastPollTime(Util.formatDateToUIString(link.getBridgeBridgeLinkLastPollTime()));
			bridgelinks.put(link.getBridgePort(), linknode);
		}
		
		BridgeLinkRemoteNode remlinknode = new BridgeLinkRemoteNode();
	
		remlinknode.setBridgeRemoteNode(link.getDesignatedNode().getLabel());
		remlinknode.setBridgeRemoteUrl(getNodeUrl(link.getDesignatedNode().getId()));
		
                OnmsSnmpInterface remiface = m_snmpInterfaceDao.findByNodeIdAndIfIndex(link.getNode().getId(), link.getBridgePortIfIndex());
                if (remiface != null)
                    remlinknode.setBridgeRemotePort(getPortString(remiface));
                else 
                    remlinknode.setBridgeRemotePort(getPortString(link.getBridgePortIfIndex(),null));
		remlinknode.setBridgeRemotePortUrl(getSnmpInterfaceUrl(link.getDesignatedNode().getId(), link.getDesignatedPortIfIndex()));
		
		remlinknode.setBridgeRemoteVlan(link.getDesignatedVlan());
		
		linknode.getBridgeLinkRemoteNodes().add(remlinknode);
	}

