    DataSourceInterface getDataSourceImplementation() throws MapsException {
		if(m_dataSource==null) return null;
    	try {
			java.util.Map params = m_dataSource.getParam();
	
			log.debug("dataSource " + m_dataSource.getImplClass()
					+ " obtained.");
			Class implClass = Class.forName(m_dataSource.getImplClass());
			 DataSourceInterface dsi = (org.opennms.web.map.datasources.DataSourceInterface)implClass.newInstance();
			 
			 dsi.init(params);
			 return dsi;
		} catch (Exception e) {
			log.error("Error while getting instance of data source " + e);
			throw new MapsException(e);
		}
    }

