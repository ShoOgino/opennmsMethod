    /**
     * save the map in input
     * 
     * @param map
     *            to save
     * @throws MapsException
     */
    synchronized public void save(VMap map) throws MapsException {
        if (!map.isNew()) {
            dbManager.deleteElementsOfMap(map.getId());
        }
        dbManager.saveMap(map);
        dbManager.saveElements(map.getAllElements());
    }

