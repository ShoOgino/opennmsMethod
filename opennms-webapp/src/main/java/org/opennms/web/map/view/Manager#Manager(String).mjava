    /**
     * Create a new Manager using the Maps Factory with label in input. If mapsFactoryLabel is null, default factory is used
     * @param mapsFactoryLabel
     */
    public Manager(String mapsFactoryLabel)throws MapsException{
    	this();
    	try {
    		if(mapsFactoryLabel!=null){
	        	m_mapsFactory = mpf.getMapsFactory(mapsFactoryLabel); 
	        	
	        	String dataSource = m_mapsFactory.getDataSource();
	        	m_dataSource = null;
	        	if(dataSource!=null){
	        		m_dataSource = mpf.getDataSource(dataSource); 
	        	}

	        	Class[] parameterTypes = {DataSource.class,java.util.Map.class};
	        	Object[] params = {m_dataSource,m_mapsFactory.getParam()};
	        	Constructor managerConstr = Class.forName(m_mapsFactory.getManagerClass()).getConstructor(parameterTypes);
	        	
	        	m_implManager = (org.opennms.web.map.dataaccess.Manager)managerConstr.newInstance(params);
        	}
    	} catch (Exception e) {
        	log.fatal("cannot use map.properties file " + e);
        	e.printStackTrace();
        	throw new MapsException(e);
        }
    }

