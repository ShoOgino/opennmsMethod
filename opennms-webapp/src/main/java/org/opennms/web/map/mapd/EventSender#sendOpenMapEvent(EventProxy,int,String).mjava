    void sendOpenMapEvent(EventProxy proxy, int mapId, String mapFactory) throws IllegalArgumentException, EventProxyException {
        if (proxy == null || mapFactory==null) {
            throw new IllegalArgumentException("Cannot take null parameters.");
        }

        Event event = new Event();
        event.setSource("MapEventSender");
        event.setUei(EventConstants.OPEN_MAP_EVENT_UEI);
        event.setHost("host");
        event.setTime(EventConstants.formatToString(new java.util.Date()));

        Parms parms = new Parms();

        // Maps Factory
        Value value = new Value();
        value.setContent(mapFactory);
        Parm parm = new Parm();
        parm.setParmName(EventConstants.PARM_MAP_FACTORY);
        parm.setValue(value);
        parms.addParm(parm);

        // Map's id
        value = new Value();
        value.setContent(""+mapId);
        parm = new Parm();
        parm.setParmName(EventConstants.PARM_MAP_ID);
        parm.setValue(value);
        parms.addParm(parm);

        event.setParms(parms);

        proxy.send(event);

        log.info("Open map event for mapid="+mapId +" and mapFactory "+mapFactory+ " sent.");
    }

