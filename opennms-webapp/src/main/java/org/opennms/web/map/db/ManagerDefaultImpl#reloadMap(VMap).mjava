    /**
     * Reloads elements of map and theirs avail,severity and status
     * 
     * @param map
     * @return the map refreshed
     */
    public VMap reloadMap(VMap map) throws MapsException {

        DbElement[] elems = dbManager.getElementsOfMap(map.getId());
        List<VElement> velems = new ArrayList<VElement>(elems.length);
        for (int i = 0; i < elems.length; i++) {
            velems.add(new VElement(elems[i]));
        }
        velems = localRefreshElements(velems);
        map.removeAllLinks();
        map.removeAllElements();
        map.addElements(velems);
        map.addLinks(getLinks(map.getElements().values()));
        return map;
    }

