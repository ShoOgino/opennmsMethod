    /**
     * Reloads elements of map and theirs avail,severity and status
     * @param map 
     * @return the map refreshed
     */
    public VMap reloadMap(VMap map)throws MapsException{
    	
		//VElement[] velems = localRefreshElements((map.getAllElements()));
    	Element[] elems = dbManager.getElementsOfMap(map.getId());
    	VElement[] velems = new VElement[elems.length];
    	for(int i=0; i<elems.length;i++) {
    		velems[i]=new VElement(elems[i]);
    	}
    	velems = localRefreshElements(velems);
    	map.removeAllLinks();
		map.removeAllElements();
    	map.addElements(velems);
		return map;
    }

