    private Set getLinkedNodeidsOnNodes(Set nodes, Connection conn) throws SQLException {
    	Set linkedNodeIds = new TreeSet();
        if (nodes != null) {
        	Iterator ite = nodes.iterator();
        	while (ite.hasNext()) {
        		Integer curnodeid = (Integer) ite.next();
                linkedNodeIds.addAll(NetworkElementFactory.getLinkedNodeIdOnNode(curnodeid.intValue(),conn));
        	}
        }
        return linkedNodeIds;
    }

