    public synchronized int deleteMap(int id) throws SQLException {
        if (!isStartedSession())
            throw new IllegalStateException("Call startSession() first.");
        final String sqlDeleteMap = "DELETE FROM map WHERE mapid = ?";
        final String sqlDeleteElemMap = "DELETE FROM element WHERE elementid = ? AND elementtype = ?";
        int countDelete = 0;
        try {
            PreparedStatement statement = connection
                    .prepareStatement(sqlDeleteMap);
            statement.setInt(1, id);
            countDelete = statement.executeUpdate();
            statement.close();
            statement = connection.prepareStatement(sqlDeleteElemMap);
            statement.setInt(1, id);
            statement.setString(2, Element.MAP_TYPE);
            statement.executeUpdate();
            statement.close();
            return countDelete;
        } catch (SQLException e) {
            try {
                connection.rollback();
                Vault.releaseDbConnection(connection);
                throw e;
            } catch (SQLException ex) {
                throw ex;
            }
        } 
    }

