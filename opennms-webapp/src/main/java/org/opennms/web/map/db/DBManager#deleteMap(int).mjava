    public synchronized int deleteMap(int id) throws MapsException {
        log.debug("deleting map...");
        Connection conn = startSession();
        final String sqlDeleteMap = "DELETE FROM " + mapTable
                + " WHERE mapid = ?";
        final String sqlDeleteElemMap = "DELETE FROM " + elementTable
                + " WHERE elementid = ? AND elementtype = ?";
        int countDelete = 0;
        try {
            PreparedStatement statement = conn.prepareStatement(sqlDeleteMap);
            statement.setInt(1, id);
            countDelete = statement.executeUpdate();
            statement.close();
            statement = conn.prepareStatement(sqlDeleteElemMap);
            statement.setInt(1, id);
            statement.setString(2, Element.MAP_TYPE);
            statement.executeUpdate();
            statement.close();
            return countDelete;
        } catch (SQLException e) {
            log.error("error while deleting map " + id);
            rollback(conn);
            throw new MapsException(e);
        } finally {
            endSession(conn);
        }
    }

