    private VElement refresh(VElement mapElement, Set<Integer> nodesBySource,
            Vector<Integer> deletedNodeids,
            java.util.Map<Integer, AlarmInfo> outagedNodes,
            java.util.Map<Integer, Double> avails) throws MapsException {
        
        VElement ve = mapElement.clone();
        
        if (log.isDebugEnabled()) {
            log.debug("refresh: parsing VElement ID " + ve.getId()
                    + ve.getType() + ", label:" + ve.getLabel()
                    + " with node by sources: " + nodesBySource.toString()
                    + " deletedNodeids: " + deletedNodeids.toString()
                    + " outagedNode: " + outagedNodes.keySet().toString());
        }

        if (ve.isNode())
            return refreshNodeElement(ve, nodesBySource, deletedNodeids,outagedNodes,avails);
        else 
            return refreshMapElement(ve,nodesBySource, deletedNodeids,outagedNodes,avails);
    }

