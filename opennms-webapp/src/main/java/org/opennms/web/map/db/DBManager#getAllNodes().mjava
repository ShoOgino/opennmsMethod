    private Set<Integer> getAllNodes() throws MapsException {
        Connection conn = createConnection();
        Set<Integer> nodes = new HashSet<Integer>();
        try {
            String sqlQuery = "select distinct nodeid from ipinterface";
            Statement stmt = conn.createStatement();
            ResultSet rs = stmt.executeQuery(sqlQuery);
            // add all matching nodes (id) with the source to the Set.
            while (rs.next()) {
                nodes.add(new Integer(rs.getInt(1)));
            }
            rs.close();
            stmt.close();
        } catch (Throwable e) {
            throw new MapsException("Exception while getting all nodes " + e);
        } finally {
            releaseConnection(conn);
        }
        return nodes;
    }

