    /** {@inheritDoc} */
    public VMap addElements(VMap map, List<VElement> velems) throws MapsException {
        map.removeAllLinks();
        for (VElement ve: velems) {
            log.debug("adding map element to map with id: " +ve.getId()+ve.getType());
            try {
                String type = MapsConstants.NODE_HIDE_TYPE;
                if (ve.isMap()) type =MapsConstants.MAP_HIDE_TYPE;
                VElement hve = getElement(map.getId(), ve.getId(), type);
                if (hve.getLabel() != null) {
                    ve.setLabel(hve.getLabel());
                    log.debug("preserving label map is hidden: label found: " + hve.getLabel());
                }
            } catch (Exception e) {
               log.debug("No Hidden Element found for id: " +ve.getId()+ve.getType()); 
            }
            map.addElement(ve);
        }            
        map.addLinks(getLinks(map.getElements().values()));
        return map;
    }

