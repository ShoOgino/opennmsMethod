    public boolean foundLoopOnMaps(VMap parentMap,int mapId) throws MapsException {
		
		
		ThreadCategory.setPrefix(MapsConstants.LOG4J_CATEGORY);
		Category log= ThreadCategory.getInstance(this.getClass());

		java.util.Map<Integer,Set<Integer>> maps = dbManager.getMapsStructure();
		VElement[] elems = parentMap.getAllElements();
		if (elems == null) return false;
		Set<Integer> childSet = new TreeSet<Integer>();
		for (int i=0; i<elems.length;i++) {
			if (elems[i].getType().equals(VElement.MAP_TYPE))
				childSet.add(new Integer(elems[i].getId()));
		}
	    
		log.debug("List of sub-maps before preorder visit "+childSet.toString());

	    maps.put(new Integer(parentMap.getId()),childSet);

	    while (childSet.size() > 0) {
		    childSet = preorderVisit(childSet,maps);
	
		    log.debug("List of sub-maps  "+childSet.toString());
	
		    if(childSet.contains(new Integer(mapId))){
				return true;
			}
	    }
	return false;
	
	}

