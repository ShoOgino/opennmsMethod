    /**
     * Create a new element child of the map with mapId (this map must be the
     * sessionMap)
     * 
     * @param mapId
     * @param elementId
     * @param type
     *            the node type
     * @return the new VElement
     * @throws MapsException
     */
    public VElement newElement(int mapId, int elementId, String type)
            throws MapsException {
        VElement velem = new VElement(dbManager.newElement(elementId, mapId, type));
        
        if (velem.isNode())
            velem.setIcon(getIconBySysoid(velem.getSysoid()));
        else if (velem.isMap())
            velem.setIcon(mapsPropertiesFactory.getDefaultMapIcon());

        velem.setSeverity(mapsPropertiesFactory.getIndeterminateSeverity().getId());
        velem.setAvail(mapsPropertiesFactory.getUndefinedAvail().getMin());
        velem.setStatus(mapsPropertiesFactory.getUnknownStatus().getId());
        log.debug("Adding velement to map " + velem.toString());

        return velem;

    }

