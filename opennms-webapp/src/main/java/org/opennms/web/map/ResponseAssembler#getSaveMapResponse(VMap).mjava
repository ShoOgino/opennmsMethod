	/**
	 * <p>getSaveMapResponse</p>
	 *
	 * @param map a {@link org.opennms.web.map.view.VMap} object.
	 * @return a {@link java.lang.String} object.
	 */
	@SuppressWarnings("unchecked")
    protected static String getSaveMapResponse(VMap map){
		Map saveMapResponse = new HashMap();
		saveMapResponse.put("id", map.getId());
		saveMapResponse.put("accessMode",map.getAccessMode());
        saveMapResponse.put("owner",map.getOwner());
        saveMapResponse.put("userLastModifies",map.getUserLastModifies());

        SimpleDateFormat formatter = new SimpleDateFormat("HH.mm.ss dd/MM/yy");
        Date now = new Date();
        if (map.getLastModifiedTime() != null)
            saveMapResponse.put("lastModifiedTimeString", formatter.format(map.getLastModifiedTime()));
        else
            saveMapResponse.put("lastModifiedTimeString", formatter.format(now));


        if (map.getCreateTime() != null)
            saveMapResponse.put("createTimeString",formatter.format(map.getCreateTime()));
        else 
            saveMapResponse.put("createTimeString",formatter.format(now));
        
        return JSONSerializer.toJSON(saveMapResponse).toString(); 
	}

