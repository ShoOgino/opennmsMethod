    private VElement recalculateMapElementStatus(VElement ve, int severity, int status, double avail) {
        LOG.debug("recalculateMapElementStatus: previuos severity =  {}", ve.getSeverity());
        LOG.debug("recalculateMapElementStatus: previous status = {}", ve.getStatus());
        LOG.debug("recalculateMapElementStatus: previuos avail = {}", ve.getAvail()); 
        
        LOG.debug("recalculateMapElementStatus: current node severity =  {}", severity);
        LOG.debug("recalculateMapElementStatus: current node status = {}", status);
        LOG.debug("recalculateMapElementStatus: current node avail = {}", avail);        
        
        if (ve.getStatus() == -1 ) {
            ve.setStatus(status);
            ve.setSeverity(severity);
            ve.setAvail(avail);
            LOG.debug("recalculateMapElementStatus: first iteration setting the upper map status to first node status");
        } else {
            String calculateSeverityAs = mapsPropertiesFactory.getSeverityMapAs();
            LOG.debug("recalculateMapElementStatus: calculate severity as: {}", calculateSeverityAs);
            if (calculateSeverityAs.equalsIgnoreCase("avg")) {
                ve.setSeverity(severity+ve.getSeverity());
                if (ve.getStatus() > status)
                    ve.setStatus(status);
            } else if (calculateSeverityAs.equalsIgnoreCase("worst")) {
                if (ve.getSeverity() > severity)
                    ve.setSeverity(severity);
                if (ve.getStatus() > status)
                    ve.setStatus(status);
            } else if (calculateSeverityAs.equalsIgnoreCase("best")) {
                if (ve.getSeverity() < severity) 
                    ve.setSeverity(severity);
                if (ve.getStatus() < status)
                    ve.setStatus(status);
            }
            ve.setAvail(ve.getAvail()+avail);
        }
        LOG.debug("recalculateMapElementStatus: updated severity =  {}", ve.getSeverity());
        LOG.debug("recalculateMapElementStatus: updated status = {}", ve.getStatus());
        LOG.debug("recalculateMapElementStatus: updated avail = {}", ve.getAvail());

        return ve;
    }

