	private void setupFooter(String mapName, String mapBackground, String mapOwner, String mapAccess, Timestamp mapCreateTime, String userLastModified, Timestamp lastModTime){
		SimpleDateFormat fmt = new SimpleDateFormat("dd-MM-yyyy");
		String createTimeStr ="";
		if(mapCreateTime!=null)
			createTimeStr = fmt.format(mapCreateTime);
		
		String lastModTimeStr ="";
		if(lastModTime!=null)
			lastModTimeStr = fmt.format(lastModTime);
		footer+="		]]></script>"
			+ "	<desc>"
			+ "		<!-- put a description here -->"
			+ "		Only for testing Semaphore class"
			+ "	</desc>"
			+ "	<defs>"
			+ "		<filter id=\"ombra\">"
			+ "			<feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"1\" result=\"passo1\"/>"
			+ "			<feOffset in=\"passo1\" dx=\"1\" dy=\"1\" result=\"passo2\"/>"
			+ "			<feMerge>"
			+ "				<feMergeNode in=\"passo2\"/>"
			+ "				<feMergeNode in=\"SourceGraphic\"/>"
			+ "			</feMerge>"
			+ "		</filter>"
			+ "	</defs>"
			+ "	<svg id=\"ToolbarSvg\" width=\"100%\" height=\"30px\">" +
					"		<script type=\"text/ecmascript\" a3:scriptImplementation=\"Adobe\"><![CDATA[" +
					"			function doPostURL () {" +
					"				var query=\"Nodi\";" +
					"				for (elemToRender in map.nodes){" +
					"					var elem = map.nodes[elemToRender];" +
					"					var x= elem.x;" +
					"					query+= elemToRender+\",\"+x+\"-\";" +
					"					}" +
					"				query+=\"Link\";" +
					"				for (link in map.links){" +
					"					var elem = map.links[link];" +
					"					query+=elem.mapElement1.id+\"-\"+elem.mapElement2.id+\",\";" +
					"					}" +
					"				postURL ( \"ProvaPostUrl?\"+query, null, viewResponse, \"text/xml\", null );" +
					"			}" +
					"					" +
					"			function viewResponse(data) {" +
					"				var msg = '';" +
					"				if(data.success) {" +
					"					msg = data.content;" +
					"				} else {" +
					"					msg = \"Loading has failed\";" +
					"					}" +
					"				alert(msg);" +
					"				}" +
					"			" +
					"			function deleteMapElement()" +
					"			{" +
					"			  " +
					"			if(map.nodes!=null){" +
					"				 if(map.nodeSize>0){" +
					"					deletingMapElem=true;" +
					"					var childNode = svgDocument.getElementById(\"OtherInfoText\");" +
					"" +
					"					if (childNode)" +
					"						svgDocument.getElementById(\"OtherInfo\").removeChild(childNode);" +
					"	" +
					"					svgDocument.getElementById(\"OtherInfo\").appendChild(parseXML(\"<text id=\\\"OtherInfoText\\\" x=\\\"5\\\" y=\\\"20\\\">Actions\"+	\"<tspan x=\\\"5\\\" dy=\\\"30\\\">Select the element to delete</tspan></text>\",svgDocument) );" +
					"	" +
					"					}" +
					"				}" +
					"			}" +
					"" +
					"		]]></script>" +
					"		" +
					"		<rect x=\"0\" y=\"0\" id=\"toolbar\" width=\"100%\" height=\"30px\" />" +
					"		<g  onclick=\"deleteMapElement();\">" +
					"" +
					"			<rect x=\"0\" y=\"0\" width=\"60\" height=\"30\" style=\"fill:blue;stroke:pink;stroke-width:1;fill-opacity:0.5;stroke-opacity:0.9\"/>" +
					"			<text x=\"2\" y=\"12\" style=\"fill:white\">delete</text>" +
					"		</g>" +
					"		<g  onclick=\"doPostURL();\">" +
					"			<rect x=\"65\" y=\"0\" width=\"60\" height=\"30\" style=\"fill:blue;stroke:pink;stroke-width:1;fill-opacity:0.5;stroke-opacity:0.9\"/>" +
					"			<text x=\"67\" y=\"12\" style=\"fill:white\">postUrl</text>" +
					"		</g>" +
					"	</svg>" +
					"	<svg id=\"ApplicationSvg\" y=\"30px\" width=\"100%\" height=\"400px\">" +
					"		<svg a3:scriptImplementation=\"Adobe\" width=\"100%\" height=\"100%\">" +
					"			<g id=\"Application\">" +
					"			</g>" +
					"		</svg>" +
					"		<svg a3:scriptImplementation=\"Adobe\" x=\"80%\" width=\"20%\" height=\"50%\" id=\"MapInfo\">" +
					"			<text id=\"MapInfoText\" x=\"5\" y=\"20\">Map info" +
					"			<tspan x=\"5\" dy=\"30\">Name: "+mapName+"</tspan>" +
					"				<tspan x=\"5\" dy=\"20\">Background: "+((mapBackground!=null)?mapBackground:" ")+"</tspan>" +
					"				<tspan x=\"5\" dy=\"20\">Owner: "+mapOwner+"</tspan>" +
					"				<tspan x=\"5\" dy=\"20\">Access mode: "+((mapAccess!=null)?mapAccess:" ")+"</tspan>" +
					"				<tspan x=\"5\" dy=\"20\">User last modified: "+((userLastModified!=null)?userLastModified:" ")+"</tspan>" +
					"				<tspan x=\"5\" dy=\"20\">Create time: "+createTimeStr+"</tspan>" +
					"				<tspan x=\"5\" dy=\"20\">Last modified time: "+lastModTimeStr+"</tspan>" +
					"			</text>" +
					"		</svg>" +
					"		<svg a3:scriptImplementation=\"Adobe\" x=\"80%\" y=\"50%\" width=\"20%\" height=\"50%\" id=\"NodeInfo\">" +
					"			<text id=\"NodeInfoText\" x=\"5\" y=\"20\"></text>" +
					"		</svg>" +
					"		<svg a3:scriptImplementation=\"Adobe\" x=\"80%\" y=\"80%\" width=\"20%\" height=\"50%\" id=\"OtherInfo\">" +
					"			<text id=\"OtherInfoText\" x=\"5\" y=\"20\"></text>" +
					"		</svg>" +
					"	</svg>" +
					""
			+ "</svg>";
	}

