    private String processPath(final HttpServletRequest request, final HttpSession user) throws ServletException {
        final Notification newNotice = (Notification) user.getAttribute("newNotice");
        newNotice.setDestinationPath(request.getParameter("path"));

        final String description = request.getParameter("description");
        if (description != null && !description.trim().equals("")) {
            newNotice.setDescription(description);
        } else {
            newNotice.setDescription(null);
        }

        newNotice.setTextMessage(request.getParameter("textMsg"));

        final String subject = request.getParameter("subject");
        if (subject != null && !subject.trim().equals("")) {
            newNotice.setSubject(subject);
        } else {
            newNotice.setSubject(null);
        }

        final String numMessage = request.getParameter("numMsg");
        if (numMessage != null && !numMessage.trim().equals("")) {
            newNotice.setNumericMessage(numMessage);
        } else {
            newNotice.setNumericMessage(null);
        }

        final String oldName = newNotice.getName();
        newNotice.setName(request.getParameter("name"));

        final String varbindName = request.getParameter("varbindName");
        final String varbindValue = request.getParameter("varbindValue");

        Varbind varbind=newNotice.getVarbind();           
        if (varbindName != null && !varbindName.trim().equals("") && varbindValue != null && !varbindValue.trim().equals("")) {
            if (varbind == null) {
                varbind = new Varbind();
                newNotice.setVarbind(varbind);
            }
            varbind.setVbname(varbindName);
            varbind.setVbvalue(varbindValue);
        } else {
            // Must do this to allow clearing out varbind definitions
            newNotice.setVarbind(null);
        }

        final String[] parameterName = request.getParameterValues("parameterName");
        final String[] parameterValue = request.getParameterValues("parameterValue");

        newNotice.getParameters().clear();

        if (parameterName != null && parameterValue != null) {
            for (int i = 0; i < parameterName.length; i++) {
                if (!Strings.isNullOrEmpty(parameterName[i])) {
                    final Parameter parameter = new Parameter();
                    parameter.setName(parameterName[i]);
                    if (i < parameterValue.length && parameterValue[i] != null) {
                        parameter.setValue(parameterValue[i]);
                    } else {
                        parameter.setValue("");
                    }
                    newNotice.addParameter(parameter);
                }
            }
        }

        try {
            // replacing a path with a new name.
            getNotificationFactory().replaceNotification(oldName, newNotice);
        } catch (final Throwable t) {
            throw new ServletException("Couldn't save/reload notification configuration file.", t);
        }

        final String suppliedReturnPage=(String)user.getAttribute("noticeWizardReturnPage");
        if (suppliedReturnPage != null && !"".equals(suppliedReturnPage)) {
            // Remove this attribute once we have consumed it, else the user may later
            // get returned to a potentially unexpected page here
            user.removeAttribute("noticeWizardReturnPage");
            return suppliedReturnPage;
        } else {
            return SOURCE_PAGE_NOTICES;
        }
    }

