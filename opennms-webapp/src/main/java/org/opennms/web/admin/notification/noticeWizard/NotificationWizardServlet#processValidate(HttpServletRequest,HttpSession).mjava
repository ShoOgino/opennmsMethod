    private String processValidate(HttpServletRequest request, HttpSession user) {
        String userAction = request.getParameter("userAction");

        if (userAction.equals("rebuild")) {
            Map<String, Object> params = new HashMap<String, Object>();
            params.put("newRule", request.getParameter("newRule"));
            String[] services = request.getParameterValues("services");
            if (services != null) {
                params.put("services", services);
            }
            params.put("mode", "rebuild");

            return SOURCE_PAGE_RULE + makeQueryString(params);
        } else {
            Notification newNotice = (Notification) user.getAttribute("newNotice");
            newNotice.setRule(request.getParameter("newRule"));

            return SOURCE_PAGE_PATH;
        }
    }

