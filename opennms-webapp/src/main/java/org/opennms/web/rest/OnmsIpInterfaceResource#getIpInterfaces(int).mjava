    @GET
    @Produces({MediaType.APPLICATION_XML, MediaType.APPLICATION_JSON})
    public OnmsIpInterfaceList getIpInterfaces(@PathParam("nodeId") int nodeId) {
        log().debug("getIpInterfaces: reading interfaces for node " + nodeId);
        
        //OnmsNode node = m_nodeDao.get(nodeId);        
        //if (node == null)
            //throwException(Status.BAD_REQUEST, "getIpInterfaces: can't find node " + nodeId);
        
        MultivaluedMap<String,String> params = m_uriInfo.getQueryParameters();
        OnmsCriteria criteria = new OnmsCriteria(OnmsIpInterface.class);
        
        setLimitOffset(params, criteria, 20);
        criteria.createCriteria("node").add(Restrictions.eq("id", nodeId));
        
        OnmsIpInterfaceList interfaceList = new OnmsIpInterfaceList(m_ipInterfaceDao.findMatching(criteria));
        
        //kind of a hack to get the total count of items. rework this
        OnmsCriteria crit = new OnmsCriteria(OnmsIpInterface.class);
        crit.createCriteria("node").add(Restrictions.eq("id", nodeId));
        interfaceList.setTotalCount(m_ipInterfaceDao.countMatching(crit));
        
        return interfaceList;
    }

