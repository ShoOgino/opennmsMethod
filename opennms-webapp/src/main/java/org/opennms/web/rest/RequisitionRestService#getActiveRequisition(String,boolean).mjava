    private Requisition getActiveRequisition(String foreignSourceName, boolean createIfMissing) {
        Requisition pending = m_pendingForeignSourceRepository.getRequisition(foreignSourceName);
        Requisition deployed = m_deployedForeignSourceRepository.getRequisition(foreignSourceName);

        if (pending == null && deployed == null && createIfMissing) {
            return new Requisition(foreignSourceName);
        } else if (pending == null) {
            return deployed;
        } else if (deployed == null) {
            return pending;
        } else if (deployed.getDateStamp().compare(pending.getDateStamp()) > -1) {
            // deployed is newer than pending
            return deployed;
        }
        return pending;
    }

