    private URL getActiveUrl(String foreignSourceName) {
        Requisition pending = m_pendingForeignSourceRepository.getRequisition(foreignSourceName);
        Requisition deployed = m_deployedForeignSourceRepository.getRequisition(foreignSourceName);
        
        if (pending == null) {
            return m_deployedForeignSourceRepository.getRequisitionURL(foreignSourceName);
        } else if (deployed == null) {
            return m_pendingForeignSourceRepository.getRequisitionURL(foreignSourceName);
        } else if (deployed.getDateStamp().compare(pending.getDateStamp()) > -1) {
            // deployed is newer than pending
            return m_deployedForeignSourceRepository.getRequisitionURL(foreignSourceName);
        }
        return m_pendingForeignSourceRepository.getRequisitionURL(foreignSourceName);
    }

