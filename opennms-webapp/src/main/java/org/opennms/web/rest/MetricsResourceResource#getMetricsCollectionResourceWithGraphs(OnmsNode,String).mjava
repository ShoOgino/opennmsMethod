    private Metrics getMetricsCollectionResourceWithGraphs(final OnmsNode node, final String reportCriteria) {
        LOG.debug("getGraphsCollectionResource: {}", reportCriteria);

        OnmsResource resource = m_resourceDao.getResourceForNode(node);
        Metrics metrics = new Metrics(node, resource, reportCriteria);
        for (MetricResource mr : metrics.getResourceList()) {
            for (Metric metric : mr.getMetricList()) {
                PrefabGraph[] queries = m_graphDao.getPrefabGraphsForResource(metric.getResource());
                for (PrefabGraph query : queries) {
                    metric.addGraph(query.getName());
                }

            }
        }

        return metrics;
    }

