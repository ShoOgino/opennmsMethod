        public Metrics(final OnmsNode node, final OnmsResource resource, final String reportCriteria) {
            m_nodeId = node.getId();
            m_resourceId = resource.getId();
            m_timestamp = new Date().getTime();
            String resourceName = resource.getId()+'.'+reportCriteria;

            /* we should order m_resources, nodeSnmp should always be first? */
            for (OnmsResource childResource : resource.getChildResources()) {
                LOG.debug("comparing child resource: '{}' to '{}'", childResource.getId(), resourceName);
                if ("*".equals(reportCriteria) || childResource.getId().equals(resourceName)) {
                    LOG.debug("found child resource: '{}' to '{}'", childResource.getId(), resourceName);
                    OnmsResourceType type = childResource.getResourceType();
                    boolean found = false;
                    for (MetricResource mr : m_resources) {
                        if (mr.getName().equals(type.getName())) {
                            found = true;
                            mr.addMetric(new Metric(childResource));
                            break;
                        }
                    }
                    if (!found) {
                        MetricResource mr = new MetricResource(type);
                        m_resources.add(mr);
                        mr.addMetric(new Metric(childResource));

                    }
                }
            }
        }

