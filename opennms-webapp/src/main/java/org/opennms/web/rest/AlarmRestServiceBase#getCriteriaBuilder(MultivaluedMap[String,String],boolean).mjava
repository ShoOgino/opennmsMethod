	protected CriteriaBuilder getCriteriaBuilder(final MultivaluedMap<String, String> params, final boolean stripOrdering) {
		translateSeverity(params);

    	final CriteriaBuilder cb = new CriteriaBuilder(OnmsAlarm.class);

    	applyQueryFilters(params, cb);
    	if (stripOrdering) {
    		cb.clearOrder();
    		cb.limit(DEFAULT_LIMIT);
    		cb.offset(0);
    	}
    	cb.distinct();

    	return cb;
	}

