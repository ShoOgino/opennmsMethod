    protected AlarmStatistics getStats(final OnmsSeverity severity) {
        final AlarmStatistics stats = new AlarmStatistics();

        final OnmsCriteria criteria;
        if (severity == null) {
            criteria = getQueryFilters(m_uriInfo.getQueryParameters(), true);
        } else {
            criteria = new OnmsCriteria(OnmsAlarm.class);
            criteria.add(Restrictions.eq("severity", severity));
        }
        final int count = m_statisticsService.getTotalCount(criteria);
        stats.setTotalCount(count);
        stats.setAcknowledgedCount(m_statisticsService.getAcknowledgedCount(criteria));

        stats.setNewestAcknowledged(getNewestAcknowledged(severity));
        stats.setNewestUnacknowledged(getNewestUnacknowledged(severity));
        stats.setOldestAcknowledged(getOldestAcknowledged(severity));
        stats.setOldestUnacknowledged(getOldestUnacknowledged(severity));

        return stats;
    }

