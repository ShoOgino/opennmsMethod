        public Requisition getActiveRequisition(boolean createIfMissing) {

            if (m_pending != null) {
                return m_pending;
            }

            Requisition pending = getPendingForeignSourceRepository().getRequisition(m_foreignSource);
            Requisition deployed = getDeployedForeignSourceRepository().getRequisition(m_foreignSource);

            if (pending == null && deployed == null && createIfMissing) {
                return new Requisition(m_foreignSource);
            } else if (pending == null) {
                return deployed;
            } else if (deployed == null) {
                return pending;
            } else if (deployed.getDateStamp().compare(pending.getDateStamp()) > -1) {
                // deployed is newer than pending
                return deployed;
            }
            return pending;
        }

