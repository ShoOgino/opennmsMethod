    /**
     * Creates the java-script String for "createFavorite" and "deleteFavorite".
     * @return
     */
    private String getScriptString() {
        /* /opennms/event/createFavorite?...&favoriteName="" */
        final String createFavoriteUrl = MessageFormat.format(
                "{0}{1}?{2}&favoriteName=",
                getUrlBase(),
                getCreateFilterController(),
                getFiltersAsStringWithoutLeadingFilter());

        /* /opennms/event/deleteFavorite?...&favoriteName="" */
        final String deleteFavoriteUrl = MessageFormat.format("{0}{1}?{2}&favoriteId=",
                getUrlBase(),
                getDeleteFilterController(),
                getFiltersAsStringWithoutLeadingFilter());

        return JAVASCRIPT_TEMPLATE
                .replaceAll("\\{DEFAULT_FAVORITE\\}", getDefaultFavoriteName())
                .replaceAll("\\{CREATE_FAVORITE_URL\\}", createFavoriteUrl)
                .replaceAll("\\{DELETE_FAVORITE_URL\\}", deleteFavoriteUrl);
    }

