    /**
     * Returns a favorite only if the given user is allowed to see that favorite and if the given filterString matches with the stored filter criteria inside the favorite.
     * If the favorite does not exist for the user or the filter criteria does not match null is return.
     *
     * @param favoriteId   The id of the favorite.
     * @param username     The username which tries to load the favorite.
     * @param filterString The expected filter criteria.
     * @return The requested favorite or null.
     */
    public OnmsFilterFavorite getFavorite(String favoriteId, String username, String filterString) {
        OnmsFilterFavorite favorite = getFavorite(favoriteId, username);
        if (favorite == null) return null;
        if (favorite.getFilter().equals(unescapeAndDecode(filterString))) {
            return favorite;
        }
        return null;
    }

