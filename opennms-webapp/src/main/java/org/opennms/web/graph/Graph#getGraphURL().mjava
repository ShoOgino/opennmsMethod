    public String getGraphURL()
                throws SQLException, UnsupportedEncodingException {

	String rrdParm = getRRDParmString();
	String externalValuesParm = encodeExternalValuesAsParmString();

	String url = "graph/graph.png"
	       + "?report="
	       + getName()
	       + "&type=" + m_model.getType()
	       + "&start=" + m_start.getTime()
	       + "&end=" + m_end.getTime()
	       + "&" + rrdParm
	       + "&" + externalValuesParm;

	// XXX This is such a hack.  This logic should *not* be in here.
	if (m_model.getType() == "performance") {
            if (m_nodeId > -1) {
	        url = url + "&" + m_nodeId + "/strings.properties";
            } else if (m_domain != null) {
	        url = url + "&" + m_domain + "/strings.properties";
            }
	}

	return url;
    }

