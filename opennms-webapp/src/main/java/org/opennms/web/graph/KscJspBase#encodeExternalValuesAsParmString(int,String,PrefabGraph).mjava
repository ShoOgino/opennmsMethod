    /**
     * currently only know how to handle ifSpeed external value; intf can be
     * null
     */
    public String encodeExternalValuesAsParmString(int nodeId, String intf,
            PrefabGraph graph) throws SQLException {
        if (graph == null) {
            throw new IllegalArgumentException("Cannot take null parameters.");
        }

        String parmString = "";
        String[] externalValues = graph.getExternalValues();

        if (externalValues != null && externalValues.length > 0) {
            StringBuffer buffer = new StringBuffer();

            for (int i = 0; i < externalValues.length; i++) {
                if ("ifSpeed".equals(externalValues[i])) {
                    String speed = this.getIfSpeed(nodeId, intf);

                    if (speed != null) {
                        buffer.append(externalValues[i]);
                        buffer.append("=");
                        buffer.append(speed);
                        buffer.append("&");
                    }
                } else {
                    throw new IllegalStateException(
                            "Unsupported external value name: "
                                    + externalValues[i]);
                }
            }

            parmString = buffer.toString();
        }

        return parmString;
    }

