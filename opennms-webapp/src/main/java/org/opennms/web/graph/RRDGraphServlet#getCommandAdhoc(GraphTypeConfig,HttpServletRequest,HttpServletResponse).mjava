    public String getCommandAdhoc(GraphTypeConfig config,
			          HttpServletRequest request,
			          HttpServletResponse response)
		throws ServletException {
	String rrdDir = request.getParameter("rrddir");
        String start = request.getParameter("start");
        String end = request.getParameter("end");

        if (rrdDir == null || start == null || end == null) {
            return null;
        }

        if (!RrdFileConstants.isValidRRDName(rrdDir)) {
            log("Illegal RRD directory: " + rrdDir);
            throw new IllegalArgumentException("Illegal RRD directory: " + rrdDir);
        }

        return createAdHocCommand(request, config, rrdDir, start, end);
    }

