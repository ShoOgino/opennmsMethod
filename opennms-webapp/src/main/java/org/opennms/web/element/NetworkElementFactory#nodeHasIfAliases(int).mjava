    /**
     * Returns true if node has any snmpIfAliases
     *
     * @Param nodeId
     *               The nodeId of the node we are looking at
     *               the ifAlias string we are looking for
     * @return boolean
     *               true if node has any snmpIfAliases
     */
    public static boolean nodeHasIfAliases(int nodeId) throws SQLException {

        boolean hasAliases = false;

        if (nodeId > 0) {
            final DBUtils d = new DBUtils(NetworkElementFactory.class);
            try {
                Connection conn = Vault.getDbConnection();
                d.watch(conn);
                PreparedStatement stmt = conn.prepareStatement("SELECT ID FROM IPINTERFACE WHERE NODEID = ? AND IFINDEX IN (SELECT SNMPIFINDEX FROM SNMPINTERFACE WHERE SNMPIFALIAS ILIKE '%_%' AND IPINTERFACE.NODEID=SNMPINTERFACE.NODEID) AND ISMANAGED != 'D'");
                d.watch(stmt);
                stmt.setInt(1, nodeId);
                ResultSet rs = stmt.executeQuery();
                d.watch(rs);
                
                if (rs.next()) {
                    hasAliases = true;
                }
            } finally {
                d.cleanUp();
            }
        }

        return hasAliases;
    }

