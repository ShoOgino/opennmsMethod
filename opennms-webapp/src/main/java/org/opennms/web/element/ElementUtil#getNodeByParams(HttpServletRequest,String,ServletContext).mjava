    /**
     * <p>getNodeByParams</p>
     *
     * @param request a {@link javax.servlet.http.HttpServletRequest} object.
     * @param nodeLookupParam a {@link java.lang.String} object.
     * @return a {@link OnmsNode} object.
     * @throws javax.servlet.ServletException if any.
     * @throws java.sql.SQLException if any.
     */
    public static OnmsNode getNodeByParams(HttpServletRequest request,
            String nodeLookupParam, ServletContext servletContext) throws ServletException, SQLException {
        if (request.getParameter(nodeLookupParam) == null) {
            throw new MissingParameterException(nodeLookupParam, new String[] { "node" });
        }

        String nodeLookupString = request.getParameter(nodeLookupParam);
        if (!nodeLookupString.contains(":")) {
            try {
                Integer.parseInt(nodeLookupString);
            } catch (NumberFormatException e) {
                throw new ElementIdNotFoundException("Wrong data type for \""
                        + nodeLookupString + "\", should be integer", nodeLookupString, 
                        "node", "element/node.jsp", "node", "element/nodeList.htm");
            }
        }

        OnmsNode node = NetworkElementFactory.getInstance(servletContext).getNode(nodeLookupString);

        if (node == null) {
            throw new ElementNotFoundException("No such node in database", "node", "element/node.jsp", "node", "element/nodeList.htm");
        }
        
        return node;
    }

