    /**
     * {@inheritDoc}
     */
    @Override
    public AssetCommand getAssetByNodeId(int nodeId) {
        AssetCommand assetCommand = new AssetCommand();
        this.m_onmsNode = this.m_nodeDao.get(nodeId);
        this.m_onmsAssetRecord = this.m_onmsNode.getAssetRecord();
        logger.debug("onmsAssetRecord '{}'", m_onmsAssetRecord);
        // copy all assetRecord properties to assetCommand for gui
        BeanUtils.copyProperties(this.m_onmsAssetRecord, assetCommand);

        //This manual null to "" settings is to prevent problems caused by different behavior of browsers in null handling in select boxes
        if (assetCommand.getConnection() == null) {
            assetCommand.setConnection("");
        }
        if (assetCommand.getAutoenable() == null) {
            assetCommand.setAutoenable("");
        }


        // set node specific properties for the asset node page
        assetCommand.setSnmpSysContact(this.m_onmsNode.getSysContact());
        assetCommand.setSnmpSysDescription(this.m_onmsNode.getSysDescription());
        assetCommand.setSnmpSysLocation(this.m_onmsNode.getSysLocation());
        assetCommand.setSnmpSysName(this.m_onmsNode.getSysName());
        assetCommand.setSnmpSysObjectId(this.m_onmsNode.getSysObjectId());

        // set static arrays for gui options
        assetCommand.setAutoenableOptions(s_autoenableOptions);
        assetCommand.setConnectionOptions(s_connectionOptions);

        assetCommand.setNodeId(this.m_onmsNode.getNodeId());
        assetCommand.setNodeLabel(this.m_onmsNode.getLabel());

        // set user from web ui session
        assetCommand.setLoggedInUser(this.m_securityContext.getUsername());

        // This is a poor re-implementation of modify permission based on spring
        // roles
        if (this.m_securityContext.hasRole(ALLOW_EDIT_ROLE_ADMIN) || this.m_securityContext.hasRole(ALLOW_EDIT_ROLE_PROVISION)) {
            assetCommand.setAllowModify(true);
        } else {
            assetCommand.setAllowModify(false);
        }

        // assign the asset record back to the node
        this.m_onmsAssetRecord.setNode(this.m_onmsNode);

        logger.debug("assetCommand: '{}'", assetCommand);
        return assetCommand;
    }

