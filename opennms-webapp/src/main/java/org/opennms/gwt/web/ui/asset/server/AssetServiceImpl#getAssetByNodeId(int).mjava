    /**
     * {@inheritDoc}
     */
    @Override
    public AssetCommand getAssetByNodeId(int nodeId) {
        AssetCommand assetCommand = new AssetCommand();
        m_onmsNode = m_nodeDao.get(nodeId);
        m_onmsAssetRecord = m_onmsNode.getAssetRecord();
        logger.debug("onmsAssetRecord '{}'", m_onmsAssetRecord);
        // copy all assetRecord properties to assetCommand for gui
        BeanUtils.copyProperties(m_onmsAssetRecord, assetCommand);

        //This manual null to "" settings is to prevent problems caused by different behavior of browsers in null handling in select boxes
        if (assetCommand.getConnection() == null) {
            assetCommand.setConnection("");
        }
        if (assetCommand.getAutoenable() == null) {
            assetCommand.setAutoenable("");
        }


        // set node specific properties for the asset node page
        assetCommand.setSnmpSysContact(m_onmsNode.getSysContact());
        assetCommand.setSnmpSysDescription(m_onmsNode.getSysDescription());
        assetCommand.setSnmpSysLocation(m_onmsNode.getSysLocation());
        assetCommand.setSnmpSysName(m_onmsNode.getSysName());
        assetCommand.setSnmpSysObjectId(m_onmsNode.getSysObjectId());

        // set static arrays for gui options
        assetCommand.setAutoenableOptions(s_autoenableOptions);
        assetCommand.setConnectionOptions(s_connectionOptions);

        assetCommand.setNodeId(m_onmsNode.getNodeId());
        assetCommand.setNodeLabel(m_onmsNode.getLabel());

        // set user from web ui session
        assetCommand.setLoggedInUser(m_securityContext.getUsername());

        // This is a poor re-implementation of modify permission based on spring
        // roles
        if (m_securityContext.hasRole(Authentication.ROLE_ADMIN) || m_securityContext.hasRole(Authentication.ROLE_PROVISION)) {
            assetCommand.setAllowModify(true);
        } else {
            assetCommand.setAllowModify(false);
        }

        // assign the asset record back to the node
        m_onmsAssetRecord.setNode(m_onmsNode);

        logger.debug("assetCommand: '{}'", assetCommand);
        return assetCommand;
    }

