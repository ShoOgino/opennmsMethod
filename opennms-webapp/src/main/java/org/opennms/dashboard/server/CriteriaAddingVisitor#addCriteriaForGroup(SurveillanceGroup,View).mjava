    private void addCriteriaForGroup(SurveillanceGroup group, View view) {
        List<Category> categories = null;
        if (group.isColumn()) {
            List<ColumnDef> columnDefs = getColumnDefs(view.getColumns());
            for (ColumnDef columnDef : columnDefs) {
                if (group.getLabel().equals(columnDef.getLabel())) {
                    categories = getCategories(columnDef);
                    break;
                }
            }
        } else {
            List<RowDef> rowDefs = getRowDefs(view.getRows());
            for (RowDef rowDef : rowDefs) {
                if (group.getLabel().equals(rowDef.getLabel())) {
                    categories = getCategories(rowDef);
                    break;
                }
            }
        }
        
        if (categories == null) {
            throw new IllegalArgumentException("Couldn't find categories for group " + group);
        }
        
        List<String> categoryNames = new ArrayList<String>(categories.size());
        for (Category category : categories) {
            categoryNames.add(category.getName());
        }
        
        addCriteriaForCategories(m_criteria, categoryNames.toArray(new String[categoryNames.size()]));
    }

