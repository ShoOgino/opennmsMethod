    private View getView() {
        String user = getUsername();
        log().debug("Looking for surveillance view that matches user '" + user + "'");
        
        View userView = m_surveillanceViewConfigDao.getView(user);
        if (userView != null) {
            log().debug("Found surveillance view '" + userView.getName() + "' matching user name '" + user + "'");
            return userView;
        }
        
        List<Group> groups = m_groupDao.findGroupsForUser(user);
        for (Group group : groups) {
            View groupView = m_surveillanceViewConfigDao.getView(group.getName());
            if (groupView != null) {
                log().debug("Found surveillance view '" + groupView.getName() + "' matching group '" + group.getName() + "' name for user '" + user + "'");
                return groupView;
            }
        }
        
        View defaultView = m_surveillanceViewConfigDao.getDefaultView();
        if (defaultView == null) {
            String message = "There is no default surveillance view and we could not find a surviellance view for the user's username ('" + user + "') or any of their groups";
            log().warn(message);
            throw new ObjectRetrievalFailureException(View.class, message);
        }
        
        log().debug("Did not find a surveillance view matching the user's user name or one of their group names.  Using the default view for user '" + user + "'");
        return defaultView;
    }

