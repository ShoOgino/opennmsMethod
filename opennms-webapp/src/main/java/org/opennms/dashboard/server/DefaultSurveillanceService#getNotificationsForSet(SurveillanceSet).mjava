    public Notification[] getNotificationsForSet(SurveillanceSet set) {
        OnmsCriteria criteria = new OnmsCriteria(OnmsNotification.class, "notification");
        OnmsCriteria nodeCriteria = criteria.createCriteria("node");
        addCriteriaForSurveillanceSet(nodeCriteria, set);
        nodeCriteria.add(Restrictions.ne("type", "D"));
        criteria.setFetchMode("notification.event", FetchMode.JOIN);
        criteria.addOrder(Order.desc("notification.pageTime"));
        
        List<OnmsNotification> notifications = m_notificationDao.findMatching(criteria);

        Notification[] notifArray = new Notification[notifications.size()];
        
        int index = 0;
        for (OnmsNotification notification : notifications) {
            notifArray[index++] = createNotification(notification);
        }
        
        return notifArray;
    }

