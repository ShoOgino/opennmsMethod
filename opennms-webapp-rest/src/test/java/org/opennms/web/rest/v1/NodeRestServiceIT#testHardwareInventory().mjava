    @Test
    @JUnitTemporaryDatabase
    public void testHardwareInventory() throws Exception {
        // Try to fetch inventory on a non-existent node
        sendRequest(GET, "/nodes/1000000/hardwareInventory", 400);

        createIpInterface();
        byte[] encoded = Files.readAllBytes(Paths.get("src/test/resources/hardware-inventory.xml"));
        String entity = new String(encoded, "UTF-8");
        sendPost("/nodes/1/hardwareInventory", entity, 200, null);
        String xml = sendRequest(GET, "/nodes/1/hardwareInventory", 200);
        assertTrue(xml, xml.contains("Cisco 7206VXR, 6-slot chassis"));

        xml = sendRequest(GET, "/nodes/1/hardwareInventory/42", 200);
        assertTrue(xml, xml.contains("Cisco 7200 AC Power Supply"));

        Map<String, String> params = new HashMap<String,String>();
        params.put("entPhysicalSerialNum", "123456789");
        params.put("ceExtProcessorRam", "256MB");
        sendRequest(PUT, "/nodes/1/hardwareInventory/9", params, 200);
        xml = sendRequest(GET, "/nodes/1/hardwareInventory/9", 200);
        assertTrue(xml, xml.contains("<entPhysicalSerialNum>123456789</entPhysicalSerialNum>"));
        assertTrue(xml, xml.contains("value=\"256MB\""));

        sendPost("/nodes/1/hardwareInventory/9", "<hwEntity entPhysicalIndex=\"200\"><entPhysicalName>Sample1</entPhysicalName></hwEntity>", 200, null);
        sendPost("/nodes/1/hardwareInventory/9", "<hwEntity entPhysicalIndex=\"17\"><entPhysicalName>Sample2</entPhysicalName></hwEntity>", 200, null);
        xml = sendRequest(GET, "/nodes/1/hardwareInventory/9", 200);
        assertTrue(xml, xml.contains("Sample1"));
        assertTrue(xml, xml.contains("Sample2"));

        sendRequest(DELETE, "/nodes/1/hardwareInventory/9", 200);
        sendRequest(GET, "/nodes/1/hardwareInventory/9", 400);
    }

