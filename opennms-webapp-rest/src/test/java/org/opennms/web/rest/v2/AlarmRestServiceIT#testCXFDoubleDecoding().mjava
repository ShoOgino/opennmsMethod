    @Test
    public void testCXFDoubleDecoding() throws Exception {
        sendRequest(GET, "/alarms", parseParamData("_s=alarm.lastEventTime==1970-01-01T00:00:00.000+0000"), 500); // + turns to space
        sendRequest(GET, "/alarms", parseParamData("_s=alarm.lastEventTime==1970-01-01T00:00:00.000%2B0000"), 500); // %2B turns to space in the servlet handler
        executeQueryAndVerify("_s=alarm.lastEventTime==1970-01-01T00:00:00.000%252B0000", 0);
        executeQueryAndVerify("_s=alarm.lastEventTime=ge=1970-01-01T00:00:00.000%252B0000", 8);
        executeQueryAndVerify("_s=alarm.lastEventTime=lt=1970-01-01T00:00:00.003%252B0000", 3);
        executeQueryAndVerify("_s=node.label==*%C3%AA*", 1); // "ê" url-encoded
        executeQueryAndVerify("_s=node.label==*ê*", 1);
        executeQueryAndVerify("_s=node.label==*%20*", 0); // this will turn to space in the servlet handler
        executeQueryAndVerify("_s=node.label==*%2520*", 0); // this will turn to space in CXF
        executeQueryAndVerify("_s=node.label==*%252520*", 1); // the string "%20"
        executeQueryAndVerify("_s=node.label==*+*", 0); // this will turn to space in the servlet handler
        executeQueryAndVerify("_s=node.label==*%252B*", 1); // this will turn to +
        executeQueryAndVerify("_s=node.label!=%00", 8); // null is url-encoded as %00
        executeQueryAndVerify("_s=id!=%00", 8); // null is url-encoded as %00
    }

