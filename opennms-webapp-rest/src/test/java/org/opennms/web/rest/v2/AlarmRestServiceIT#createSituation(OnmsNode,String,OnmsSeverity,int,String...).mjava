    private void createSituation(OnmsNode node, String eventUei, OnmsSeverity severity, int epoch, String... related) {
        // create the alarm
        createAlarm(node, eventUei, severity, epoch);
        // retrieve it and add the related alarms
        OnmsAlarm situation = m_databasePopulator.getAlarmDao().findByReductionKey(getReductionKey(eventUei, node, NODE_1_IP, ICMP_SERVICE));
        Set<OnmsAlarm> relatedAlarms = new HashSet<>();
        for (String reductionKey : related) {
            OnmsAlarm alarm = m_databasePopulator.getAlarmDao().findByReductionKey(reductionKey);
            relatedAlarms.add(alarm);
        }
        situation.setRelatedAlarms(relatedAlarms);
        m_databasePopulator.getAlarmDao().save(situation);
        m_databasePopulator.getAlarmDao().flush();
    }

