    @Test
    @JUnitTemporaryDatabase
    public void testIpInterfaceLimit() throws Exception{
        createTwoIpInterface();
        final String url = "/nodes/1/ipinterfaces";
        String xml = sendRequest(GET, url, parseParamData("limit=1"), 200);
        assertTrue(xml.contains("count=\"1\""));
        
        sendPut(url + "/10.10.10.10", "isManaged=U", 204);
        xml = sendRequest(GET, url + "/10.10.10.10", 200);
        assertTrue(xml.contains("isManaged=\"U\""));

        m_mockEventIpcManager.getEventAnticipator().reset();
        m_mockEventIpcManager.getEventAnticipator().anticipateEvent(new EventBuilder(EventConstants.DELETE_INTERFACE_EVENT_UEI, "Test")
                                                                            .setNodeid(1)
                                                                            .setInterface(InetAddressUtils.addr("10.10.10.10"))
                                                                            .getEvent());

        sendRequest(DELETE, url + "/10.10.10.10", 204);

        m_mockEventIpcManager.getEventAnticipator().waitForAnticipated(10000);
        m_mockEventIpcManager.getEventAnticipator().verifyAnticipated();
    }

