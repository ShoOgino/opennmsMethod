    @Test
    public void canCreateAndReadUserDefinedLinks() throws Exception {
        // GET all UDLs, there shouldn't be any yet
        MockHttpServletRequest request = createRequest(m_servletContext, GET, "/userdefinedlinks");
        sendRequest(request, 204);

        // Create a UDL
        final OnmsNode node1 = m_databasePopulator.getNode1();
        final OnmsNode node2 = m_databasePopulator.getNode2();
        String linkJson = "{\n" +
                "      \"node-id-a\": " + node1.getId() + ",\n" +
                "      \"component-label-a\": \"labela\",\n" +
                "      \"node-id-z\": " + node2.getId() + ",\n" +
                "      \"component-label-z\": \"labelb\",\n" +
                "      \"link-id\": \"linkid\",\n" +
                "      \"link-label\": \"my link\",\n" +
                "      \"owner\": \"me\"\n" +
                "}\n";
        sendData(POST, MediaType.APPLICATION_JSON, "/userdefinedlinks", linkJson, 201);

        // Now retrieve all of the UDLs again
        List<UserDefinedLink> udls = getAllUserDefinedLinks();
        // There should be one
        assertThat(udls, hasSize(1));
        // It should be the one we just created
        assertThat(udls.get(0).getLinkLabel(), equalTo("my link"));
        assertThat(udls.get(0).getOwner(), equalTo("me"));
    }

