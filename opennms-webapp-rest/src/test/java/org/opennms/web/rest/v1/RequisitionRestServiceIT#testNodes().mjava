    @Test
    public void testNodes() throws Exception {
        createRequisition();

        String url = "/requisitions/test/nodes";

        // create a node
        sendPost(url, "<node xmlns=\"http://xmlns.opennms.org/xsd/config/model-import\" node-label=\"shoe\" parent-node-label=\"david\" foreign-id=\"1111\" />", 202, "/test/nodes/1111");

        // get list of nodes
        String xml = sendRequest(GET, url, 200);
        assertTrue(xml.contains("<node "));
        assertTrue(xml.contains("node-label="));
        assertTrue(xml.contains("count=\"2\""));
        
        // get individual node
        url = "/requisitions/test/nodes/4243";
        xml = sendRequest(GET, url, 200);
        System.err.println(xml);
        assertTrue(xml.contains(" parent-node-label=\"apknd\""));
        assertTrue(xml.contains(" node-label=\"david\"")); // The white space is required to avoid match parent-node-label
        
        // set attributes
        sendPut(url, "node-label=homo+sapien", 202, "/nodes/4243");
        xml = sendRequest(GET, url, 200);
        assertTrue(xml.contains("node-label=\"homo sapien\""));

        // delete node
        xml = sendRequest(DELETE, url, 202);
        xml = sendRequest(GET, url, 404);
    }

