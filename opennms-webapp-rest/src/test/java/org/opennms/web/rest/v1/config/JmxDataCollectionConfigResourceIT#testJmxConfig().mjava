    @Test
    public void testJmxConfig() throws Exception {
        sendRequest(GET, "/config/jmx/notfound", 404);

        String xml = sendRequest(GET, "/config/jmx", 200);
        JmxDatacollectionConfig config = JaxbUtils.unmarshal(JmxDatacollectionConfig.class, xml);

        assertNotNull(config);

        assertEquals(4, config.getJmxCollectionCount());
        assertEquals(config.getJmxCollection(0).getRrd().getStep(), 300);
        assertEquals("jboss", config.getJmxCollection(0).getName());
        assertEquals(4, config.getJmxCollection("jboss").getMbeanCount());
        assertEquals(4, config.getJmxCollection(0).getMbeanCount());
        assertEquals(config.getJmxCollection(1).getRrd().getStep(), 300);
        assertEquals("jsr160", config.getJmxCollection(1).getName());
        assertEquals(37, config.getJmxCollection("jsr160").getMbeanCount());
        assertEquals(37, config.getJmxCollection(1).getMbeanCount());

        assertEquals(config.getJmxCollection(2).getRrd().getStep(), 300);
        assertEquals("cassandra30x", config.getJmxCollection(2).getName());

        assertEquals(config.getJmxCollection(3).getRrd().getStep(), 300);
        assertEquals("cassandra30x-newts", config.getJmxCollection(3).getName());
    }

