    @Override
    protected void afterServletStart() throws Exception {
        MockLogAppender.setupLogging(true, "DEBUG");
        databasePopulator.populateDatabase();

        final OnmsMonitoringLocation onmsMonitoringLocation = new OnmsMonitoringLocation();
        onmsMonitoringLocation.setLocationName("Fulda");
        onmsMonitoringLocation.setMonitoringArea("Hessen");
        onmsMonitoringLocation.setPriority(100L);
        this.databasePopulator.getMonitoringLocationDao().save(onmsMonitoringLocation);

        rdu = this.databasePopulator.getMonitoringLocationDao().get("RDU");
        fulda = this.databasePopulator.getMonitoringLocationDao().get("Fulda");

        final List<OnmsMonitoredService> onmsMonitoredServices = this.databasePopulator.getMonitoredServiceDao().findAll();
        app1Service1 = onmsMonitoredServices.get(0);
        app1Service2 = onmsMonitoredServices.get(1);
        app2Service1 = onmsMonitoredServices.get(2);
        app2Service2 = onmsMonitoredServices.get(3);

        final OnmsApplication app1 = new OnmsApplication();
        app1.setName("APP1");
        app1Id = this.applicationDao.save(app1);

        final OnmsApplication app2 = new OnmsApplication();
        app2.setName("APP2");
        app2Id = this.applicationDao.save(app2);

        app1Service1.setApplications(Sets.newHashSet(app1));
        app1Service2.setApplications(Sets.newHashSet(app1));
        this.databasePopulator.getMonitoredServiceDao().saveOrUpdate(app1Service1);
        this.databasePopulator.getMonitoredServiceDao().saveOrUpdate(app1Service2);

        app2Service1.setApplications(Sets.newHashSet(app2));
        app2Service2.setApplications(Sets.newHashSet(app2));
        this.databasePopulator.getMonitoredServiceDao().saveOrUpdate(app2Service1);
        this.databasePopulator.getMonitoredServiceDao().saveOrUpdate(app2Service2);

        // this should be 50% for the period of 10000-19999
        addLocationSpecificStatus(rdu, app1Service1, PollStatus.SERVICE_AVAILABLE, 1500);
        addLocationSpecificStatus(rdu, app1Service1, PollStatus.SERVICE_UNAVAILABLE, 2000);
        addLocationSpecificStatus(rdu, app1Service2, PollStatus.SERVICE_AVAILABLE, 2500);
        addLocationSpecificStatus(rdu, app1Service2, PollStatus.SERVICE_UNAVAILABLE, 3000);

        addLocationSpecificStatus(rdu, app1Service2, PollStatus.SERVICE_AVAILABLE, 9000);
        addLocationSpecificStatus(rdu, app1Service1, PollStatus.SERVICE_AVAILABLE, 9500);
        addLocationSpecificStatus(rdu, app1Service1, PollStatus.SERVICE_UNAVAILABLE, 10500);
        addLocationSpecificStatus(rdu, app1Service1, PollStatus.SERVICE_AVAILABLE, 11500);
        addLocationSpecificStatus(rdu, app1Service1, PollStatus.SERVICE_UNAVAILABLE, 12500);
        addLocationSpecificStatus(rdu, app1Service1, PollStatus.SERVICE_AVAILABLE, 13500);
        addLocationSpecificStatus(rdu, app1Service1, PollStatus.SERVICE_UNAVAILABLE, 14500);
        addLocationSpecificStatus(rdu, app1Service1, PollStatus.SERVICE_AVAILABLE, 15500);
        addLocationSpecificStatus(rdu, app1Service1, PollStatus.SERVICE_UNAVAILABLE, 16500);
        addLocationSpecificStatus(rdu, app1Service1, PollStatus.SERVICE_AVAILABLE, 17500);
        addLocationSpecificStatus(rdu, app1Service1, PollStatus.SERVICE_UNAVAILABLE, 18500);
        addLocationSpecificStatus(rdu, app1Service1, PollStatus.SERVICE_AVAILABLE, 19500);

        addLocationSpecificStatus(rdu, app1Service1, PollStatus.SERVICE_AVAILABLE, 21500);
        addLocationSpecificStatus(rdu, app1Service1, PollStatus.SERVICE_UNAVAILABLE, 22000);
        addLocationSpecificStatus(rdu, app1Service2, PollStatus.SERVICE_AVAILABLE, 22500);
        addLocationSpecificStatus(rdu, app1Service2, PollStatus.SERVICE_UNAVAILABLE, 23000);

        // this should be 25% for the period of 10000-19999
        addLocationSpecificStatus(fulda, app1Service2, PollStatus.SERVICE_AVAILABLE, 9000);
        addLocationSpecificStatus(fulda, app1Service1, PollStatus.SERVICE_AVAILABLE, 9500);
        addLocationSpecificStatus(fulda, app1Service1, PollStatus.SERVICE_UNAVAILABLE, 10500);
        addLocationSpecificStatus(fulda, app1Service1, PollStatus.SERVICE_AVAILABLE, 11500);
        addLocationSpecificStatus(fulda, app1Service1, PollStatus.SERVICE_UNAVAILABLE, 12500);
        addLocationSpecificStatus(fulda, app1Service1, PollStatus.SERVICE_AVAILABLE, 13500);
        addLocationSpecificStatus(fulda, app1Service1, PollStatus.SERVICE_UNAVAILABLE, 14500);
        addLocationSpecificStatus(fulda, app1Service1, PollStatus.SERVICE_AVAILABLE, 15500);
        addLocationSpecificStatus(fulda, app1Service1, PollStatus.SERVICE_UNAVAILABLE, 16500);
        addLocationSpecificStatus(fulda, app1Service1, PollStatus.SERVICE_AVAILABLE, 17500);
        addLocationSpecificStatus(fulda, app1Service1, PollStatus.SERVICE_UNAVAILABLE, 18500);
        addLocationSpecificStatus(fulda, app1Service1, PollStatus.SERVICE_AVAILABLE, 19500);
        addLocationSpecificStatus(fulda, app1Service2, PollStatus.SERVICE_UNAVAILABLE, 15000);
    }

