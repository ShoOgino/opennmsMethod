	@Override
	protected CriteriaBuilder getCriteriaBuilder() {
		final CriteriaBuilder builder = new CriteriaBuilder(OnmsNotification.class);
		builder.alias("node", "node", JoinType.LEFT_JOIN);
		// Left joins on a toMany relationship need a join condition so that only one row is returned
		builder.alias("node.ipInterfaces", "ipInterface", JoinType.LEFT_JOIN, Restrictions.or(Restrictions.eq("ipAddress", "ipInterface.ipAddress"), Restrictions.isNull("ipAddress")));
		builder.alias("event", "event", JoinType.LEFT_JOIN);
		builder.alias("serviceType", "serviceType", JoinType.LEFT_JOIN);

		// Order by ID by default
		builder.orderBy("notifyId").desc();

		return builder;
	}

