    /**
     * Sets the end2end mail configuration.
     * <p>If there is a end2end configuration with the same name, the existing one will be overridden.</p>
     *
     * @param uriInfo the URI info
     * @param end2endMailConfig the end2end mail configuration
     * @return the response
     */
    @POST
    @Path("end2ends/{end2endConfig}")
    @Consumes({MediaType.APPLICATION_XML, MediaType.APPLICATION_JSON, MediaType.APPLICATION_ATOM_XML})
    public Response setEnd2EndMailConfiguration(@Context final UriInfo uriInfo, final End2endMailConfig end2endMailConfig) {
        writeLock();
        try {
            m_javamailConfigurationDao.addEnd2endMailConfig(end2endMailConfig);
            saveConfiguration();
            return Response.seeOther(getRedirectUri(uriInfo)).build();
        } finally {
            writeUnlock();
        }
    }

