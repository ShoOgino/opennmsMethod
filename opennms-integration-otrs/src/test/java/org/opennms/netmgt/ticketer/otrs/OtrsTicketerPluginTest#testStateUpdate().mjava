	public void testStateUpdate() throws InterruptedException {
		
		m_ticketer.saveOrUpdate(m_ticket);
		
		// my new ticket should be open

		assertEquals(m_ticket.getState(),Ticket.State.OPEN);
		
		// set it cancelled
		
		m_ticket.setState(Ticket.State.CANCELLED);
		
		// and save it
		
		m_ticketer.saveOrUpdate(m_ticket);
		
		// sleep for a bit
		
		Thread.sleep(100);
		
		// get a new copy
		
		Ticket retrievedTicket = m_ticketer.get(m_ticket.getId());
		
		// my new copy should be closed
		
        assertEquals(retrievedTicket.getState(),Ticket.State.CANCELLED);
		
	}

