    private void testImportFromSpecFile(Resource specFileResource) throws IOException, ModelImportException {
        expectServiceTypeCreate("HTTP");
        final SpecFile specFile = new SpecFile();
        specFile.loadResource(specFileResource);

        Map assetNumbers = (Map)m_transTemplate.execute(new TransactionCallback() {
            public Object doInTransaction(TransactionStatus status) {
                return getAssetNumberMap();
            }
        });
        
        final ImportOperationsManager opsMgr = new ImportOperationsManager(assetNumbers, getModelImporter());
        
        m_transTemplate.execute(new TransactionCallback() {

            public Object doInTransaction(TransactionStatus status) {
                ImportAccountant accountant = new ImportAccountant(opsMgr);
                specFile.visitImport(accountant);
                return null;
            }
            
        });
        
//        assertEquals(2, opsMgr.getDeleteCount());
//        assertEquals(2, opsMgr.getUpdateCount());
//        assertEquals(2, opsMgr.getInsertCount());
//        assertEquals(6, opsMgr.getOperationCount());
        
        opsMgr.persistOperations(m_transTemplate, getNodeDao());
        
    }

