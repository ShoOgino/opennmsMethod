    @Override
    public void tearDown() {
        getScheduler().shutdown();
        if (m_persistState != null && m_persistState) {
            if (getPendingTasksCount() > 0) {
                LOG.error("Cannot marshall state because there are pending time based tasks running.");
            } else {
                marshallStateToDisk(true);
            }
        }
    }

