        CorrelationEngine constructEngine(ApplicationContext parent) {
            ApplicationContext configContext = new ConfigFileApplicationContext(getConfigLocation(), parent);
            
            
            DroolsCorrelationEngine engine = new DroolsCorrelationEngine();
            engine.setName(getName());
            engine.setEventIpcManager(m_eventIpcManager);
            engine.setScheduler(new Timer(getName()+"-Timer"));
            engine.setInterestingEvents(getInterestingEvents());
            engine.setRulesResources(getRuleResources(configContext));
            engine.setGlobals(getGlobals(configContext));
            try {
                engine.initialize();
                return engine;
            } catch (Throwable e) {
                throw new RuntimeException("Unable to initialize Drools engine "+getName(), e);
            }
        }

