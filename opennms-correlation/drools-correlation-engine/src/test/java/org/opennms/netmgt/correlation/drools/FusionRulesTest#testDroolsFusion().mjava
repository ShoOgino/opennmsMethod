    @Test
    public void testDroolsFusion() throws Exception {
        
        anticipate(createNodeDownEvent(1));
        
        NodeService nodeService = m_mocks.createMock(NodeService.class);
        
        expect(nodeService.getParentNode(1L)).andReturn(null).atLeastOnce();
        
        m_mocks.replayAll();
        
        DroolsCorrelationEngine engine = findEngineByName("droolsFusion");
        
        engine.correlate(createNodeLostServiceEvent(1, "SSH"));

        m_anticipatedMemorySize = 2;
        
        m_mocks.verifyAll();
        verify(engine);
        
//        anticipate(createRootCauseResolvedEvent(1, 1));
        
    }

