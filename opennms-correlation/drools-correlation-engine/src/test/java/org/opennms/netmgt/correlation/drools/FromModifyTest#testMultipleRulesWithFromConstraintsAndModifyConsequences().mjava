    @Test
    public void testMultipleRulesWithFromConstraintsAndModifyConsequences() throws Exception {
        DroolsCorrelationEngine engine = findEngineByName("fromWithModifyRules");
        FactType testFactType = engine.getKieSession().getKieBase()
                .getFactType("org.opennms.netmgt.correlation.drools", "FromModifyTestFact");
        Object testFact = testFactType.newInstance();
        testFactType.set(testFact,"modified", "false");
        testFactType.set(testFact,"modifiedByRule", "");

        engine.getKieSession().insert(testFact);
        engine.getKieSession().fireAllRules();

        m_anticipatedMemorySize = 1;
        Object modifiedFact = ((InternalFactHandle) engine.getKieSession().getFactHandles().iterator().next()).getObject();
        assertEquals("FromModifyTestFact has the wrong 'modified' value", "true", testFactType.get(modifiedFact, "modified"));
        assertEquals("FromModifyTestFact has the wrong 'modifiedByRule' value", "A",
                testFactType.get(modifiedFact, "modifiedByRule"));
        verify(engine);
    }

