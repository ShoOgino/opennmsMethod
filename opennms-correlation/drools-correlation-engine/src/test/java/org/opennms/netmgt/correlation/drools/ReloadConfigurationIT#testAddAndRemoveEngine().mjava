    /**
     * Test add and remove engine.
     *
     * @throws Exception the exception
     */
    @Test
    public void testAddAndRemoveEngine() throws Exception {
        Collection<CorrelationEngine> engines = m_correlator.getEngines();
        Assert.assertNotNull(engines);
        Assert.assertEquals(1, engines.size());

        FileUtils.copyDirectory(new File(DROOLS_SRC, "persistState"), new File(DROOLS_HOME, "persistState"));
        sendReloadDaemonConfig();

        engines = m_correlator.getEngines();
        Assert.assertEquals(2, engines.size());

        FileUtils.deleteDirectory(new File(DROOLS_HOME, "simpleRules"));
        sendReloadDaemonConfig();

        engines = m_correlator.getEngines();
        Assert.assertEquals(1, engines.size());
    }

