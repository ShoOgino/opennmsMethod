    @Test
    public void loadsConfigFiles() throws IOException {
        JMXDataCollectionConfigDao dao = new JMXDataCollectionConfigDao();
        dao.setOpennmsHome(Paths.get(new File( "." ).getCanonicalPath(), "src/test/resources"));
        dao.getConfig();

        JmxDatacollectionConfig config = dao.getConfig();
        Assert.assertNotNull("JMX data collection should not be null", config);
        // These are declared in the top-level jmx-datacollection-config.xml file
        Assert.assertEquals(4, config.getJmxCollection("jboss").getMbeanCount());
        Assert.assertEquals(15, config.getJmxCollection("jsr160").getMbeanCount());
        // These are automatically included from the jmx-datacollection-config.d/ folder
        Assert.assertEquals(8, config.getJmxCollection("jboss-included").getMbeanCount());
        Assert.assertEquals(4, config.getJmxCollection("jsr160-included").getMbeanCount());
        // These beans should be imported for other files
        Assert.assertEquals(16, config.getJmxCollection("ActiveMQ").getMbeanCount());
    }

