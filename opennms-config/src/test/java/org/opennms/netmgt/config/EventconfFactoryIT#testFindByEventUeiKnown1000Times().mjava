    @Test
    public void testFindByEventUeiKnown1000Times() throws Exception {
    	
    	final int ATTEMPTS = 10000;

        // knownUEI1 is currently set to 'uei.opennms.org/internal/capsd/snmpConflictsWithDb'
        // and is defined in the root of the eventconf that is loaded bellow.
        // Prior to this commit, this test would produce very different results
        // when running against another UEI i.e. 'uei.opennms.org/default/event'
        // that happens to be the last event defined in the last included file
        EventBuilder bldr = new EventBuilder(knownUEI1, "testFindByEventUeiKnown");

    	DefaultEventConfDao eventConfDao = loadConfiguration("eventconf-speedtest/eventconf.xml");

    	Event eventConf = null;
		org.opennms.netmgt.xml.event.Event event = bldr.getEvent();
        long start = System.currentTimeMillis();
        for(int i = 0; i < ATTEMPTS; i++) {
			eventConf = eventConfDao.findByEvent(event);
        }
        long end = System.currentTimeMillis();
        long elapsed = end - start;
        System.err.printf("%d Attempts: Elapsed: %d ms: events per second %f.%n", ATTEMPTS, elapsed, ATTEMPTS*1000.0/elapsed);

        
        assertNotNull("returned event configuration for event with known UEI '" + knownUEI1 + "' should not be null", eventConf);
        assertEquals("UEI", bldr.getEvent().getUei(), eventConf.getUei());
    }

