    @Before
    public void setUp() throws Exception {
        MockLogAppender.setupLogging();

        final DataSource dsmock = Mockito.mock(DataSource.class);
        DataSourceFactory.setInstance(dsmock);

        final FilterDao filterdao = Mockito.mock(FilterDao.class);
        final List<InetAddress> addrs = Arrays.asList("192.168.1.1", "192.168.1.2", "192.168.1.3", "192.168.1.4", "192.168.1.5", "192.169.1.5", "123.12.123.121", "123.12.123.122").stream().map(InetAddressUtils::addr).collect(Collectors.toList());
        Mockito.when(filterdao.getActiveIPAddressList(Mockito.anyString())).thenReturn(addrs);
        FilterDaoFactory.setInstance(filterdao);

    }

