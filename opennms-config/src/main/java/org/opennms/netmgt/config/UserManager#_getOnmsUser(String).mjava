    private OnmsUser _getOnmsUser(final String username) throws IOException {
        final User xmlUser = _getUser(username);
        if (xmlUser == null) return null;

        final OnmsUser user = new OnmsUser(username);
        user.setFullName(trim(xmlUser.getFullName()));
        user.setComments(trim(xmlUser.getUserComments()));
        user.setPassword(xmlUser.getPassword().getEncryptedPassword());
        user.setPasswordSalted(Boolean.valueOf(xmlUser.getPassword().getSalt()));
        user.setDutySchedule(xmlUser.getDutySchedules());
        user.setRoles(xmlUser.getRoles());
        user.setEmail(_getContactInfo(xmlUser, ContactType.email));
        return user;
    }

