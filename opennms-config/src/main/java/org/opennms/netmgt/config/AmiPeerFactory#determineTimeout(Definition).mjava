    /**
     * Helper method to search the ami-config 
     * @param def
     * @return a long containing the timeout, AmiAgentConfig.DEFAULT_TIMEOUT if not specified.
     */
    private long determineTimeout(final Definition def) {
        if (def.getTimeout().isPresent() && def.getTimeout().get() != 0) {
            return def.getTimeout().get();
        } else if (m_config.getTimeout() != null && m_config.getTimeout() != 0) {
            return m_config.getTimeout();
        }
        return (long) AmiAgentConfig.DEFAULT_TIMEOUT;
    }

