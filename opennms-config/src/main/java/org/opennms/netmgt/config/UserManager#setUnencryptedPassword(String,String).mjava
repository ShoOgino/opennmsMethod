    /**
     * Sets the password for this user, first encrypting it
     *
     * @param userID
     *            the user ID to change the password for
     * @param aPassword
     *            the password
     * @throws java.lang.Exception if any.
     */
    public void setUnencryptedPassword(final String userID, final String aPassword) throws Exception {
        update();

        m_writeLock.lock();
        
        try {
            final User user =  m_users.get(userID);
            if (user != null) {
                final Password pass = new Password();
                pass.setEncryptedPassword(encryptedPassword(aPassword, true));
                pass.setSalt(true);
                user.setPassword(pass);
            }
        
            _saveCurrent();
        } finally {
            m_writeLock.unlock();
        }
    }

