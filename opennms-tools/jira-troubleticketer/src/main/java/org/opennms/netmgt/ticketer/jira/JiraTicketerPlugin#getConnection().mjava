    JiraConnection getConnection() {
        JiraConnection jira = new JiraConnection();
        JiraSoapServiceService jiraSoapServiceGetter = new JiraSoapServiceServiceLocator();


        URL jiraUrl = null;

        try {
            jiraUrl = new URL(getProperties().getProperty("jira.host"));
        } catch (MalformedURLException e) {
            log().error("Failed to parse url " + jiraUrl);
        }

        try {
            jira.setJira(jiraSoapServiceGetter.getJirasoapserviceV2(jiraUrl));
        } catch (Throwable e) {
            log().error("Failed initialzing JiraConnection" + e);
        }
	log().debug("Jira factory: " + jiraSoapServiceGetter.getJirasoapserviceV2Address());
        try {
            jira.setToken(jira.getJira().login(getProperties().getProperty("jira.username"), getProperties().getProperty("jira.password")));
        } catch (Throwable e) {
            log().error("Login failure: " + e);
        }

        return jira;
    }

