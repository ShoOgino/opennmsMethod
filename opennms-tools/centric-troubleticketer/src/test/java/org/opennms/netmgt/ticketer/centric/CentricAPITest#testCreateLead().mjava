    public void testCreateLead() {
       

        CRMConnection crm = createConnection();

        DataRecord contact = new DataRecord();
        contact.setName("contact");
        contact.setAction(DataRecord.INSERT);
        contact.setShareKey(true);
        contact.addField("nameFirst", "Jeff");
        contact.addField("nameLast", "Gehlbach");
        contact.addField("company", "Malta");
        contact.addField("title", "Knight of Order");
        contact.addField("source", "Always");
        contact.addField("isLead", "true");
        contact.addField("accessType", 2);
        contact.addField("leadStatus", 1);
        contact.addField("enteredBy", 0);
        contact.addField("modifiedBy", 0);
        assertTrue(crm.save(contact));

        // Transform the email
        DataRecord email = new DataRecord();
        email.setName("contactEmailAddress");
        email.setAction(DataRecord.INSERT);
        email.addField("email", "jeff@example.com");
        email.addField("contactId", "$C{contact.id}");
        email.addField("type", 1);
        email.addField("enteredBy", 0);
        email.addField("modifiedBy", 0);
        assertTrue(crm.save(email));
        
        
        commit(crm);
        
        
    }

