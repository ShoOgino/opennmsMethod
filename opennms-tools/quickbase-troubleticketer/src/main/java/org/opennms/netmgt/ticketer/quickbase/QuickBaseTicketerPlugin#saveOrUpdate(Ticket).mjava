    public void saveOrUpdate(Ticket ticket) {

	    try {
	        
	       Properties props = getProperties();
	       
	       QuickBaseClient qdb = createClient();
	       
	       String appName = "TPMG Support";
	       String dbId = qdb.findDbByName(appName);
	       
           HashMap<String, String> record = new HashMap<String, String>();
           
           record.put(getSummaryField(props), ticket.getSummary());
           record.put(getDetailsField(props), ticket.getDetails());
           record.put(getStateField(props), getQuickBaseStateValue(ticket.getState(), props));
           
	       if (ticket.getId() == null) {
	           addAdditionCreationFields(record, props);
	           String recordId = qdb.addRecord(dbId, record);
	           ticket.setId(recordId);
	       } else {
	           
	           
	           
	           qdb.editRecord(dbId, record, ticket.getId());
	       }
	       
	    } catch (Exception e) {
            throw new DataRetrievalFailureException("Failed to commit QuickBase transaction: "+e.getMessage(), e);
	    }
	        
	}

