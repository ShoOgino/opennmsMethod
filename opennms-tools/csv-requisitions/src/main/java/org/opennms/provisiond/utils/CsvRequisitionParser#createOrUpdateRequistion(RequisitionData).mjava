	private static void createOrUpdateRequistion(RequisitionData rd) throws UnknownHostException {
		Requisition r;
		String foreignSource = rd.getForeignSource();
		
		r = m_fsr.getRequisition(foreignSource);
		
		if (r== null) {
			r = new Requisition(foreignSource);
		}
		
		System.err.println("Creating/Updating requistion: "+foreignSource);
		
		r.updateDateStamp();
		
		RequisitionMonitoredServiceCollection services = new RequisitionMonitoredServiceCollection();
		services.add(new RequisitionMonitoredService("ICMP"));
		services.add(new RequisitionMonitoredService("SNMP"));
		
		RequisitionInterface iface = new RequisitionInterface();
		iface.setDescr("mgmt-if");
		iface.setIpAddr(rd.getPrimaryIp());
		iface.setManaged(true);
		iface.setSnmpPrimary(PrimaryType.PRIMARY);
		iface.setStatus(Integer.valueOf(1));
		iface.setMonitoredServices(services);
		
		RequisitionInterfaceCollection ric = new RequisitionInterfaceCollection();
		ric.add(iface);
		
		//RequisitionAssetCollection rac = new RequisitionAssetCollection();
		//rac.add(new RequisitionAsset("Comment", "Customer: "+rd.getCustomerName()));
		//rac.add(new RequisitionAsset("CustomerID", rd.getCustomerId()));
		
		//add categories
		
		RequisitionNode rn = new RequisitionNode();
		//rn.setAssets(rac);
		rn.setBuilding(foreignSource);
		rn.setCategories(null);
		rn.setForeignId(rd.getForeignId());
		rn.setInterfaces(ric);
		
		String nodeLabel = rd.getNodeLabel();
		if (m_resolveIps) {
			InetAddress addr = InetAddress.getByName(rd.getPrimaryIp());
			nodeLabel = addr.getCanonicalHostName();
		}
		
		rn.setNodeLabel(nodeLabel);
		
		r.insertNode(rn);
		m_fsr.save(r);
	}

