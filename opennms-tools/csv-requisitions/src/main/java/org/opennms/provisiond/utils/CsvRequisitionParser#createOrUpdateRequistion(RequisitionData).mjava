	private static void createOrUpdateRequistion(RequisitionData rd) throws UnknownHostException {
		Requisition r;
		String foreignSource = rd.getForeignSource();
		
		r = m_fsr.getRequisition(foreignSource);
		
		if (r== null) {
			r = new Requisition(foreignSource);
		}
		
		System.err.println("Creating/Updating requistion: "+foreignSource);
		
		r.updateDateStamp();
		
		RequisitionMonitoredServiceCollection services = new RequisitionMonitoredServiceCollection();
		for (String svc : m_serviceList) {
			services.add(new RequisitionMonitoredService(svc));
		}
		
		RequisitionInterface iface = new RequisitionInterface();
		iface.setDescr("mgmt-if");
		iface.setIpAddr(rd.getPrimaryIp());
		iface.setManaged(true);
		iface.setSnmpPrimary(PrimaryType.PRIMARY);
		iface.setStatus(Integer.valueOf(1));
		iface.setMonitoredServices(services);
		
		RequisitionInterfaceCollection ric = new RequisitionInterfaceCollection();
		ric.add(iface);
				
		//add categories
		RequisitionCategoryCollection rcc = null;
		if (m_categoryList != null && m_categoryList.size() > 0) {
			rcc = new RequisitionCategoryCollection();
			for (String cat : m_categoryList) {
				rcc.add(new RequisitionCategory(cat));
			}
		}
		
		RequisitionNode rn = new RequisitionNode();
		rn.setBuilding(foreignSource);
		rn.setCategories(rcc);
		rn.setForeignId(rd.getForeignId());
		rn.setInterfaces(ric);
		
		String nodeLabel = rd.getNodeLabel();
		if (m_resolveIps) {
			InetAddress addr = InetAddress.getByName(rd.getPrimaryIp());
			nodeLabel = addr.getCanonicalHostName();
		}
		
		rn.setNodeLabel(nodeLabel);
		
		r.insertNode(rn);
		m_fsr.save(r);
	}

