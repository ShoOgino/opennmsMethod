	/**
	 * Flushes the event in input to all active sessions with clients
	 * @param event
	 */
	public void flushEvent(final Event event) {
		LOG.debug("Flushing uei: {}", event.getUei());
		LOG.debug("Flushing ifindex: {}", event.getIfIndex());
		LOG.debug("Flushing ifAlias: {}", event.getIfAlias());
	      
		synchronized (m_activeSessions) {
			cleanActiveSessions();
			final Iterator<InsSession> it = m_activeSessions.iterator();
			while (it.hasNext()) {
				final InsSession insSession = it.next();
				final PrintStream ps = insSession.getStreamToClient();
				synchronized (ps) {
					if(ps!=null) {
						try {
							JaxbUtils.marshal(event, new PrintWriter(ps));
						} catch (final Throwable e) {
							LOG.error("Error while sending current event to client", e);
						}
					}
				}

			}
		}
	}

