	/**
	 * Flushes the event in input to all active sessions with clients
	 * @param event
	 */
	public void flushEvent(final Event event) {
		LogUtils.debugf(this, "Flushing uei: %s", event.getUei());
		LogUtils.debugf(this, "Flushing ifindex: %s", event.getIfIndex());
		LogUtils.debugf(this, "Flushing ifAlias: %s", event.getIfAlias());
	      
		synchronized (m_activeSessions) {
			cleanActiveSessions();
			final Iterator<InsSession> it = m_activeSessions.iterator();
			while (it.hasNext()) {
				final InsSession insSession = it.next();
				final PrintStream ps = insSession.getStreamToClient();
				synchronized (ps) {
					if(ps!=null) {
						try {
							JaxbUtils.marshal(event, new PrintWriter(ps));
						} catch (final Throwable e) {
							LogUtils.errorf(this, e, "Error while sending current event to client");
						}
					}	
				}
				
			}
		}
	}

